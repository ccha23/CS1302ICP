
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CS1302</title>
    
  <link rel="stylesheet" href="_static/css/index.73d71520a4ca3b99cfee5594769eaaae.css">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="_static/sphinx-book-theme.40e2e510f6b7d1648584402491bb10fe.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="_static/js/index.3da636dd464baa7582d2.js">

    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script src="_static/togglebutton.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/sphinx-book-theme.d31b09fe5c1d09cb49b26a786de4a05d.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe,.cell"
        const thebe_selector_input = "pre,.cell_input div.highlight"
        const thebe_selector_output = ".output,.cell_output"
    </script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-2 bd-sidebar site-navigation show single-page" id="site-navigation">
    
</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        
        <!-- Source interaction buttons -->


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
                title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> Contents
        </div>
        <nav id="bd-toc-nav">
            <p class="caption">
 <span class="caption-text">
  Lecture notes
 </span>
</p>
<ul class="nav section-nav flex-column">
 <li class="toctree-l1 toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="README.html#document-Lecture1/Introduction to Computer Programming">
   Introduction to Computer Programming
  </a>
 </li>
 <li class="toctree-l1 toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="README.html#document-Lecture2/Values and Variables">
   Values and Variables
  </a>
 </li>
 <li class="toctree-l1 toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="README.html#document-Lecture2/Expressions and Arithmetic">
   Expressions and Arithmetic
  </a>
 </li>
 <li class="toctree-l1 toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="README.html#document-Lecture3/Conditional Execution">
   Conditional Execution
  </a>
 </li>
 <li class="toctree-l1 toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="README.html#document-Lecture3/Iteration">
   Iteration
  </a>
 </li>
 <li class="toctree-l1 toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="README.html#document-Lecture4/Using Functions">
   Using Functions
  </a>
 </li>
 <li class="toctree-l1 toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="README.html#document-Lecture4/Writing Functions">
   Writing Function
  </a>
 </li>
 <li class="toctree-l1 toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="README.html#document-Lecture5/Objects">
   Objects
  </a>
 </li>
 <li class="toctree-l1 toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="README.html#document-Lecture6/More on Functions">
   More on Functions
  </a>
 </li>
 <li class="toctree-l1 toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="README.html#document-Lecture7/Lists and Tuples">
   Lists and Tuples
  </a>
 </li>
 <li class="toctree-l1 toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="README.html#document-Lecture8/Dictionaries and Sets">
   Dictionaries and Sets
  </a>
 </li>
 <li class="toctree-l1 toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="README.html#document-Lecture9/Monte Carlo Simulation and Linear Algebra">
   Monte Carlo Simulation and Linear Algebra
  </a>
 </li>
 <li class="toctree-l1 toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="README.html#document-Review/Mock Exam Questions">
   Mock Exam Questions
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Lab assignments
 </span>
</p>
<ul class="nav section-nav flex-column">
 <li class="toctree-l1 nav-item toc-entry">
  <a class="reference internal nav-link" href="README.html#document-Lab1/Setup">
   Setup
  </a>
 </li>
 <li class="toctree-l1 nav-item toc-entry">
  <a class="reference internal nav-link" href="README.html#document-Lab1/Card">
   Card guessing game
  </a>
 </li>
 <li class="toctree-l1 nav-item toc-entry">
  <a class="reference internal nav-link" href="README.html#document-Lab2/Calculators">
   Calculators
  </a>
 </li>
 <li class="toctree-l1 nav-item toc-entry">
  <a class="reference internal nav-link" href="README.html#document-Lab3a/Improved Quadratic Equation Solver">
   Improved Quadratic Equation Solver
  </a>
 </li>
 <li class="toctree-l1 nav-item toc-entry">
  <a class="reference internal nav-link" href="README.html#document-Lab3b/Big Number Conversion">
   Big Number Conversion
  </a>
 </li>
 <li class="toctree-l1 nav-item toc-entry">
  <a class="reference internal nav-link" href="README.html#document-Lab4/Mastermind">
   Mastermind
  </a>
 </li>
 <li class="toctree-l1 nav-item toc-entry">
  <a class="reference internal nav-link" href="README.html#document-Lab5/Pandas">
   Pandas
  </a>
 </li>
 <li class="toctree-l1 nav-item toc-entry">
  <a class="reference internal nav-link" href="README.html#document-Lab6/Combinatorics">
   Combinatorics
  </a>
 </li>
 <li class="toctree-l1 nav-item toc-entry">
  <a class="reference internal nav-link" href="README.html#document-Lab7/Cybersecurity">
   Cybersecurity
  </a>
 </li>
 <li class="toctree-l1 nav-item toc-entry">
  <a class="reference internal nav-link" href="README.html#document-Lab8/Information Theory">
   Information Theory
  </a>
 </li>
 <li class="toctree-l1 nav-item toc-entry">
  <a class="reference internal nav-link" href="README.html#document-Lab9/Monte Carlo and Root Finding">
   Monte Carlo and Root Finding
  </a>
 </li>
</ul>

        </nav>
        
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="introduction-to-computer-programming">
<h1>Introduction to Computer Programming<a class="headerlink" href="#introduction-to-computer-programming" title="Permalink to this headline">¶</a></h1>
<p>This is a jupyter book for the course <em>CS1302 Introduction to Computer Programming</em> at City University of Hong Kong.
The course aims to introduce key concepts, techniques, and good practices of programming using a high-level programming language Python.</p>
<div class="section" id="course-intended-learning-outcomes-cilos">
<h2>Course Intended Learning Outcomes (CILOs):<a class="headerlink" href="#course-intended-learning-outcomes-cilos" title="Permalink to this headline">¶</a></h2>
<ol class="simple">
<li><p>Explain the structure of a computer program.</p></li>
<li><p>Analyze, test and debug computer programs.</p></li>
<li><p>Apply proper programming techniques to solve a task.</p></li>
<li><p>Construct well-structured programs.</p></li>
</ol>
<div class="toctree-wrapper compound">
<span id="document-Lecture1/Introduction to Computer Programming"></span><div class="section" id="introduction-to-computer-programming">
<h3>Introduction to Computer Programming<a class="headerlink" href="#introduction-to-computer-programming" title="Permalink to this headline">¶</a></h3>
<div class="section" id="computer">
<h4>Computer<a class="headerlink" href="#computer" title="Permalink to this headline">¶</a></h4>
<div class="section" id="what-is-a-computer">
<h5>What is a computer?<a class="headerlink" href="#what-is-a-computer" title="Permalink to this headline">¶</a></h5>
<p>Is computer a calculator that is bigger and more advanced?</p>
<center><figure>
<a title="Ccha23 / CC BY-SA (https://creativecommons.org/licenses/by-sa/4.0)" href="https://commons.wikimedia.org/wiki/File:Calculator_app.png"><img width="400" alt="Calculator app" src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/48/Calculator_app.png/512px-Calculator_app.png"></a>
  <figcaption>A calculator on a computer.</figcaption>
</figure>
</center><p>If computer is a calculator, then, is <a class="reference external" href="https://en.wikipedia.org/wiki/Abacus">abacus</a> the first computer invented?</p>
<center><figure>
<a title="Encyclopædia Britannica / Public domain" href="https://commons.wikimedia.org/wiki/File:Abacus_6.png"><img width="400" alt="Abacus 6" src="https://upload.wikimedia.org/wikipedia/commons/a/af/Abacus_6.png"></a>
  <figcaption>Abacus - an ancient mechanical computing device.</figcaption>
</figure>
</center><p>Is your <a class="reference external" href="https://en.wikipedia.org/wiki/Samsung_DeX">smartphone</a> a computer?<br />
What defines a computer?</p>
<ul class="simple">
<li><p>In addition to performing arithmetic calculations, a computer is designed in such a way that</p></li>
<li><p>we can write different programs (in a process called <strong>programming</strong> or <strong>software development</strong>)</p></li>
<li><p>for the computer to execute to perform different tasks.</p></li>
</ul>
</div>
<div class="section" id="what-is-the-architecture-of-a-computer">
<h5>What is the architecture of a computer?<a class="headerlink" href="#what-is-the-architecture-of-a-computer" title="Permalink to this headline">¶</a></h5>
<p>A computer contains three main hardware components:</p>
<ul class="simple">
<li><p>Input device</p></li>
<li><p>Processing unit</p></li>
<li><p>Output device</p></li>
</ul>
<div class="section" id="peripherals">
<h6>Peripherals<a class="headerlink" href="#peripherals" title="Permalink to this headline">¶</a></h6>
<center><figure>
<a title="Unsplash" href="https://unsplash.com/photos/gyRa86ExKTw"><img width="600" alt="Computer peripherals" src="https://images.unsplash.com/flagged/photo-1551954810-43cd6aef5b1f?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=3580&q=80"></a>
  <figcaption>Computer Peripherals.</figcaption>
</figure>
</center><p>Input and output devices connected to a computer are called <em>peripherals</em>.<br />
They allow users to interact with the computer in different ways.</p>
<p><strong>Exercise</strong> Some examples of output devices are:</p>
<ul class="simple">
<li><p>Monitor</p></li>
<li><p>Speaker</p></li>
</ul>
<p>Can you give an awesome example in the following box?</p>
<ul class="simple">
<li><p>3D printer available at <a class="reference external" href="https://www.cityu.edu.hk/lib/create/3dprint.htm">CityU</a></p></li>
</ul>
<p><strong>Exercise</strong> Some examples of input devices are:</p>
<ul class="simple">
<li><p>Keyboard</p></li>
<li><p>Mouse</p></li>
</ul>
<p>Can you give an awesome example?</p>
<ul class="simple">
<li><p>3D scanner available at <a class="reference external" href="https://www.cityu.edu.hk/lib/create/3dscan.htm">CityU</a></p></li>
</ul>
<p><strong>Exercise</strong> Many devices are both input and output device. Can you give at least 3 examples?</p>
<ul class="simple">
<li><p>hard disk</p></li>
<li><p>CD/DVD Rom (writable)</p></li>
<li><p>touch screen</p></li>
</ul>
</div>
<div class="section" id="central-processing-unit">
<h6>Central Processing Unit<a class="headerlink" href="#central-processing-unit" title="Permalink to this headline">¶</a></h6>
<center><figure>
<a title="Unsplash" href="https://unsplash.com/photos/CKpBhTXvLis"><img width="600" alt="CPU" src="https://images.unsplash.com/photo-1555617981-dac3880eac6e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1950&q=80"></a>
  <figcaption>An Intel CPU.</figcaption>
</figure>
</center><p>The brain of a computer is its processor unit, or the <a class="reference external" href="https://en.wikipedia.org/wiki/Central_processing_unit"><strong>C</strong>entral <strong>P</strong>rocesisng <strong>U</strong>nit (CPU)</a>.<br />
It is located on the <a class="reference external" href="https://en.wikipedia.org/wiki/Motherboard"><em>motherboard</em></a> and connects to different peripherals using different <a class="reference external" href="https://en.wikipedia.org/wiki/Category:Computer_connectors"><em>connectors</em></a>.</p>
<p>Two important components in the CPU are:</p>
<ul class="simple">
<li><p><strong>A</strong>rithmetic and <strong>L</strong>ogic <strong>U</strong>nit (<strong>ALU</strong>): Performs arithmetics like a calculator (but for binary numbers)</p></li>
<li><p><strong>C</strong>ontrol <strong>U</strong>nit (<strong>CU</strong>): Directs the operations of the processor in executing a program.</p></li>
</ul>
<p>Let’s run a CPU Simulator below from a <a class="reference external" href="https://github.com/pddring/cpu-simulator">GitHub project</a>.</p>
<ul class="simple">
<li><p>Note that all values are zeros in the RAM (<strong>R</strong>andom <strong>A</strong>cess <strong>M</strong>emory) initially.</p></li>
<li><p>Under Settings, click <code class="docutils literal notranslate"><span class="pre">Examples-&gt;Add</span> <span class="pre">two</span> <span class="pre">numbers</span></code>. Observe that the values in the RAM have changed.</p></li>
<li><p>Click <code class="docutils literal notranslate"><span class="pre">Run</span></code> at the bottom right-hand corner.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%html</span>
<span class="p">&lt;</span><span class="nt">iframe</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;https://tools.withcode.uk/cpu&quot;</span> <span class="na">width</span><span class="o">=</span><span class="s">&quot;800&quot;</span> <span class="na">height</span><span class="o">=</span><span class="s">&quot;800&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">iframe</span><span class="p">&gt;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><iframe src="https://tools.withcode.uk/cpu" width="800" height="800">
</iframe>
</div></div>
</div>
</div>
</div>
</div>
<div class="section" id="programming">
<h4>Programming<a class="headerlink" href="#programming" title="Permalink to this headline">¶</a></h4>
<div class="section" id="what-is-programming">
<h5>What is programming?<a class="headerlink" href="#what-is-programming" title="Permalink to this headline">¶</a></h5>
<p>Programming is the process of writing programs.<br />
But what is a program?</p>
<p><strong>Exercise</strong> You have just seen a program written in <a class="reference external" href="https://en.wikipedia.org/wiki/Machine_code">machine language</a>. Where is it?</p>
<p>The first six lines of binary sequences in the RAM. The last line <code class="docutils literal notranslate"><span class="pre">Ends</span></code> the program.</p>
<ul class="simple">
<li><p>The CPU is capable of carrying out</p>
<ul>
<li><p>a set of instructions such as <em>addition</em>, <em>negation</em>, <em>Copy</em>, etc.</p></li>
<li><p>some numbers stored in the RAM.</p></li>
</ul>
</li>
<li><p>Both the instructions and the numbers are represented as binary sequences.</p></li>
<li><p>E.g., in Intel-based CPU, the command for addition is like <strong>00000011 00000100</strong></p></li>
</ul>
</div>
<div class="section" id="why-computer-uses-binary-representation">
<h5>Why computer uses binary representation?<a class="headerlink" href="#why-computer-uses-binary-representation" title="Permalink to this headline">¶</a></h5>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%html</span>
<span class="p">&lt;</span><span class="nt">iframe</span> <span class="na">width</span><span class="o">=</span><span class="s">&quot;912&quot;</span> <span class="na">height</span><span class="o">=</span><span class="s">&quot;513&quot;</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;https://www.youtube.com/embed/Xpk67YzOn5w&quot;</span> <span class="na">allowfullscreen</span><span class="p">&gt;&lt;/</span><span class="nt">iframe</span><span class="p">&gt;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><iframe width="912" height="513" src="https://www.youtube.com/embed/Xpk67YzOn5w" allowfullscreen></iframe>
</div></div>
</div>
<p><strong>Exercise</strong> The first electronic computer, called <a class="reference external" href="https://en.wikipedia.org/wiki/ENIAC">Electronic Numerical Integrator and Computer (ENIAC)</a>, was programmed using binary circuitries, namely <em>switches</em> that can be either <code class="docutils literal notranslate"><span class="pre">On</span></code> or <code class="docutils literal notranslate"><span class="pre">Off</span></code>.</p>
<center>
    <figure>
<a title="United States Army / Public domain" href="https://commons.wikimedia.org/wiki/File:Two_women_operating_ENIAC.gif"><img width="512" alt="Two women operating ENIAC" src="https://upload.wikimedia.org/wikipedia/commons/8/8c/Two_women_operating_ENIAC_%28full_resolution%29.jpg"></a>
        <figcaption>Programmers controlling the switches of ENIAC.</figcaption>
    </figure>
</center>
<p>However, it did not represent values efficiently in binary. 10 binary digits (bits) was used to represent a decimal number 0 to 9.<br />
Indeed, how many decimals can be represented by 10 bits?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="mi">2</span> <span class="o">**</span> <span class="mi">10</span> <span class="c1"># because there are that many binary sequences of length 10.</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1024
</pre></div>
</div>
</div>
</div>
<p>As mentioned in the video, there are <em>International Standards</em> for representing characters:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://en.wikipedia.org/wiki/ASCII">ASCII</a> (American Standard Code for Information Interchange) maps English letters and some other symbols to 8-bits (8 binary digits, also called a byte). E.g., <code class="docutils literal notranslate"><span class="pre">A</span></code> is <code class="docutils literal notranslate"><span class="pre">01000001</span></code>.</p></li>
<li><p><a class="reference external" href="https://en.wikipedia.org/wiki/Unicode">Unicode</a> can also represent characters in different languages such as Chinese, Japanese…etc.</p></li>
</ul>
<p>There are additional standards to represent numbers other than non-negative integers:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://en.wikipedia.org/wiki/Two%27s_complement">2’s complement format</a> for negative integers (e.g. -123)</p></li>
<li><p><a class="reference external" href="https://en.wikipedia.org/wiki/IEEE_754">IEEE floating point format</a> for floating point numbers such as <span class="math notranslate nohighlight">\(1.23 x 10^{-4}\)</span>.</p></li>
</ul>
<p><strong>Why define different standards?</strong></p>
<ul class="simple">
<li><p>Different standards have different benefits. ASCII requires less storage for a character, but it represents less characters.</p></li>
<li><p>Although digits are also represented in ASCII, the 2’s complement format is designed for arithmetic operations.</p></li>
</ul>
</div>
</div>
<div class="section" id="different-generations-of-programming-languages">
<h4>Different generations of programming languages<a class="headerlink" href="#different-generations-of-programming-languages" title="Permalink to this headline">¶</a></h4>
<p>Machine language is known as the <strong>1st Generation Programming Language</strong>.</p>
<p><strong>Are we going to start with machine language?</strong>
Start with learning 2’s complement and the binary codes for different instructions?</p>
<p>No. Programmers do not write machine codes directly because it is too hard to think in binary representations.</p>
<p>Instead, programmers write human-readable <strong>mnemonics</strong> such as <strong>ADD</strong>, <strong>SUB</strong>…,<br />
called <strong>Assembly language</strong>, or the <strong>2nd Generation Programming Language</strong>.</p>
<center>
    <figure>
<a title="Swtpc6800 en:User:Swtpc6800 Michael Holley / Public domain" href="https://commons.wikimedia.org/wiki/File:Motorola_6800_Assembly_Language.png"><img width="600" alt="Motorola 6800 Assembly Language" src="https://upload.wikimedia.org/wikipedia/commons/f/f3/Motorola_6800_Assembly_Language.png"></a>
        <figcaption>
            A Code written in an assembly language.
        </figcaption>
    </figure>
 </center><p><strong>Are you going to learn an assembly language?</strong></p>
<p>Both machine language and assembly language are low-level language which</p>
<ul class="simple">
<li><p>are difficult to write for complicated tasks (requiring many lines of code), and</p></li>
<li><p>are platform specific:</p>
<ul>
<li><p>the sets of instructions and their binary codes can be different for different <a class="reference external" href="https://en.wikipedia.org/wiki/Comparison_of_CPU_microarchitectures">types of CPUs</a>, and</p></li>
<li><p>different operating systems use <a class="reference external" href="https://en.wikipedia.org/wiki/X86_assembly_language">different assembly languages/styles</a>.</p></li>
</ul>
</li>
</ul>
<p>Anyone want to learn assembly languages, and write a program in many versions to support different platforms?</p>
<p>Probably for programmers who need to write fast or energy-efficient code such as</p>
<ul class="simple">
<li><p>a driver that controls a 3D graphics card, and</p></li>
<li><p>a program that control a microprocessor with limited power supply.</p></li>
</ul>
<p>But even in the above cases, there are often better alternatives. Play with the following microprocessor simulator:</p>
<ul class="simple">
<li><p>Click <code class="docutils literal notranslate"><span class="pre">CHOOSE</span> <span class="pre">A</span> <span class="pre">DEMO-&gt;LED</span></code>.</p></li>
<li><p>Click <code class="docutils literal notranslate"><span class="pre">RUN</span> <span class="pre">SCRIPT</span></code> and observes the LED of the board.</p></li>
<li><p>Run the demos <code class="docutils literal notranslate"><span class="pre">ASSEMBLY</span></code> and <code class="docutils literal notranslate"><span class="pre">MATH</span></code> respectively and compare their capabilities.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>%%html
&lt;iframe width=&quot;900&quot;, height=&quot;1000&quot; src=&quot;https://micropython.org/unicorn/&quot;&gt;&lt;/iframe&gt;
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><iframe width="900", height="1000" src="https://micropython.org/unicorn/"></iframe>
</div></div>
</div>
</div>
<div class="section" id="high-level-language">
<h4>High-level Language<a class="headerlink" href="#high-level-language" title="Permalink to this headline">¶</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%html</span>
<span class="p">&lt;</span><span class="nt">iframe</span> <span class="na">width</span><span class="o">=</span><span class="s">&quot;912&quot;</span> <span class="na">height</span><span class="o">=</span><span class="s">&quot;513&quot;</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;https://www.youtube.com/embed/QdVFvsCWXrA&quot;</span> <span class="na">allowfullscreen</span><span class="p">&gt;&lt;/</span><span class="nt">iframe</span><span class="p">&gt;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><iframe width="912" height="513" src="https://www.youtube.com/embed/QdVFvsCWXrA" allowfullscreen></iframe>
</div></div>
</div>
<p>Programmer nowadays use human-readable language known as the <strong>3rd generation language (3GL)</strong> or <strong>high-level language.</strong></p>
<ul class="simple">
<li><p>Examples includes: C, C++, Java, JavaScript, Basic, Python, PHP, …</p></li>
</ul>
<div class="section" id="what-is-a-high-level-language">
<h5>What is a high-level language?<a class="headerlink" href="#what-is-a-high-level-language" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li><p>A code written in high-level language gets converted automatically to a low-level machine code for the desired platform.</p></li>
<li><p>Hence, it <em>abstracts</em> away details that can be handled by the computer (low-level code) itself.</p></li>
</ul>
<p>For instance, a programmer needs not care where a value should be physically stored if the computer can find a free location automatically to store the value.</p>
<p>Different high-level languages can have different implementations of the conversion processes:</p>
<ul class="simple">
<li><p><strong>Compilation</strong> means converting a program well before executing of the program. E.g., C++ and Java programs are compiled.</p></li>
<li><p><strong>Interpretation</strong> means converting a program on-the-fly during the execution of a program. E.g., JavaScript and Python programs are often interpreted.</p></li>
</ul>
<p>Roughly speaking, compiled programs run faster but interpreted programs are more flexible and can be modified at run time.<br />
(The <a class="reference external" href="https://finematics.com/compiled-vs-interpreted-programming-languages/">truth</a> is indeed more complicated than required for this course.)</p>
</div>
<div class="section" id="what-programming-language-will-you-learn">
<h5>What programming language will you learn?<a class="headerlink" href="#what-programming-language-will-you-learn" title="Permalink to this headline">¶</a></h5>
<p>You will learn to program using <strong>Python</strong>. The course covers:</p>
<ul class="simple">
<li><p>Basic topics including <em>values</em>, <em>variables</em>, <em>conditional</em>, <em>iterations</em>, <em>functions</em>, <em>composite data types</em>.</p></li>
<li><p>Advanced topics that touch on functional and object-oriented programming.</p></li>
<li><p>Engineering topics such as <em>numerical methods</em>, <em>optimizations</em>, and <em>machine learning</em>.</p></li>
</ul>
<p>See the <a class="reference external" href="https://canvas.cityu.edu.hk/courses/36768">course homepage</a> for details.</p>
<p><strong>Why Python?</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%html</span>
<span class="p">&lt;</span><span class="nt">iframe</span> <span class="na">width</span><span class="o">=</span><span class="s">&quot;912&quot;</span> <span class="na">height</span><span class="o">=</span><span class="s">&quot;513&quot;</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;https://www.youtube.com/embed/Y8Tko2YC5hA?end=200&quot;</span> <span class="na">allowfullscreen</span><span class="p">&gt;&lt;/</span><span class="nt">iframe</span><span class="p">&gt;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><iframe width="912" height="513" src="https://www.youtube.com/embed/Y8Tko2YC5hA?end=200" allowfullscreen></iframe>
</div></div>
</div>
<p>In summary:</p>
<ul class="simple">
<li><p>Python is expressive and can get things done with fewer lines of code as compared to other languages.</p></li>
<li><p>Python is one of the most commonly used languages. It has an extensive set of libraries for Mathematics, graphics, AI, Machine Learning, etc.</p></li>
<li><p>Python is Free and Open Source, so you get to see everything and use it without restrictions.</p></li>
<li><p>Python is portable. The same code runs in different platforms without modifications.</p></li>
</ul>
<p><strong>How does a Python program look like?</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">reload_ext</span> mytutor
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">mytutor</span> -h 400
# The program here reads the cohort and reports which year the user is in
# Assumption: Input is integer no greater than 2020
import datetime  # load a library to tell the current year
cohort = input(&quot;In which year did you join CityU? &quot;)
year = datetime.datetime.now().year - int(cohort) + 1
print(&quot;So you are a year&quot;, year, &quot;student.&quot;)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<iframe
    width="1100"
    height="400"
    src="https://e-quiz.cs.cityu.edu.hk/opt/cs1302visualize.html#mode=display&code=%23%20The%20program%20here%20reads%20the%20cohort%20and%20reports%20which%20year%20the%20user%20is%20in%0A%23%20Assumption%3A%20Input%20is%20integer%20no%20greater%20than%202020%0Aimport%20datetime%20%20%23%20load%20a%20library%20to%20tell%20the%20current%20year%0Acohort%20%3D%20input%28%22In%20which%20year%20did%20you%20join%20CityU%3F%20%22%29%0Ayear%20%3D%20datetime.datetime.now%28%29.year%20-%20int%28cohort%29%20%2B%201%0Aprint%28%22So%20you%20are%20a%20year%22%2C%20year%2C%20%22student.%22%29%0A"
    frameborder="0"
    allowfullscreen
></iframe>
</div></div>
</div>
<p>A Python program contains <em>statements</em> just like sentences in natural languages.<br />
E.g., <code class="docutils literal notranslate"><span class="pre">cohort</span> <span class="pre">=</span> <span class="pre">input(&quot;In</span> <span class="pre">which</span> <span class="pre">year</span> <span class="pre">did</span> <span class="pre">you</span> <span class="pre">join</span> <span class="pre">CityU?</span> <span class="pre">&quot;)</span></code> is a statement that gives some value a name called <code class="docutils literal notranslate"><span class="pre">cohort</span></code>.</p>
<p>For the purpose of computations, a statement often contains <em>expressions</em> that evaluate to certain values.<br />
E.g., <code class="docutils literal notranslate"><span class="pre">input(&quot;In</span> <span class="pre">which</span> <span class="pre">year</span> <span class="pre">did</span> <span class="pre">you</span> <span class="pre">join</span> <span class="pre">CityU?</span> <span class="pre">&quot;)</span></code> is an expression with the value equal to what you input to the prompt.<br />
That value is then given the name <code class="docutils literal notranslate"><span class="pre">cohort</span></code>.</p>
<p>Expressions can be composed of:</p>
<ul class="simple">
<li><p><em>Functions</em> such as <code class="docutils literal notranslate"><span class="pre">input</span></code>, <code class="docutils literal notranslate"><span class="pre">now</span></code>, and <code class="docutils literal notranslate"><span class="pre">int</span></code>, etc., which are like math functions the return some values based on its arguments, if any.</p></li>
<li><p><em>Literals</em> such as the string <code class="docutils literal notranslate"><span class="pre">&quot;In</span> <span class="pre">which</span> <span class="pre">year</span> <span class="pre">did</span> <span class="pre">you</span> <span class="pre">join</span> <span class="pre">CityU?</span> <span class="pre">&quot;</span></code> and the integer <code class="docutils literal notranslate"><span class="pre">1</span></code>. They are values you type out literally.</p></li>
<li><p><em>Variables</em> such as <code class="docutils literal notranslate"><span class="pre">cohort</span></code> and <code class="docutils literal notranslate"><span class="pre">year</span></code>, which are meaningful names to values.</p></li>
</ul>
<p>To help others understand the code, there are also <em>comments</em> that start with <code class="docutils literal notranslate"><span class="pre">#</span></code>.<br />
These are descriptions meant for human to read but not to be executed by the computer.</p>
<p><strong>Exercise</strong> What do you think the next generation programmimng should be?</p>
<p>Perhaps programming using natural languages. Write programs that people enjoy reading, like <a class="reference external" href="https://www.youtube.com/watch?v=bTkXg2LZIMQ">literate programming</a>.<br />
Indeed, Jupyter notebook is arguably a step towards this direction. See <a class="reference external" href="https://github.com/fastai/nbdev">nbdev</a>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%html</span>
<span class="p">&lt;</span><span class="nt">iframe</span> <span class="na">width</span><span class="o">=</span><span class="s">&quot;912&quot;</span> <span class="na">height</span><span class="o">=</span><span class="s">&quot;513&quot;</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;https://www.youtube.com/embed/bTkXg2LZIMQ&quot;</span> <span class="na">allowfullscreen</span><span class="p">&gt;&lt;/</span><span class="nt">iframe</span><span class="p">&gt;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><iframe width="912" height="513" src="https://www.youtube.com/embed/bTkXg2LZIMQ" allowfullscreen></iframe>
</div></div>
</div>
</div>
</div>
</div>
<span id="document-Lecture2/Values and Variables"></span><div class="section" id="values-and-variables">
<h3>Values and Variables<a class="headerlink" href="#values-and-variables" title="Permalink to this headline">¶</a></h3>
<div class="section" id="integers">
<h4>Integers<a class="headerlink" href="#integers" title="Permalink to this headline">¶</a></h4>
<p><strong>How to enter an <a class="reference external" href="https://docs.python.org/3/reference/lexical_analysis.html#integer-literals">integer</a> in a program?</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="mi">15</span>  <span class="c1"># an integer in decimal</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>15
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="mb">0b1111</span>  <span class="c1"># a binary number</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>15
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="mh">0xF</span>  <span class="c1"># hexadecimal (base 16) with possible digits 0, 1,2,3,4,5,6,7,8,9,A,B,C,D,E,F</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>15
</pre></div>
</div>
</div>
</div>
<p><strong>Why all outputs are the same?</strong></p>
<ul class="simple">
<li><p>What you have entered are <em>integer literals</em>, which are integers written out literally.</p></li>
<li><p>All the literals have the same integer value in decimal.</p></li>
<li><p>By default, if the last line of a code cell has a value, the jupyter notebook (<em>IPython</em>) will store and display the value as an output.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="mi">3</span>  <span class="c1"># not the output of this cell</span>
<span class="mi">4</span> <span class="o">+</span> <span class="mi">5</span> <span class="o">+</span> <span class="mi">6</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>15
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>The last line above also has the same value, <code class="docutils literal notranslate"><span class="pre">15</span></code>.</p></li>
<li><p>It is an <em>expression</em> (but not a literal) that <em>evaluates</em> to the integer value.</p></li>
</ul>
<p><strong>Exercise</strong> Enter an expression that evaluates to an integer value, as big as possible.<br />
(You may need to interrupt the kernel if the expression takes too long to evaluate.)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># There is no maximum for an integer for Python3. </span>
<span class="c1"># See https://docs.python.org/3.1/whatsnew/3.0.html#integers</span>
<span class="mi">11</span> <span class="o">**</span> <span class="mi">100000</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1855734417546823747428055637305764334353238454866372923586736532155655566266321520610309928224814726192092073230855180758923690640509140176579786579349702035649920628672999598549855532553392404763757090835616466007042774515280967075870801112635294591138049455912532022660294271642798385037345799896336945720519193927801496761044501092109867018516367821212795893128097003185579783081887063314820237877688112181684295533780776235438689673825003435516984554885760676600066753894454081558432454093500766506874368609046368211879710319230077774220385202241102583512929821388282265804165982309806894223807590954054159176914248805521304838073107255228119836195530896584738142600955872728121362938704233711277699520961021217902491859670005037748212981439544675660589551600605097014079776620427662492889570584711989981433545906981890708345691526007986932027764792736293879829095362181656884853013821698827561100675207151870551111738718443915759031941919149847098952361092726626371613620476028742555755626176521385205734363292906953727210766105661250279928775112738139076090837210547769594364692729707712705147804256884908868964889248319217469455284097574014098057462860726168591621250983319681777378202963755243298610370839985726105577048602669725275500096056960028019462041362216382829647653431594535601627808262881811030210041066591713405616433394578415682957056709811435501680228667316669163381503450654402622408256335841366273734018388355041921784236518802178466991761094289713676324943805065703546978419449232479692479133138637792622574781265496453505679656830242318149198462753537051249182581671986245583870801746643065399719174217375806756832735171908902658113593790575464765425219324807294041438885657793819099916383645088296666441359537472857929222115652080166148526987095131623460454835144244944669398266208989051255260629688720587260963286737046494211990639832401923777653940297753806717733418247062729820032370722642045001009009252599340393297812750419760414648212144312159528876642047943970790934085812362709575772771357583062975219937927253297839783238786702770338912452782163285024320196997935238506143855277701419293880991413935962864980892065289712133548746140784860460298356422419267913441140074135037701024911181161978405960343450122227431660515414501341063431235895051835049152692304185220820905838355556172720392845134289717601431428617394989499672767938449218298796496316767951601970127848044921403113364764578695635793999528423028009820449509520380908185251684642691330273536474735915245742781363583392828320881255468721034072614292818478730711833583832950122058698489582131181985831824704673785557742123738414645663799028573170209061067199660304344006602500023129648603790728566206068229611504398835933418785191448088464027485603400599644260761691372095347056198955604635806422521233766105114093027601012398489765718117956304389880421251632904412951013945029117539221502529794165177332322839736009441622474543194863688473795051127023701744208383301934643309074364825736432121474295099872019309905381490932301811901156174761083794247499478763831093769583709153975879651227801386802528294025524133407346023167704990385276423091149160915886290012460234144146049994795647507714717982759314802189953466319883996253577175955072346328512564216684592268504519727184790142194897969413944457712989143996443626116132138296992911486550484659034572758137404063852195697941511713921446541454452902153618899903055315522157733881906881935308389812847482156382791292171926104428839511088152430907672526748906802444057508513836420591506320455093841754455727114264971974288379594668078574773977081133612709103987272937502849657726434916057362199077711209187370747616362100805009287258167072790155660112841560597582046954872821688830988893591400588226777495082880458722679241143970534703076308571962559740041582764444819445537285347625499597415903440470694746454834906161210710034559248136386777385376200796400781238977198275854820496882756620153337039344754163983352265332184776813181934983206303400697151525586585623871340074685345263715180721865008922572081212871026535328178308189537816051190309319573289690429970852763006708145145120340672204938053456170037389601857511831080457746503148057256083799070995986876498681248842263318410332454187345045161013387788871959676181791940729231478299669148041643786178469941364062525731437904518476238648064278016357886697639173817573708260627626974493328790634330264443893675675333528760529539982379866325628776892780804163794476462028640949926832755477369640382943816383369326689202667231127806717076746355543082707971528492512943048328372979559939018959949803162254926842840770252298766280963198354602909156200244653044302712651955776906026569188045571434835747421888528494403612609782753942478313053866563268025407787484856148473426860652232374055131685343421648532492716475234999662113526969658146679337340155444686097041982220481650816007988246517503858641926145314789790793209528714501805798002149131844813414630590373127621175953456986066516873895903530339928253881360636187239410111968236761501381624084246809645762403514908981532998259092726692837223786621288558866814525806835060568147006041229707398581153365551427049806169446799135420829802826721440502908022524880578051120276631659928425556118961594009771724562432838677088530526472436894528351407827014417936879360227083262966486295387192785428275199196394338251879575000441576877125902804151250240004464148259475800835319365133075144649298749848879946168033372970254603739564417779235359982904239394300556729617854270768285937043239208098890575149470109448836628195823637496930604584610849071702095966312849135571742676957766400961199986900861892922933731478165218820632204073960814437382140860117328473306190307567659663548056615257026219537892454005365003685458425580254064874700276811274116353456275541106606962379703893104125358552712891523670948332626552964510076527501131447517977201457062306896945585650957455926829184923856698640407346760700805360103999007618068547800209324806716435447321536152723639632457379048994308883460623182158820095654371829203001464800520488140591261365885681383679605351935935762949616726529301652311010271130312699239844801441422453371991388017448741912160400863594817164363590010264077562552391037725459790924177372342370742590907948358180354169138443038631824121482977471622890148385185215308029906988021390615676336443935514804018960398686305505295792555468639041476406976055524994074877740950116502061088800813984510028425190337787827702144296057432927110578154070431511569558893692252714793783819555539593016037307420244284491800439333116521986118219077272792191425482823318909436344587522321395623355854448780578280392779654207868865561287626320932953441631385362947976124494583514942607432722646306113060721333274059932678055093068391359228457361697103345155312081075224774421596444971455310961181077447848651559370495171597265133573324258085316165894512072973008000825618458114764754893724473681658917446095712055541611183391601910825014956202160551617240178866340433329963641404093824085252543492628004526731489586903481339414360945691198164672123978612696353056171418953775367377824014583154275640142113165976572977034731049820710760098337106724383417362253963807379549895085624992218168775503597929221500395184172039731415724993561362934856121886734092138369637316139424857437595185777371454351269431686864200883059196051114363640378900273655377215383697559042635869779481531979560286399466178543092820162292754243714522933092786564613813668377464402427638421397038626095713845621400396832984473880852570332711049624384821122741277889095886325568440535484209376535504516751590891614520392520142256174198100747679215991950547247191185269479252551852549177197787966850912439564842226037827555928675214742314343720672476842243753220600862631117144902254758281028077874440690755186865799161193067964458832364045632741738894505195164601911187144224815113503519227471848461133535703469436566277049109838162861905022646168872439158706769401027648506483707077290835330160172035277100323905705597273393620610036909790007940895990015793055521692877998453353122560293792658283732953610486138885505511810117362357327330962823755000318395451034256509552640815767985170048191766024109056460770220770965667502114927035349573486774787619127102034024212634451678720907331036371487271923366494581277186893009720083591030278807666083033839022791756025923142147311697546196077465284548324302980669905981039340843740692184190318751141207654913944463714236902089428356863701798272502050137927530412418326363588657021466876263818005232120460065237739078343783648349344174141251186121465327336898999275877992916253362959541469320305727138948398847202593917381286730453783211143456906431181196730059420350028370142079270085055666876947955205056214558412955018562634065912232728764073741817236000522267709804969096926247117289291188513887696571501473855125743527239040113296979427885435286000518347807274465193379452225018013316294280568648395418868146911014008312583731911731088526367405946029904595972777036543895407079510525592056659216457104293072586016523635165460122460326204315559225697396269911047732782715098819179221373183340753299715424478578566511837346601195693947444082340299696446507048569189208220158677471523116723087414706147967371528649626464713149201967685108921983019441269457871727915326192098838739397339097706692484955155852569846612079298556643810918738068650692063657454996967946735381680995432154369138695462407186746201946930447393031653185768520544848760839041202968273309292289702083347930978844240204866858592065931277301172338011202559968827070685574589523124168351294278669181217885817340831218780330580554575251575104343219966001851477488461055276597233855634849358361076768535726080384876605871934716727365147782893384614036895087430770202929708361138012347336491246592659571744475889676105226432713375842416261098383882209219027515830070527549511021421617036249792344656905974855259239852334564153099129253888841007799427156492534142311637379249844064532581706660827309670175502475800726809861099074491898670523516880303820109089930305746659969079031194828146834026792675828436968116493054207514865816242393753269676925255700911013452629812668829403844524367782192362595234392791012528343395370226629371461719536666877582005980222748627816882131470266513477300957334847894684608340911980402630443623024432853728000657496329248325931231218552858491476691452409031326832243611592303251826738089613339950306130647048276164067904137783029340356433577346431585262297614844815139803985496649976980090945542224257128501623686929189479008691254259339425074564425357967916021996697911023898850621727408171454216404038248950189601811247641055202643891327324563840845969446722390958596671639579209728623891525163557402693131830527482987892317132111414696019528556765708994974850239035986256837988221566755699582302211130536405664646560057126360128202491303105890304922582520102206431949445814180589470764757280210291207222689033645897034790717262495327127516224821174842976254890003880889490847351602026190326747290847590835878548468928805099411603872202198842302408715906416116167448040511825717275773286486122081616998141926696591412672657682826627531259123835892313273588390252247780830173772531191699220423712327042444976187416194167532300900010210212274831967966194299715469793260298519265647277295500803593507335379510851257049235975504470669646216975671870798957753773767063062991489496597838438540767382888817892892599691179719688258801109072056655685524608628660992332131139600683549170153530084951579506385947238949833942183888009685103264431218451177705317342157364931136029922588352850042622297243431057236905943620866333007094185894278042879443611027277222524720599047779471879294216708205861750608068039216898482068106718301819210109183940612599138560116730815795081710106968539216525579057074369272390274751859478768177087773734157338075160068182792485448031771694073811810014070469081470293638156319188493214501910142526211260062738570622545797136708219373333397164072034591039054525050876390632334483135325628641121819364376192007252272879563128036838503218459090916560036921531571070767556961271881859009680639005821469005069513435457875047319784620889751627243854117927298960984662985912336968588979201550670476065457989379475093886187996979172324680946236630376384817207168930626777521007822547690680359323786238055394419740388394597558586369009367584911751014075174854248896483520700084054716036037725185449076516537799786187555390276157581750445451348557120735937974784268234376816098203305717317032609453221138627115530994057965144009390551952694162384216807261782226555348822230521181477838827711519096135484610367186755437391605180775083421804860469477223904394577221807771625609018653488247819516625344481649531060224710213413322467750425399386008914235021178005939084258106432504181596787922204132458367086903426588316965474320105588608363706650979002054961974818755436061919781386490820408771362016119795994206064102033487981163971294750669372249694976303732867362682984992355953690455048331699067554659256793628328602078764749816638065821869165931469811398835154008191772075120305252495324132291851120094700369187124325636532890352622615151898367770070818651472058918924308846875847782090959108059912486497313614998747324448806967191423396387612551703026058802532612970388411916755689977973735218070463635100935708952317277884338514653912012264455137981532561596248514430303856062987927460993831400787596335000753634471038129667064214461594732926309449056954231322325504616753377625622003667039449661173702059077397400330026757958887677930693859136741234322430272221047882549141532876610237646394101353728503054128110016747282776348114709321177121471566710919508577555893329153119417287707968150803012386199215371938490890315226183058559876900460572555134310007408022436213035525823330806820538589256965515702376240694660733945980068263619259968619341623795055406538511541759274099200294291943682324390167475356549865531855281451887622868035203137867960358901911916211311950447645586850914374527458654411694611599366982197317150456407057067976219821671398347947249645551517831702126744885433840412760993697542759784733840099672232514454004212690689606060576740108187849031895118436642103790564674589542170120272187504550493212748133352401108958318800075504685158990952809076032422066409947867850383273545187712562196905264861230735193523216839504719535678313849461102810436708176580112796825585589658969545798552739521730043923973209912494148392384633090720269614154214814297352381162294323379394090805806285788385231944015273303617727124810461683548245026481624258982016091035248334048609925698415453005824374535742893528855517517432972350165101181130209750612476106078378338931872122186072208317494483709785329358253573044210275778400664802314405316491475414583061733843593380602711821782378613635495249915676080495134350127347194810276483917203014491479722616904355841203673019791771968238913909336851903110097558218367459466766381255343174888783357432277762599459986290979214820129113072173014724134161854279401408333567323133147556848785738326909790078485706825167340379786480632704175025675354261535076155083289680379614229769760948010728232913176068822725470938080751470288354753427984919314844416389576495278579598911255766038421990657668005571943877102772976647334418530761526477562360626145851739955665536738666832607181090316144241402572789764754203280916829214004892705865349538142920200467112344184638350203138695686474634189930368559818670439724407478252604474746482268930850401653051860201446363477493829495211303480549766989677915923815703811745900284749700110875267081132745282625014603999348945914743059646733427909332988424504772406914604584535476210298780079558312342850267843811170006484316854569028893334293116881948140385279218836171767289048198097748773946217007644576917270173268040461615313085413050211295872934283874059239223089029903503523305036969493704747065488920947235646979873453851041854531652374984849141434634850522567805627485457154813352075991637550833226620808338304508168446717658840165091619595302615096483003391370386822185251538549744081561033771631620799575381647347372142200921417352740226737734727790209468766943789766919369796876381387445428310076499238682486591465666952739016159972200943377379061826582913477754092079245387968121860895061067743291854883280674765007701264696919189354761244834246485344971453819232583044028823331155136575227352785305521492759929365966243414649346660656137151849062066072016382551123487313621893106664244453862956265908880470475303190969666456453313614992338625269875237353732631060966734667805219151386052368827727838176323266963450669375385143211074375579049622897360124721046717666188766210923279207033314729529782959974520706419349009460144087042198067872097564226075835406747676860953976651523093045678891901134207845805158432332015246931227117360798641600291784388739444675964213955675278292071150864947232396153865663492001834789275022390171584531741992481777055847066443258956628312074124365911653778495355198517064624782950547481467384683501247503937564733185841444892422565856980643170922727432493190007307131655276085545247079089052270393107725243235469901599214073336081299265916982051518948734996712771645902070366633077592769396162436707176678184614773708949567652072766408513148796071957909351680324124878759090998258811915961657269497291554173852416818316049335042137534175778300441350020389105041274146831582136623476560127417031631876001024819445631196709202314543773440175384756980649530779865115493164844187332282961585589502303142440105794927548195450579969855113194218815781209426953382005740951710478465158781912522757351194478541260272110100655379629886615624247498421575720514408529055733900837461619427368856309604358117069684608919011731867621413417400050878000149196306859598495359155997398117227944224654684590654787758527752434668444805976859126364558544696120006678217818317507161758449124927340325017827329253454999955627531479104337710870317897249348082118625281028391088729952280170579874726168745488025988364365414311731592781460287197940149573343122502660527035048415124162472540944162919341717935827526822684678765503074466167314442710333303484309137881977092178509283187072919096976566287694912359083913343425879184256272207380113452558477917281147448255551116158680126942082725764098502284702867465158553154326142829508124664558053266453750751364335441452877264747456116353646631261928351063087938149157879988543316593348463894018308578548362728729460283909830273562089222351756806601297707846586938358158090002770970323233534343845700623460229076847334121887951887606816891433167603775312415303061297489996505040390434844004153619410694353939770934223879336296505565073560472981662441231756017881267752085968239426919130294798374904931323211238172355446533459271960014555922701218836932017353694139316915770668817567518307587789343431650573741578953851037757933579450617954486707889240876161379623281084369712526608105657524543059194795581976572410239685602672343007708489430357004959965580204895378453453541194148548460060991664493832515672687853917101662357832111215783374623591339104712928072051145551963137568484812280643760802319397629594467891558377319935032082596110878325578708115455971110462333130034393729586475286539917079544619906906377012398707587238587088172609148417501680452979240717451897604619433467277827182446630403502514250001610921277874703126568673215532420317016880538509368947269302170886331377948342962514069540861809033637797143310741535272138498037074740756162322108348383934957629517419289722216543650953640212101955448482653542224897412639397269115029321158455792810543038389305390603239693474006057987820796054709949602849516362736157965543250245696924788827810077081286287405095754465976275290354076982682851169297038068723437836465575463601004768213874270248775564831847280609303255036886436390570349113654056136453686356146646606865177952248910876592541390262619707547850484243074222285301698411084951081668800177744084307397883415237503604532582448541605572218223073794046173738682685121024334925283135735044684704688962569639895573191400715526268295200310636167726000608930846277014627752452109645074651570165408782066831166000169177830188564139272844062407570435061896568291971657922460077231735085203328584963805311826752258951561111639310360728163778443034696091519776684218720657314815562765568743637027536283697541977064327527818702620901768755179903489305262183623051449927157425393195673726772471766660383464629487053440951167588785988185316542642979800913890086641980341414004671402952761914452333836024010283407254378855630311232873642700855433580849071588387034036558117989832012228340706180583200554973259206420816068485070723495052987049406155000704462929220010786372543377580871602800058758565034442879103849379126116473147588482983809917038506042157715985213841595127038305174306532258496041483298169181733998440285963262970243597711001029487814703957654515899312816790684425846030039865535321850911826344021280871737621757324706148618087822087734033132150943363307661057570298596954879117694605340474667041344540671070957298364040452060658429929651441417154394146274561541866171756915652450663974552114814740464342821248617991148540839164026205095758642671330822894881801290676416915025656701761132989474919033782791089852505698487518424941086183099869013589649587090014115405409902366704510628237995380822601465368619087662081923375999303274524145079573283683652919846924159103382039925509099071514777864438107525277169734440688061462806020417401523087364298589442937895387034173806037581640221211560369283282784423288575783530317085650761427652487683730379554895929640501898815993448695243496975286144399251750248686668546348467956385349332580556042595666253696804984250560238485973450840843329048296639735875825099173147667816715208282321130557021088742250764908598521058271846060827089966769586388278915801930170393265017345496745175483579441897514723946340195972103855353590429853752652922211300464729132528535352688656355030599204516538965349116628162335783271635456371019224747221942183259998102051942321078652508508498728857427096548156336277371955902548240287908222869352282743039116876467012533017703209335551843813505033554671811756432915568487872811993122946826605979325571502032980804599590429863107045688901489767927960714417230425040423356636131075898357798796108076336269748349815184365876988144145906934275408324287702206521177290931488468083977506912889919587761014679434079482290301259085410469124780230655530607510502567628387763015173245652609394111681645003706919631202294718421224849220269631502042385945427076922686369076708029965361863603394019116064490158007674846836714332804448210638937524282438622719978431754122348701903429822938686880691023895230709800073288239254910164510911045447060973245122709724932744819417353489809369655031230377983902750523558573012043863217005223139848394879128453893127513341716283189629257675459708647356430149212277862700279215158638688375575323885835343412198332124312250439249350351454323466092033331614689023620073074811096555074352579658719717228812703690269667780099420067872522277966536012119749480844089975776267359644825464735705024388975853895516209802468507582286240797455047518518084902332138636854708695742794482067402109761785277627008864465031967642440162290595198210199039234016667411261289513912429333454546471968265191894505553762822751056247759153289880951071618153694892334487855404983617353718385442606911347660937598406074195099186449242471359567511452354161979398971286898872802596116337628883170962607485994409455155247106655699272546041725089340173248056095149433577838457082586259543240493453382497351786100421533949223082263862579209682648897593844300280465383220355750316351704355381917282389494360011325053928886305816141586176612750355453959244244141359191538553429756627540295947297679930300901233460204784616000551843285356088318611172906927379499088439110783408138555900078949319157344263836646984365742497828654984475557996737084217709246469727942091434299415689438254896911978751851433654132554644611388474607809095764432600848212946309057685506837930278778457067563402175586461855627527066672320363857569203716610076318019653451975695583241247368552928051672613263382209018041618909425101715566866001240250691274360480690594941896733580492558445781294525623225082221003130478629977679445462462910127412611213879580636510670189282030051536722269124901452452003322649984983502123897496626359452566418373211258218382897558347838435428257061438052697240837883137550515693604388486980597495632830862663391384900775898552318045570489113513473745729931307456323134545422843310326025635800932319443113810413398156113828129464237123139451243396169876972968476300707617776782843118396435591331786073736811983550663259680445263140616660834771931415472307979410087431054651852999304112483425814329158845950689380372422926300868630184089170533419172947781535909280733643135030765648025831547189315459439745921384973612309872242467204749504876599429337444891874244201405456925713265780812548347931922877969605741594397895765306224101472839912547812029598440604030753182658680558830920570901910529446849871600633845499564315847901531973031777957251749712963979128356237215652861351449686023896603524834938929259267725632316181919370782408204972719458615965680293997954060630651574954517783022632687232601906897966836450683651022309380094572535662583460348641548410817755214797805534951753272584367999570083395602665833812143224561608366667422315504649512419883391545255756416957478430090049224543701894549834233598820983304132598326851153976032771618097902335923032177436591005406977168088479924861507486338813288626932727653462156518748028861943753644544477097013432149487339812579396908283671502951672376863985624866249768998739415846467213389669320044565933753669863609950496521135065761795100214678519292530420538730503651484959801700432941102732210316824130431347899716080392266356835661047041084640612280048694145830899905071860313063701054833356397847843770635798172714716398553624013840441135246887955550638528369355851309203721671321238277022873264738721501395936351656464408171343641171125177795379875734786394688902006151986108287263888390762160992010538665421801280960981978605447413629551792835660664995708302389238048777333154617053314800125566909142242657116537146119263136071909847548478169908232497995647560228915190650703027984850780872103769160341437641289039758079417998827591849356040578188159772948984205225501149036239672823603584429080357614161959943337389790103518841039706570011483032586341908140771675499661137881934979309228380242734042282628788939464046360942428309021394263268340889327715274463906871330870736145306398209880440335476300632004365482782707351479999096167600715724647274917929364733535587835454035361489040800533541708802445923550324636408523977279397457292303359198327557726448307723342359616932745752015959363334589470516253406979212219602718969204605673060825631224271360555584841812835568743204202302115969645270359965281289436898138886386328146046284186840761134906479355798122843304759190758709424043054264481678958976408909904153663250347454300451842646224205876053502541593621207144016731560157290675920289716955358338876587182472499385870177302937137949442872115356197632969968661226896547000599925422964946383930908434423071398345674104336783214742714928818496189206086071360724654602581932193218428625561089358563494063022683091469671250842630975546251493626820846630131229442439604732638919651129533806425818642223124241145817297402337718893713498232639087510288027255066442260993418504220268242541492248397881721808379138078901272304083061698331140554779485080692112302580045874637494395761132641275560403193558266817243998347582019692479698885550255588927368635084155799866677918887111530401100407671324577149562973175668257040270797013156639209429559286164049360130771345460633447155228163946210949510447963821352411838846961576575455104410619156318038227503255251689692579255857339234157639887945630773318978733810448104705007854410465689578643607587684249646599506034981616876100521834828556581294246081005260067146759047676889707217501783841827413314553574418820269522118536683318983139453542480167299083610212230141090911441278146921680937532236773365878590797845781116099862691376314811460703330796647939899704671310139786944561822466161744674901878729253275948813942650122194406236954049481177799920334602430786713255456647632876280039766511094347689146797262661390324133180135312444277578726642774925649987324079185610532430589784955095741436295126972859197268793189845975458366785055537863470076565149648043843811051024456668957599945468596103606446469042588190648816339132910081185151474057779052777644211510672968940363221944918214794775092849657250831115933447073380586662146633157517826031234742147051799367884769363181007534224167369292846962386224618156814731047090884344700074160366327489946092295286713827028690036946945442832883042624382034482464905727132154324490383454488471883226658430622687628750008849494430849895548528618700267157783372476307119068587790542536706445336114217201469366894344381652911346304731583786323621329036037697904573102155014378859181712288536701928905336511411296365726322939456117455343255230855711396398476567357635222004851878482025264685470068116835764959597386978620642577649388887615693331257446838964312817876737591227603244201900591655581359516036549860410733080854641460712091106955140910575445128198436380101499516115149057881446726072532812439751211721491847374185630059351958579416466971015274042039699389603032317316947205981313888203285156666729376785798393177287745340048420934983886176982871107467815027279463445124136608764361586149030392509301906224510834265234681448254920001184197408810201222052288914309923892651143698769167108230554810724381330972119321255427421705786247935918861317068228391394632545845513070536118338025309892106997136124234338125606314135685979206871729303246255935149440445190257127833447240331836397081650815245294936865530884234991618532058478634667621037881368146070884779702441907940106636463124372586999695859664545243159851702652686990304227940264779191424407276929865966784087771982775611080161750671598754026597045905991028321156429333518026840607208951906583956772116993109064424350389942287076972086243459630439223520451731576860115146295307449234504788704033250372102952508030708591656064564980373029589134010258572088634135047292336226942962278790305191119663682269545514270539952242036913803999823024164222066107827623609345153995843835722685371624246306748981106547919505770082055229628462634091032026560489525649605764093037542127908588163742905771170201605123114866838653699100125870247554488963043795095904793679544569034535719305333428795383155129460761443572271574455034283268143494248395887058880266851042348636577995299423007666279400233022503047352677472766318968421207084270896940426145046588911880916256902957032180601661604445283740216293130895967321091483719348873327331192081179703548668414247273014068943218534216508207966973840230004665224006821806661903567789137824891266770957391604813680433282932557592030014347028744666156470578441080605357002152078100478867016693902957288451064042415305303215452008596283471568509942183320927269720206466224923267066796396067085067927482832260603259407103362085607936012990995881634110737131071678908662734797801323268531946586280278108904538952155612317475691014638466445644535700508186627011048339105376778800012137714837832172432138533287874520560096592563679933048182531459504471647015303487930063746124702076053715905921320955308122450438438983413377933477554850818138462248845493520207358567567399184789430554670888265412291917680845353025607309611971516389659297283685053633612677350620879903779188563643996365638871630704638119966916187545859821463843491308661834729416753445354518292994987801385988053934964411495716248899236723554074767977323755907207017741069080496735564299826488370935669022238070583769871029057404952823136845592143017919293984056534284103023880445257087564688593246639962737172174849958055992635969517368033534762775737226591341326700155148588133063618924447475780023540030613977924198595179557199841998583302980130166612315268843073302226578306741722170015029387843713908984251437084714502444838633138795093340801076166030869095454627124451774035644176227941915510597576703095835172373691488675463889598077449494684806768717453923619714473227486379633927848088948114592230462842163461222752557810743383739727448618044558667789236535244299889914580962627053867591590927935455941426885376416482496987551834931679702489896426210537714481484930017861285918938388775635585743430819123635369012511175711796414192907921727543375901744221614874004358200567540010497859769273121180058072882252036900934695505865217613661382412844717094498836968419965182760199841332714775091469838338384997084178245633543540109286364267546349785310128682963969015360660772821128525261891911850822245284708219392054769944003367500931384449364214178182682049281583382304681950386275748028677492618703365960319687680532563975708157670255833300754195155670785056248665401615601018938015857101055313984072758169074260747684814764630243392441540889459505459687038386910266910678205765091370380787043186661977266840608188218590286163233412264226418979823738633332429794733721300273504763556912635027731803706533468913829266000307288826368143115434704227828047541014008103230279816596189703653148565357566078328606750031753728708177717150154784282787273885130344072034007653250110528323389421775074663475303926772406710827035905260250805840327426873897914263963507555756832165640416489170425493462823822794995833212872075620719259122489091348385506434296368855752712133014275338500020332418796037201015160766061331676672089468430225750696450663357121968907165036336075441265123692638279969829646980457865403401936288301460431059686327590372640934161954822430912067173746462524334364309779874838612504889069956775320308460064966645579648965614287290246991616871213358029166073041807233664086870719121726716234109125962035915823438968515000667609971220878840218533931386461766253168640502294942995062409656573727321064480230900622149478991031524728279441972887742370700185528694084738307185528552264872358506941027002922856538848892828313666835493366238132308170905627122237951946376109983609206993938863516068927888126734202784975385242612982982019542703876725626488082546566038502688090937846494579277160083204414683628114347203223278937648300665939014785356301012032535545012426153126739829289689149047934955593096096821254840193983221362535191610676095200876216002687291664959662462732894881316253192406961023659276346046312404175852285813706010152376324289570508614888073133657850639963301208714657055610859563827933216091793241828587933766599031554027873671797719915298160615925669407671352183673095596849562762097615588703972449138185194476133813341823630256531146596034215748454962198266437134620283961705194830764702888068693199655031940677191406052068423568230941214507229435973210253178704535358679782131034570593220061064343547808157262079220484224479359062487522448716574604086084322281020997243195021216340772585240187928222241534095884926191855260904498256512567946753427096540295378150222362592662368886091976161321613856059911176230354548439477728821288568287828585714379677759887518647548036542125735248183848317444848413323158370039226061984203855770963548383537963279444123956798012400558475958849321188865573384281667913920973827430341990858072021739681378563265512513304079338759638788316535244273412427198916433227067539212803373113691947149031443838472133603156106652964275673522631480076705627111946951651065845581160310456277853563464510151578627326514565937351212780396692065498344389168126254554118665256130882400895115855373346167033766097158075571643136753411532139646506819961212410517102950919397841121753983834201249014073892851091289952625860543471955998483751503887903267653395534576443033585578762953829149634773816873511994958746198912578708300831022866595409321802734129430144833093515283893517496499221508693432326090252694406506300477143685764469116247451613891646605229813873656324663624226374710936769781233972912554584399785260624226093524777434235996431428661343552451777844300377009425285006475400698458957224207730602936019059754165795247008744821855402004445321233836649192672400964918907570152902584609496408943841190516912053538410505338370904751273056050267842161027152953329160544493658930920912199115110008985766962759744515188460147487660534355071521003129765257822648122305117491267360901699892348999170667839869852180513444172651312534188902041582620311102801947118594279494493551632770948940448568141837948414735800506574333679375188715917892676207347072275504956011352030384246050520178552874836006613941853924678407731857062322594320597842478909877963574345855077754501561010209615515758272837695735824359997086768188622532122986396587338950576016337425673204973060235615922751662622104065050095898597744801206677943742015976156841619022947226458439687726139521848953376423455785660408253030435590148307269754965291252722953286065935288144271420568833912080718675254339958880942775003500217774608382569706425121092653261894757185606391427640885334781554354992292022282021870617353525250739799233845527079154601484505413307622898525605492812789751672644451311183231165922540626081181060920750466424189539871928191471334024766400350761960443909156437328720848707259907804910636859246672527585660698046465201269302641503085678434737662792699398822434778959075013613405979484938345344636860564313360232850152067787612922906798417810446541255848259540850622689831920745488466623131440089022543937985667187896398875237362031823551351921050355455356061921941403176574142610659451128300720948792791073434596519815391540713387154895582616278696276307063497281232764505642693398141265636742478163525809933105330119359173463380338372282614955261134641601935674972444426692400038578596246182197360372981684581187628413901790118776370042097069768556443231266670124726307461933926391164015445980416316847862341651888708532493978911017126944127769618999814239762267562047627495558753491801680226644310214947546879433360373841078902189992283245662042998204823944679011482194069016838516568768291300031250155331001399406372596887546311657031265073485858854818081487442660663107231176131272814063021558059669829224279111542412922364990947860179605211350426395258620175456417143154570412217006785487053582318704388156672748967227893113117326873184521947307945989326378425053609091862977257744778831351095824646370598411176338936729792192409018945520014463346492629150826595073306127887752613468428626198394917177225499896981903415215465261452188225388382866877763152904777888289565681864236499513882142411113715585893332563990213438039443841970972713404635433428490456652121252494420218020125921890321560942762435147075377743034173254561052985048400820918457386288758796682785619936016470076486258532046602378857735873352133502473057627509992009451284270828722618199052498789562718055865099296469205826252161736962242156414884190244872093732418223287505503616545514679677629885151833468215661880978325677980151587320614369465059065836468732998126679181789127303132658488156810589952717992029924656096972230486362252065264472910492955629003510392292435386065960128407408157866473535023519172075421240966244742241738709599311710156450902903139809774008600060741590291371354146597146371561110049932122388639588829732795687274980685737846286612295948673128283182880837528018706551917940202373691395382701963977769597422194732944005748446949327144763423862021154413757674939623867795585687101550735736964613428263673428778294835232688656189487561398855500685749952080414261435125687757166193357291019245341910228543415789113241337322629576474262938374515860578775387582352246832802463150064372884556363093420019143816289072364840708937633768504983122330780643278134589173418613059669045695059598959037612103251345950404712974607550706385952189313816190791052043316646724343395385891405241522839331911460232294038929866282936854046147094904589136431701817571315648601890098639777884295418474251016431267288715587930846115621380785219980804548278681124234499250366806385040637275348782742588700948982870083218607997967145058447556007735036046582249517239128551980292600563448036549840456553955893920849645728589327658455086929299383163567572023420182450754180082164980268499910726407880750816642744235366353853145586572319032146138643802114431776163696527133421521228255693845289491177588396917482752165682079438556731185425078045318406964866086764407408061150039593658373645117974320763283420144229342739088904434769772689467692006808956667320012115577222522070828348141473296894208063310146198117816429665649478030727214296644874061347383960207918653129716974055842818967232355148490788394914911482869383140489998169685927113498399887586288653858366114974707482573450122061680632706683699569453931831767429253105931702896952211840139053987881990683486699845245911133991109853187061331691076559125766166509984667334828031252205973617260892393336840530825172958749072314358081944313733359536753442983122214503371996951040899896243333802237480099789975706227897527533011918823254086391883535956577307434571741216804514139429824493671420398920471568522423954609398227179650842914343125215545234653605988816097740362133830482361635749764826678449088985125816753677171447188713451635518617048761119273416744363966374068021247451623077621427301398960669193143766198032742721921877311003203272566850964421247472278526028134972536387125956558138758079743389104600224468302833501926874445865710036533725987390271702306960684264726823744962900450144690978577512946087081710783073815040913763844531062332862410929107282478256844318289279664723339300443657175169224837646894753629669179926591610930846484693490153188378126085922649362842154367982664575229830053384911839862195816615528906388974534210086379156990529776841507229898767077754136917488509296464147351013471902305620342645641055505859996560184999145162466843275251073811280543013258640730544181782930751840894361719148740667759717908733742677291159111080211643946211872491342033218114277001758602500884202702217285353705830227586475029006395414789775548264812652244591159955426772253105376499116236935374746678315373647937095071127558033147244286212026659126892257366924245051572346334311224785595755008806408981065680502232400274650527550398229965153487891667881051031351574775020733640892917789904083441745023028329388826404700727161069312198292155046104989464068274772404934114319500439660473665097521738849764737449889010232870866667819507710879193434843258194325549194039570814744414247877927675476425909160810838949785931214632306018401448189506260257318964482738860494034659556213311765960163520589827367259260458548214850054994750669667027166439407967306411364167454696815582758707013191423853846796230250048186537227562001589909354080518112809272853001300070843055715590439283215465468788482854079133843607753185649265324346521696675631187752681414491520195465708680661582131309516086717100287580858559746245383633056141450890769181490376285811415110033618148158841044769349938289249462182312344545485054015561868622579817712824961543837235833665692309108091797602792605759565506455009971257264808963295512276511816260037623830410921058537381805599219969569742327555229695836310042031779868947067299442021988770331627160551471696273875753726145201923763612628245685385771645975554305588325107195876052699314438467335742346701634855645199474601415488291613056122567666724455527776013006802073644983480350403914218228643074200335560408298816205708241179109203515550191355613430206453107570630308375441274742934811179068193073274870317560136808588716158402038555717231567837591228098272428818904701015313567478971275133002584207230540273682217408422314798653736074494503550707111462252842590305447588498851873277241219187189470498389445903803730942741175108506921330989625888855747073936476852560910890347877769984069064683834640031904546593237418207951826276377166039620365579695252418924028206481358856490308924645527408925573814435879218297884158860127745645295069479088941259266021830837471981170065558946503724790571925819989151372276499762742904275595339809230253843970631291854213358227956520519720218139071479314428969158768605214764569543754938120037568263496819586807719728640347820757170067243240271418699696889572912580977186998473275749507012166821586736853500745267396343010141398705682108464245800066212260621938163502085454166775680674252552333063389429194485513607598263946906730134304140928565270957280659714569928825462108641978641006986638296415348843415719916203200322896546013762380496450945296115339509486852269162334765119996685006135086678962689021952018311178548819300846794482621107629577325001758006755298894062822038093384113055455974852631745923172522877507171351749697988509687082398610528104385088606243587448934956278222962357155548020398890582316760100030771243495053117403315986957931681012560081102296472033502622267670319774345165467747521135534037053431708911455166905122988729776398541742250685508250970636959746494936523575677506130730503533448576730433862133305631713990979705712296992169809456798813586230455150803336961663793694802484325453691495539449805192711115135748340278528489784686829328074001412798511188893092695763682395124622601311481553942584505096116156133800484854762483531134266095680024501594931938989570744518746051596282028634714722727358316957548622763276921566126306785867870718383702686974097971270955509250949705795538680012056589350442139175419449300408425639659400453820750491737372196763486562880049725418389935525190856471830191026410717543390856313617012526406983541749147478432431510225356933195769873871519385295230664895805744600740796640606335684515580060111252167270711345286566348852676948797842171738651666645377912605562892933580489038409325271629712757108304393707744360501254671805582422667100168128475271084992017693931332604763278937750886713982958027336763492037965532797978903440115490256562065711338034467350239275180545285939671187634155917252189963175239449111715606234373354592286648100172317380454245582471915428847385341910644262525092934028986946593458202597858826148140687688457285291868360643701180590887067204328065456204011793377549631723606995563737347834730262632587250228858584192620642137171377304284049057683191146842923269517458020569853833726380090422704532639174336876938057691891100138474630770750137513605716315582038881947149425164024993120720668345064280974427020748743656665275143906947546633294609342158030228059081137727309243447795084295504295767611635560916435830908934695417323954795909415529241393312792327126538579071542024902943237496836157251456050583723832706528984769264428381038080275736384913715101584816498370954227809999996729827487315112806348268355478396461412142871780832550374492165396050613604062842896259264117556285593998920477089997392531674480884058555081590745555195484516457826371685006501461964861885650925878978976432224107188780595841368273344282213057288534203286156865630603531742687501390912125754765960117438938941651730917231226653876388800585379435112497209471483904135352015956053470702183660599037296773995915863964721785856363672648733505187849854377761194143810995833142348137728481288131948501306632057041624382483007704959158609077270870097660490461334251722785567067870382703471703462373180939996484031775818710139149127517280675186464514085728020186162254513591248520687719448452761430495617554302122063750144678761569726385838227605676225937257790889997573818361553656375050061041159922497460572868174261381693039200147926539079060679956275228437676403268408119910679055979570800415431574439573182166239293979235826547227618818213490090482102212955852959213203995299879292334629023029626730135489950510631035601234097721336359485076819411583960905136218094734266105992658299502919552830328137910413793073321914891031089330570484418966706349610357020809940906691004110709967978382306003111190717258642813252473799873654040119049473864922495177679458961740476404095164559988985921800084197310530746941343844689521078399692665019285229139935205910541414887532572950247561483269546583878502087636654903788941462168290451942083564372863011801086215148724313370183173362060927922714976860767742943066089258201925852823771261559484101070960685342165096292249698610831355362833635703961291090577586782221216406284519509039924730733531571336477448230163032729588183784713435931301503674136070414263789738672981467569682094761852277370914718572326487364988766108159878265771968975347535746713337546851739014043303101625978970668917657486100192687661919834448514523957628466883840160266769052062322133585870074926202957428931105762366511786827517306252798639200747993060022453058021237689673587578566474920746905359556921744602901233891938065114948195931209892995586096429572970331025646963622471802524742860943969427536232052448778172309623254322356567503613265488577671458790512317349546517377744631169880703688642100323034146008711847068115999159540767595396727319976727004421607819968068790036739158433201915019575227600725251865623556545362982218934395840815797073808407835283720378998280728725124844157529426115506246329446768774937860531029374560443406358972003000579883034958870760732621683809989438237971518324851520913546048726144883681139044120793542854120775498379952250383287414879810762481053585531042636876096845375166039965907021362297843088585217339552218997927985149841255760217035224276448796210084892842613644733215668210002080180714501910059379324237919402046461980029118875700540764484164792521463798414548177643310963000958530856664528459368943715326185715478244954684710837714333231811872614735753012244470671070831811712643966501185498924917652572607084950995137440093096385080036154854444436326482456941096126950352338848481484353388316921951133108782704111077757535528523738296278766771268085457962608744335114148141354632661948443431817602443484729477682956327708083541326761372794268687212204374955834909292196510399168098710341645804453256659283868806984711144762742334789280999564481135982576973908661048220375059854803892302561212947505559868958489162677452974599224250780355207982933686290860827118260772871917208785979539741503746484366735759635241635510178753086459528014821408214472723593395085918879587074220131043420165261489331594362811139394429493295311996958049749204581162187214573376829753936699833104052732588249666690180273341405083801790517024349549091355825519391217052117435422662279171373138688041267044561378381835921499787992675606662293250714246473267776056210993970871280127931553140401371575893843704859191869414156951270024923402349321456575769576159106480045939650161487945926025267437118206429532925608686817098606376438297341342914054924086876327981914078033573619208172605961227632633299166185392830013196909962104903548178373960304957033725828333165362091513531812254617692725329804555458520848339971236057990024698334129270315523135683345363831603612654297943411935247542357051563905649831082521193844753649110289086364388045974069569285536883686725263475683663770107094573929694192383281626196468307095785426678686392717300190961216686057302762265572049232693572935896174049188378516344971207083323366221138988288109415946738694642530354276158069942163307641894910152092087479680003287306887823815241147161322310098780593919586960081874365076437324404794652270893993109954245084980336476916878500809201711549728950152409629455160807373058425060497472071467965170198306522600865221960866531369281114478469840262282635030183516444066341873834002072984255837644013695689897147062442293058318670486808356779677767323129482095282839753033393115870997745646179814958477332873349276952703400804023611378742223719341551249319248563576897315600241041471933970283312398881641309356171640767238130030750884680488916729361252479146298617067571658103434473559528156834673526214757781907767616784362628194530267544781809513135674181202960761734843577300796848596795408282760230529399428067008223719265622933163835092582131329278829727220756954798212892926866149417851252704168391228892742919469688295917194039172148348752784362275492158637785731245360042779434143547172128132219903914129580694024453867348838686484377145921655292793045673855127783626673379937235688829765820924211206409358984976446692784211122067660489050800604394008105885149857812614094931410691987466780221494502532895784758584223766255411749194570755268580509658893327548792492919485582317447006747798803735964069980112751212142044093759827085504373397618067293875947564870914884817476250274780053615374804906421290316698268980616939477131498963572426003261145467593075791796067788345238677480732391703576111839891720016571973320762193173101636172232777247601140867819103573435846343315075553143232330748857921719708765304202684521998469378662866676004230915942439752279564948104279918642287447700505967916376025425005458726427882170464797742616888028991090887386547035407720761996854905635458929698396103730378933952675031629800948382871807103129402553892113525298115282427829554322607765334799431417137962269013055418843896234971652830938031647811002608023193263180251123001694753397166319270022048841039674297611783807059121964240890697031064482038411653986718480125431996482859617343753000844560410265918424155591663413485882766122629495599819788923435894737346619473156917748647465475434593184812382769821772387590893934773650014082910127071879185412997122166949834331097700795053769639584019909936684115063594746520246947842348067310173280713074567961501100811667406859401515409708143460617800898167126587777213400153572927942553820073789023975955919174419929159009142492700954947324189134907649072759711639510301358133145291799425052555752908426290513498029476888825301276063256524934779701326397821175614293547517422754712433502971599766204769955722813539621065096690408917138516490062480067103471596897221616690841635445770624682606040112477400283127865513815568664074985607516782433984891766154810297302787425242009723684701226802078559757948222232676815305896692103970252286130175183038135171681009286902883977167655351713950857776920751264667518672725003863203632601309147462918692684724060298383109631828632879951877281153255360520689415869143771171403556685582064370711234724591320157716618911065007744104701155619758859856167318784953242549890275848150736933899893412832869702902829664684901943119001878543828779552456872040469835999792821079516946864999958613941639705486506748887589147103282404017141759435238225411327611958936099818399278392703015806739220358740807974002208880547447614789349965015768846306401806420577854903606782659819681902805740093114882358837982434396570185384705007376464559156019666373870714457552432103468258472777392569938349422492654009915284195662661948279836176028644044294331185516921001346146773006477733101110932807777944816668400891243972112777024365964460129412705627314947481403104831184330307538721835099296876480075034918522387329968218017297203925404521030547747599139460105004832594517944460756093687281814135690366592386755013990766272888794549777166089465911943183702820328661627113582542072298221354125000536878567091117541832607849590582146647169305700535685705380269059943565840869839260004943131419135043073564521020830409280537532973084322456563056210190526584990362381442480427208551231570487203074852155609126572221514356127498898909389637921406565981580427333244494257984417139441812891160139042340304806315898634552493375013349054905630437441647663223234575274773511912804557304182296332451630284809770149656880125510179056757767486893603312966069626077690608309390550515334188639004821495148673242032527598870753769387591017216288837941496683806891760991677444716535157527635943379256044918063728531705626404772806412007954236154525122884819843584059507515173625007972612193138994420766525489343861278933669985286431106103288709695988662836943536517338400255332507744722477952647016996903619156299112611248986927538175115234839580293166267109595944894327477507666623248037813970681137714706788441529591242742459003395967795603354291930880512459238642485637016945697253854401218009963696871253051654971553793568063237816238140616356987826061974749902093953448147081509418207079523660562178425545256385639300131995281629825586119584994260968425538232499626872590633586385989310367895245572840317151895712336840556929831104954302803403128479253981447620997528595529787633152484039209361483724121073782020245849454007607973484570828673751738211003102339379250587369030514741122918602410122816897395113762058646249602149838152862392488309424986272525120387342300288011427578266502069035841914764266006813817161856054391289362039565649084948899670893495253829085184213160379842224962317596019818377357561825163794215373647575809664688687253196236607073233296876482884157132509276278695532322789664804862249217586718050999064575134192480921587524347928874658253047137852733395163843272452661759472778611396535021773940138740152099347657423296395586555211130303373427375830090907059662938306467575035809705262301388570708050491023655714066996457616757763060708433503314628638719813255863663450474180824907929942563313432123284989617925721766411323896720933090058346917053956255601364705411512562043903927174856885053954550167534716273427104773963162042360983036259395393552280418281738664446724874979163818500119080383346859575573237722850641799084130883599979067585584077085226486756298650281375650283317841930457340331791794501669689921319463973557284992480929580379766204040441870846085500596595343994614932475188020448118300892970389240125271167387584674443151265029176911893199394244259816413939071139103274086037740858511216268997292246872591590774875541154944075285627280588398278409291920435250818001048833442283572238428512804437163631888128297152349001882588587222815411353293140222736468359934722710990510399868047008973266013847425869288108042270718921009720398698076273729610262452883145753914038422111518832463464057716100043101175832651298563609031993423165094602103289952844939096058186108859683668488367396326778483135923487641844969381758965236601206917881249844122228015560709732515289335857588788553133172327863001695017364280713739395937163054619629380227421584801337140201038248625425278584790688546999981664958492729959158093382103199915226917754352085822802508566034679349510573491851521801112864959173245319513016298366514812184527051834428838196427701732058374482871771654150053918145435686439588907970390818481738389384176856319294327277163507489173136063716552793132194654074549808485953782734879098947048371692357605712864737448608424802187077684610518540144572355090727338966382603607726882832608749619087479908511355504947339071027124717254065667275956365664086380262405439763003425629201733171999641140226983516927696632838675639186363834756271824042762146466521425001257303938508008950051216624225213121976293669493483219128589860269769463197274918534328333087436924624454825562034820423121275201941273264650698846035299723597253372821559425492115394978822774682101640874419850570463419834299875927801817692373964927966560607115040487857257466231843317889240263780945816785035791911577014592857204172259259071572998864014152209956152325739903399651862365093280631834532078326057131201547241984680028282374477165480748408129435078942388352467856122104702454395118974858585683946063010772084632518131109426597976566326926578843200340522506056000042331748129265299536874029183484663590622674069999296368969308453565952047622981044220902022779273868921167785494003987408723751560165115489747435394253548419491940085661347704897440607625853415622058918401676068213524119645620385606109538534530105337691761141392161633428233348955042224888714878715864530093531831324662702593172689211607230090696480633788365950278395173775001815948180573115296358312727542128347089016970713454482897092851090489224085813982507275546575584815248881350053471972467553031060332808666088194410772228828353549109437385538427670836491817371438934576956936969075466365992363180658653684245920971399453058459897973109958641222220842843336096411208911018749207391298229340628883811724959408216849887482003056072927888809308373555732958267892044839483630777115832671945144937796422184403351308649733583355958660498158633733585134273925878654099729150045431484951415314659159526909740714423987762670557990762469958312521756530833827573631828532090675062361907297004202385136207223636587704496889984526078255071665514912630044251188412383119638984132189055134698129915010431855570132083479217528110365979386732117546978923192407890939530245918810333247539410011861475581161316142120200081286155987070419486581859772139133824034054173399837588626114807321300344750380440021597317734350436292742102908103366415897874801551809297188111508997436368367215112514601684023652122948850241508682760716674595008612505053911380704838546648841548962003561716910457338783410078235436605089246509441944979909606334927327903111143500190914479667376400852945726595040045610661302873241795498731188341341173707829911475360231358563527808955309792058751108500370444251141410196288384701534497801839897249064917004736131461513947186648338910626534209599003765386880770891228224153648643265448123506675997890747100399970722885515818085298143821456555764940242140594280005104943151582433243302024665956599990211231546676795913387539547556405929737389538686951157196082023559014298551420983930448977252909981023624568127534533544075640177089979490437871600045147219410815090101879987648122366645175935005195928963862567401095058232777585676723956206591830731760985935931804643215456706197946908864093415030452553891695015815955751205710433114263652309634923990456279955956330223696679068604047163092230747543984606283087769639579688480378503861756288482819573096080492614486601320683675304278988030820623384817630487390338976500892094564980718961253324262636225946777488965532123472454123179897696151948043693756923571932462060384394295389377064146917411608066350050326034567605695575220699093248796305040775441808195626038324638203198400314565485604179850279880286226891103097475034960203046943791921877245373539151745759920918232065525961724599067833878972320695132861095248647883244853808854060568897850886121181322207304189584048093274985935570709438778220736825528094600472474932760459349221760524282800795274551219395984212342356717952090405218561425259320381918998933299782797908991925071911244583850068733346381045272196011571287050867493152726699925619977687727532948402503324979670737703919832334299809617941454663275283484259344300140944517624397648342507893393157262782342860507314725240653353922364560109110339494261602795931662525056685613224995450371506483976988849716342725782785945317900027870056848475428792647830009857855023197528783032915479988341442028202141756271862290753881846019631466306486048366807904016219123523196161777256797645413058546083970294565097172245632824842432748437685852437849564003220394682334822578233040145469034637821372567011437810936385126269152283085522593051376875784063891523230420337139782152525066081186765006247385722097205141340520798826324125617202111917904196286133120613215202289099215542043784175430336056778676270946698226654649592794661544361514071978679566268436363785397371168653541024310574492545032464742064056627820051954193770417028484038047103208553274571548288644234336734293860108999091527602578459155986015791091637040769186373081217243461279163497241363270049676556777275608697757169308738419071065669350002338945551797099219150197608415352258302260397481316397645079635202359063695552444169606575600759084982579551803345537947347229175702535133681959536748299879919770579208905024352410885753064183623432294186400254307641091146252812436670290740972828291728899073583749398503830162446881073583612084938924637490633748805247744467342001672069587816941024672278432400287611823587593241239127397697678709198400501898624213515619678090908091106578665790631441945641181712775809494843863002661830371803230790756020074515824739361346780757820033934152377970707826982787760651115147541559193572175269345959112320522261421929499961617126586243601514296267996923407869468610737621492992436019319526240038906813816327522882513365712466207392114590133553618757766360419014777469886705551696778949166012450887479706710755925025887354166701705098099074864331557295823639809343316921859497707780773138314209396623049085178539989332108831941261978865616754312525495427561062423875943769708136780970321297135566401954755875073473199566279364910517832400408515941421259290045530582716607415591117584980104297865492403626473432247502256579026073520576126294566765838748807982325756948839950024955091380536577568631255971979709543389847715662635369372408893916733521015380642218809579040041791468530872505184895842434743933582375295966761625794441514691106321307473590195743407646560697660394422048661893325910706304183302610098591196015690935983982369435282226862137795316858143396766899534039028932586276595561935137969303695016435858801915780533611282445334238443086575968160723246449619241571241011992471000823614829403314639135260358236908683967729541322200764876281805557677409729085830294292639887220275746763332985173898803680192695072692619545695328444057584063155100028838862529148600563636644703680732912698002029748310959315811268144049951984844147771383180457642115602225644378346712055647274849085815370972400629419764423292268843887782171249344356368022696663187239223970769331313256068329961894391788505132457287378128488521939689489391647843454359576185367926562233054698885767505318347300403838433489066427598447160535492235990721815033174741963536991598135074477663090737942151527380091661181456139361595916683997783823815633590453685022335820073187373604300836969683192118044895863219206797458742563975519458428259288136563592289179473705969379076136128915482182076629776100312374606407898055420453984863318043870293521156253464572437397431201950158956526613091519685765992898789871280756721864357769546345442490937480331859154578363559780014235460970898566734980127664402295160384149717690917229730995210782024490169683829097515677142128931942340737175811302350782635500174122151812146192017446216916636875059600024735860657539250461220760256626342924018407258095575164328492109667409848319364885206892582154253512439292031821502201643565758624468124568676875684475533658989271958656360161707374510247019801846127654459046800479933264520798995595214186228449389279660669467169391060162008839298326054444731890623742744014050262273805823634947812263039387665293395145781469426515928038010444990900006502393895747165409037293708574491272203683413948282176785189479068756506590530828929530299126677677478520188462044397424359332177075126291393343272217366373207822812257636255550884613006551000297889178904622401195023994579753744387673857840706798721962462873593702388512388528290992251667602678167753646739908372289671662629360674788711078355868035459487107752846625123333730329888659709883290850862989947115126982884094514306189721793171179035358990728262498949228782614649982369954333356703816612839506608821087591986442138755149358945517743675956894079334453565270357565350741204992038380787815340535464725150420123004082924056688685659813299256368106525434738703107918814803017026534167042858029373766386737569194826166292302317920773890453062585897836268341834070237487930781123400582129109077480670578801779692702375301259729504723393703368302174142108609241816396087574745470861474470436737082512306084063093235943342656651778031936394679949299058962813947509502212021309048530222058236672841557145314468517184416485188032543809274718885675827359187084430426203150413861129009517497598998453198905086619616404025942885917217328012659159176765481104729396238233411641570664432450918628881592222801609257351735707239858530152025971469488753095998455353354292554538911337281333267559148446128271139455677198799454121406248733236692234562645041102014581873700250030937806342848615843559824322125961721412043542473621365667529123349845862351298009243337338359826658876751662697639393859657117352478211889617931487486260786569757206906766202248555590502597896297426649821271169290054087708867744348600360456823721903744962909119088064967719988689645447748241083792620972411376510470924571030226992900852720487456635726255376226614246354104124514632799931891805356838104971504612666114781897873007361697750883017552100012092829281483179485563752350827854404629786843569794216443467567482285063085414477799343690881132726609252607867643130862724286264758324842806638249728183204166887292165343722569168462599331179794931428260037107657604433682454544515558337852047261825879676983989794751667348633831222404493760405105102816753961816539079755264032195884934250775156693959174361085513877313319751572076718291088881525554458631976055662599659853567360523952996923725175769546965082469164561803908987364530768629956664740457048317903465373571180636355075490765423969817285251941404810937734532116058604905853769430561533374963789374360557249533543678437536378235628561044503136466418452685020516227185328977185852169800378830013891963732388690618692074837332756131424984098758231854330324520206237319496382477078704253428034434317972681028223620688657690201882550608050204710598168096171388245686127998144624318022111536063158548054004430778118259952062371836243336960446937001284402281997554473977297019774479625923329098672523463583426493430253405608899492993669312122897946969245802102103480822764321900683069236767765387047609162259208209755905617072927505618522672167615179074511916692375882827653473845579829551329502830588236229407693964190729724256874579756454650295480082340965256963668081032467532954925997067881198398474866503452345349630475936696581833861206665540392058479462438357741242411173550423840723377474226080611266024963999800282544760754832529562228918483676007050748836384425119161852361840921654629682410180849186602822493795445157382395038155297732745943442846357878469090351347843127735312445889452198747075510815982099529947992681931139857366116382387528160377539704313452577609966809645621648809107023124005110283254810439003581816066948758347016049982063999238773695919423083148980349756726483717324432480414667327689082778495326980278508054748503871861639506817508796038410351793142739972659618735339959146761829701092266179427724618532890737725821184622412984662572835966165436310597131983897377358484616385540835782456068937576705578049737557760112840101921661037217464752733847944078992178162435375674774546443870549751757396536710581352150418220564541254540821263051062352748413528112329882137202230878009893504519883039207729465770656339847699728115370352363777525600998028742558979096355998295354791793417140774814410145657091576051963127850649893316962449133359175292341635985782802312166381809633488812784964794720111388171427648910321242663955978194239177639657257441627144243223280991305643541888034885302637270797516008680324963993061153320318307523870598393270652068567261165476094236227618651301351263189814830297228828248012318830173460638857297019710513939154715539825483462790477582934418202221960060185200087465060875612124284441369813268575863028313399149341859508664793025730144382957683679843284463869774141940118560736140058768237748165213876235027951517772603931280344005859423610748719539884611452043186093617026041157289185228491908424557230989516921442393575855201805091187919137277239514533055332383487600872321187299801432881013716802936849677682842532948893711083602798965619375581098858400643897602919031228444613584165935647982562239207669824850372703713947007795909908614909641666336244385709998561055981208156151610376650507335312922539987086289472955790416675647943396968430691236802707381844044020681010390246470555589408277349697007133583188029269582908109437840798563521279742432494746549452283860158174264610529891684977778989005032629294379791617903086860045901579638215704849143693923738521791506520442888645810449568285726664317410074006462469278688795776786088219783989610629673258046107874733547112301411048016270800209002166025521916629374659838487172168404342646393476854398566991405110933577052902817480012178675634522566519800839642847208652332204052921050904519671174946652706240211782553816792161937963502662957261639997091066602010421560245306096830577344995369644971066839385815173352184591431060063550757738829934334683628816966189091650730069530325626260461449043244261326647905940310256561546227393204414117067702248837607075625811198417569891065090682687378844090439699471365957414176067368883014179249259599699110559361232786341474055635778343137337746326677026220290861962210366999193076073252819692678054519642665126908908291298385011608207094697489724545872034527622171629545247210004701643197929737343208730879801130201230172987377944674502490184771280204754412981717485048112440200769153443258285908076545193909518756140610792083418729449211035592516249324472151641881076414664270453280157839365767013378160318118390992929756161565958712229952967752543921883736596646008306823121189122015297613063267219509775817987872076513492068562792189312319360827170754550472489327949472347622695667761044839580655211458018579685646764312624984800898157345575005739725830594590012231161064534607876929001277297541834922314297774351592125362645271004023085522451019768811182194570449368629585614456665164369034397266528321906882254673003565153700361019730626430329351978501333782136056968607576490205125200574719695766527815416517490417636252078089627913392165526539231763704403894208583654318195398289542675282752503647201477530311501656874133366067331927717964521599145164105850428340784869773117772372623481967916204559719154250015464772949256275306921487081694552222419812942696178780539251366054151148191688945582258828877274936511331624151576854493816921814035062157108053882060563709478018924893896975890064149003180716332689351588154107459870084401021200062788275006052525706051278298008447689427510090264558494582904495917746985426743224095495005965530141032516991622037499484482126351981087502133887475198694523840729279678743931185899554854345965648999033391059515393882406507350928432597029393524175371925809004329662780334784335014967868549877283975113405699997827870009392428013275466150482333033330762358069319547234951175730160801932041628794691082390030215427832544578788034598185941373100534095410036803644360634114096103922334386833926584799533784352018340216622379228250036960672622053451556596814375110167746647276969660157292356212404718251049960542249779406180070257222242608798502256289927143501224490177676762086177731882324941361256790388972109362200060087841441110219613245740021852560623105653617962431626973856969996213332761277461670652176451560273972908301082625569609193544423652317931149992815057098776881743698304038568190911869780874709574291424237129308137077304388042522271052168445018035009501020702901642919036079619436384609005132036283813445475893468310682488602478875330203865521232980128747117981702179299746152961701636493540036053418663160001007998467070134948286076490538352194268252954727692654062023559023755990724011533063848328641311996826233913653354562549587360619176368877835982945605786671007432494863893163821333438382807146084648968419699688023043384363764198044800787618690925506116271103228733300410441674058833386743693169865636860708473331862124341345890965217646793417215336342900175184735200400729700945680308654542443735297814443389650539061357954221636470842055207564720379537294260885429300840949816817093485105859293491558734444148235769709196160715526664516962524392142919763201863588080233148573665134374033008039961268815944672500802654650642132547022505640337536260187017884180370746276929060799076389972914114199229230612690494225797961122404950710257136632543125840084167265280959347416880506165102453613451884458593355186997040980893891012032433907963135897952526987734041878334154747388546932413972528322275844979736780796828932916280113168952240517369523205333826963703371624653039919331078402784006933326828562439895568947873815751316542496362261335973081397764596881728861077741185213950531371599096814102633507498888823009081010161704839620999079260661050403885232188432247492911566809806093147534093180570988996751519639547700282194815992785304332132278221372624906198737626073390541849746789025603392247998355332366532665283079634476717449532810222709405937018862940916783928594689959392172460820506511184937353496911369254447686602682425691498034594205092605694036982474266929807441373312636342504689178059972765328000872731990899525408367450550243139455049785896289487398894124371221408338199238404314265239852338129843722022094706593590344908707626457715153862818077417437800255003271226178278309695750506327008821799930792063239162543363189600180229296350976230290810804546297182964472586148429591192382926242626865013506221491727635932357591107529493658472680769519786401080010057932877130430735367031399029084854961025019311442386846548914910184278767257535349727742298491757015757439442119797382716742180921302063828690387472043293249635988533469549813921381128749465098901887203897142838156609305317828230653528346752293222072940852440127475452026924929638426391634307445984187279982736017479489398064575963618973969804945054082844141389730193469224949872720900446830503521807118765090969711062212311887075831406281226152706058483761784598349872779843661510016922109997847285678965020116925189612320459019495964299422749205280651627567252263363816693847517681043816291517728585799970193336047839460717468216697341042517877548654206501581138537410870471166511917886402862257340997795217681288054834287633993835163851396484922455387715117021492868487823605189649375119539603214862375887571474849681399392484075450691050937268061392942570137419489107906344860593735914657208237518249911298221725420790976021538581055337659072135076663525989693711556340384733790786674383677708109135601121738646898492447107502657391767939367788040522088977172046284364476663154926728161448662521993866785015594582516692221930897080555896011972612926432486145405294752355965881287616768991581743953455927794408341321818348180841992978163602159991314454118569543889369198233363078753553738293449800108662163425892890000841129568268196244443587517500128983609105075462411245685534225476419839410082846127595154578244429960688567048930845365541111951695139426434098333538163810193454521572914855991934728695749479916876617988857365794173264317285878071126277104492755596887842033382736133062325239119515855325968072595185154630601398709169121329475619230169965237813563511291851816014289164412092471770026108073024848057270174511413506494370379446376899855993473283485055155666171511050009472111053025408862903006000067349553481970211287155252952085523449014865130983241269449345206324347914952420315631774644622749401038871546238127719059488853033745499610079115345899152299967601669046403931511861625292784330468611912909418312415508815844029998733134667384983153678633795624320857820023421871188316042927577904638825302165998682266834972287742470712459147598057717137609033114485871349700458428856672619873752822936167051440764131290113780603283907560959649575540006602565045447042386840453550817863657644494311907456746481504257845610261949282885555032400587743713600408309932510403021615361514751237543556738294657680434590555055399257495333424872222643321292130590669635439698817466279403851595650300723343221490474774985265895537721717088438344372210740224461393214802078173200505501499587317472530838336593145534672775516425707815540606016595770977947842186434440354637798334022185326647986807831373996792061707008433946828363347946548003009924208356591511309006377082099021873812067876297056665380299500202177921323864858916678022737367240195157511480382923009137616812248773132954892798886288864639618498675481905835379902006529782132185475722214093039532301658748260085484207235064443996298418480813798619735422010737236842160637857262112104244890520586153904454824085768838880994914979934666075430344325630072028070443819366611751723858590889706598884688818986100481212825958785034360930419915945679334735265785568738767657577182077646741228696704891915799220431665101162819407669121868130610439646167026944098264579689563430586102438205109468468358987776051720955483986199365469757227362242173062331640064124363828269689578404673947688751647387037453747750371466624489953398494511956582070418502535992650208841017574430940851721089045878513043978079310171199353084928879444003342124183966517148004868687284127479292535469553923716161674622775134689784068258664527783057943600034031097052368449670813192959913337585005085897308925545993209729465053935771419775104010455020425551871573541365247681947695336381283480218057842587380446104369136583961003328059650280087769643960421802328017402374859340075498070701388482333381132576420700281870392193167689521072807459628367634410075536455181628618592270546377617636202909648136352941401417172606363686260759659034293508350417163636062452732528381001463026639582442275607603228465351087665189156731554822599698076310450766377882349589828667082137478451560070838623522469319684836422862669550924761569179873214699344954637618567752191655328068734928679214398585443626756869403104185074213719824153202211032333678599621678781534082086201308387622630664496675318178236547724065403879508242766716283271466680955546402972828631118752537264572145179199226621508042630944681961849575821757312700714226643282053961048169584665372258940483863760073150156391406158771131562542683128918467864288780586225950646642281217568137313179551461543125964661496030940625668133270503124490560876753153811971570159752064151944915423416348991783382751136740308628487442228462084074403153857978546932749451079066339618344794354779166043964204932940742137766900229106726756610555623772372811942362774354601993484432697955303259714268321945640844309590646307410649863236545126467088775152260259125843362393801947473548611547526432845718414092487127274697294049529045161734101349198931371544722247318843971235136434419079701329085463636348552796861926221496567203174957046345515391681866762991605849716029562019738724074873164278161377357189746355328848577672558428402902172544004648772523844050591854651807706755331730546545237679283626321262013426034776224900625261647034073208324007502785832095059340280566348186581799199501682237919785975579539820290022626131269644225323004124322329484346046100755745213423744164010665016362119747986851062060982116820895330167097853773219256584202435768697392545518627338253697430042385686832696985176807379211017443782296134595870870913859082389844809185658747757070539758829685472853325846825972042881865652435529879516193792263568436463928065266296650459988113327938460377900496058074890942872264243327957893487612611344846902012466999093282092194675626349419000190204470049185492453623444933695435009127308946701556844505962813281517576298539156075706082095622851514710510849076856398450274651179503924868481008887056120318171950410502715996822061143307095583756925472343706635289666986386819869007571774333757306069037125924902328274129870073595166808430213562706934077207342903251354552886249180405623032767347561510224268058257963890278032752175453065264676753670688143838557481601041545139854750224813255483020552332336192531195763863370734714776200196368153149203115456634442913514552079369102682890972707409196097552543072112552836499130004245716811183612308496147421959382832108828996979242403012823420709336474814429009389471376211053264608032039260922604783361726984000265848918639651283807690455375280766674151149547189543710130120825230938614455635024443627477773840461334536323097573941930453856662424836126021278980298640663598795662255784650940027151839470308138444818900417401329148897870432897769033021087934494636002892053054433462506438047850490470173601905687056478478033943160399225098972391871296378792835978499288749493690172183595684242080302603619095463164434024811998082792962945405200926382725079032095726162332205031998216802280113544518389666206272477834033886366374863179279622663337408587463259682794222167723360696869614372054453397630130589663946170814899769862779723571863576428042137545981342459871082432821331360018916948036968518399323304062202041133914478278952474496984435130970454439718474602107077247118938817829673040481807740892159805171341978334328837790197264219055226609576489610348165561728163951741294726141299479992820593470078871008215068192594389098888792961056206126022955065824401407930408402894986365372489034798955289594245520293290277321696864806323692593198654901928673233426465890153956839119618010528202426465151967531980906656522001730902690596084848646410528773065097964356567741560809390392665948742233999278864636001160525289652807873281220478498273313451724516519069652612020960677753843635237979857141770528066856332557559922079145597232718550231640410925592350930811714492190331745016909533129365085208440836664898109955986102302887952424293549066397787467222021769611604408883821529596458699694786199799739507253735073712779758807836847659197648043546443412233425791380900979019178664459156311250081189869968047029542988836808192256239894220879895881306585892963930137294075085474642972208979684749624797978158703927525602532059692291189273123191493531594807572237415232875492247952468593461302197575161853362244064573560573939614048973541514433147302941971310046909797095274410810205698597064006911441586001103566543231332412659637570428955906043938446812499828004807020887398163690446670102400036944484297735777964132875668030376659771034226467685603953151894145800505786149327944169717662500542575804300943062378489099729116260243027290236476794478779705308389901142155525282602602993118389464531580213133175284146457378900647045682442242066348091640992048613547124327071061287283288681256589415330161643494304895641031830193537511739423399329675425272003469489112513676852618202806506944844900688364080067485979727371198864750057616758436812960753743525631950805458523621626134258917332589648427308563284451308950080699119379257296518493994120081236355256546188123883219762620829003986027362814702257170210900435821804487122853332160236685701083877556904346779277965046806760569075827059552428878799297571927684489279765863860023593441982825087806441700481796476137223020787113272975648283377232156445228551008882481152279965944416734712553632010117254527869581861236123221329075296326429668570204614585437656928517388524759101867748298859266230832595196151911438997526220933573219716810912140769488828638292342887849571999500743372472599582319694767414161280423292856402452797453329980205159910293655704330460053890909766339596383140311495090639501080053122976672030014623418572466124937721176586412321056994356251658650882105703214470152290891272870773693376465762380862258254492239220872561801644127583322302651838369771180396689701599935239690444960645158420688525099273999089278448351814179495932314216860541656876272608783064949311674016838889459527313661149494725369770831786929989653623302226024527984246854364311791604081425056742453782809945402402650299132078397771087602166991602620569416877300965551666723265299991775880560637439495292613882741985616169511286251018660619444270166205005329227445473108504525672962161690408689049011381933639396750347226073488276846928330391986755101435994655271582491035089268259254641298822470598967794734066296484061571992622982171075318105675124656624908752472342974934138585668209738207359632755675830853156804151036201725022819523120886477484093533296762497739592285007647583042565100621038873450501941741524827746492472017832400428051568895349278356684100621137280113232346704137361344188002104291214507706875962876949270581979351241836989807129100787839815358801844636961064282397292510203454618548827134335590248460043248975076470424190094552542234813525283506815290290493569644494105167081674065062661179503429232503529772061676759862615888461418690489910279091620479339373923967131220670902754269502253320326499384487780305358596065125232962799983976715103410217270800991726993299514454399477086639864202390799483981011878470358105146269598094977058584115139333741462727678129291940404175883845664324711340989401379553535327872667056317883433624869504312445574474776996373467019849673028851588990493262384211537073035462151054021502639270611686057205165327709086126382291622246974444205033835346313815555827695738375514498369671971160682551777363281894628631717402868957026470197490034047774031413299363851503886742833584494435657140367340142777530731092944002222308470449834003009231913934010127820664097013956884080492799300165154929559695555812177471764600525183295966596437870370825151876764058356858969616723938635886776769060391293698181529561757623265254423204241613085090287598829954386168024003231876651055366113437115952072260179155388200040037089474451487443753659919893257008730585323857467391945418040875113178833500351412499756727602596406277557271693628964391638779293795336485602629231758416203003482991528005391920567520694344562077013688218551271273040414621049883170550196442669344915480896558892885257078266050647831470640462325009273957284047309478585963520439709354610284748210220435108041027952139941845132134890958322659611566716935030826309499017265697456204369035252264183840140218770620849519988716600744035741544619670488008945981341112684336090047114587663164925629894398948638546745993519099814605781780897494788781666149871236771843730272548344390483339267349933340006747652988724709951438683811185742306145521877642218020510948812654179105618624963751736881476510458979631101400827075832461731943973411077830767510260520975375771198065488276910228780482315206274897178838948049558764561238070905630334087992244438268726209731448954267848318342629570501566416206117059648332151877717706777659624128070759178659014292207355088607859172940730686074571560207283346909789865081944317684727622207856499986790089812165619355527729086165693205460069821132623537949936148701717924199040068367157574510316465551309709070895368640909305571854306084996283965053698278775548618106568065031171450985428938955716677477144604177363717063846429783163302846620755285041003481216256236455839975202414312127708558820608487555256794394697301263885848123555801609030473751526468413858148147799999864813263701833546996647360948907544551338147108806209724442456383905007869324920321226679057397721038136804050222766104932796478408700140424813378535771276816427920759378775705789210516506292709332604473872320032249776579169793613240797902831111272376226989885698717693691804049159055638032654507905662073552958009958109195743403116883312256119175675527402871776371456609018426241953603101516661806580312864470755995205038391876632273004777689934835101427574890451300791658433956570349994779317289149933651371547398657557196508044594645588713813450622684510314751719587908414310972906127549796152403834105011807910064831035993358595927407830510166046325318368732317572959588549782432379439819136312413316553719295240952433911733569594053884747483185361753894609874451279789285228651364304444787198837620012846901300153368508524035508881439023512596538467804740763275418354166716978082502521571025469512000090065905637692240164055096867989729904655448687436569808079873055086033356914511227049509024150503523813595919345924561677793615670079881907496703873660502306853197963890956134611887105147328492621049890962971951807979090988702773545941781049609522310147548299948430252607243515322544398054177056285237297252841464693043750304194196094004888286510797587149515787032305524534954234566680390999020074419194078817430011187456484992073441907782222049759399075074538143483168022765794668020509321004426029473407423251411018843085842405178916509255330774502127097026585384017422736143178771472548704535685014833201625844738462808554908236926420453130203079841715744312973745746383939779872808877617111764662873117864629504751682798497408300993827384146134493176672997340280305458317364798439639902255431511602246888232668935876354717383220710279627752725725042652260452158141454632788894294322078424170054885196951617933006326360840763896954750352010764718287813614374264305822373644715419209795383294529753636929328776272833564382249845240127136297989905446878885843121737498891951152125447667934389677077007839559241969567717169024865511650350820415367982750821861251398767483795766371151117136637822511435052200307812122426408347188363071493001957465972459060974478425100275122188406446411909923185879117855828332854063716837959536884505189572083575368162993787689946830400252234896224997910233730697532966761145661778316909906195695437344996586184584570296856410977034460493217736513812193878397465519697162580060813597624427627596869890704595442653629995757902553170392459197876305390383003186580959864123711694683817443995678035132390086713277754641085186830480343642639263376016424485190719223923360433957064878707229337793831807770368120108966437454240953148972004190508302542223942324895271071783636425040239789264240089722329205519584434066562868503418035934104151113787564323388750090689406563810818673193572848986481646487041420548242751351559568375241647223444488293478043861325797123416666538185515298182999479902907605007829253846948176730496021527511750553759953007805711853188930890586576722076717957620353797597909145516077650613051220929247558854655990209739995086229860334683425414709950622631810499662423594506536335446964379408131361581088126771082172846801362553654127613959168849249157979680311690666915190745701485688757183830681349788458627782853267223406026620673089909785400417854950885936414572286102224014600918004071459582233995570789134514402637734851633706838376351179171788279974122555342284459588196930130038439650772204266113929026814699571881241223693873897992948243008126801392059011260668747346144998271105210798745304649221135087308705357693234422128013816961813876717456259246876913200970945852445509144220386956775854939790444136047397019200143774136821931039160273074894033232486070267671018940758024628533216238133710400491121628687832399264579823085252945272401508260071875010387220374927872232961086745649591466945991844738572200292717851307940572928715948491803726891731975932162445637279384492317050279675200144728556161388251017371154146263499174954337486572790339493064859462501785984791822350216671170941029152113876824398006032177180824952448731444504441831305187285146600414268919412702903674111857228487706887396578426598730688972292783862743413911044889445513604569663496171258922964380308613442595887280451089938447776466883394570367244543315894082672642061457350072986924571177523185561325469024673724360735489765038427975510848438793096551548070800327830153846976806459281298169851421399444404304916253942687080286184565006600047867516643124424268293839467604694858773522696049908847259387512800285692761046196194362463640564205523549124771025334275116116713545936763373922913883235661496889433589425780323085150045586528865124249748737936760798790352724218293628302992737531601106973129423905895086526823933234206750048025046806884489989209428208560548239959180181601470698854828160922298926834871746170588876928592838236699381667483994529458730491581071762442988255397030552979002066242684289922848993639675425476590441865927585176860039384184958826383424180090348789606152645054573920439711656416833870731919204931095008877009447119277331925856147745747661270368934955417605476806137804823239376323322676468698428341187887810083731370400838596787842363175900257372980107244930198220237623390410953754910907914203405884061621692673904637578475868180164869170084661302339847843519063582412733209074326611893100937990328763853190727482419754410386169790417396664860937409138623520999805298473564671761020185541515710390334547070435699564668226270608608252601405717190103715270928414152152641480496918863673267016302996724085856804426793546297527541665294304828953780812189582391115039417124263135292075212283706496176458757939534096897185060172786201386160738646983247937615874292550803960775759286631377270296152104074788554105051943563282615998583514502596864944359920754046195728882476171637433591834393172435821008615902405489776390909710072085902280221040383757512041057985091487687041137210581136094041074597458193757776309178905946307602559690423715383108454090742921471832786138569736889365788946505095547809951583256918067996018514350727310601042487856613244116690882822585600404361649421589157748029368046328987609023970861854092164452696083437998866627023286290583274745826909165203539525922336417676503395751526124260336638789037707117271841060164835408447889967294059182386680564490910214257641727749634050200806312200999855661677334297755458023015581487733780066710302647562444374494399634583391655982351841492545718111899498628937688460012217873128689886167598702807665501301702119819729459382772703628166141020647966788976085183821705468215187202759656999242694173410716849382026162484433888711512385690273324911166084354569145554596085463858221274955456331953703241971443761766944524993063065693151337690905970386468421488736866623093045384618994251217475785179938175317373273998540536838847232624465102879374385351678053895015570834505186959341540444889557446693460139339095983092492035457460032745254075298954073060697706355828344745061347720516397742845801009653106832243697572480404902376751534946477072843974961235562956913277876648902962438354011563919816926511668334578601196172800219589878850531359239855553667605464609387227735603540864979376253008795382322384057840644505695053805043583371878623383304794371624143100509301739567890681035565008568541611230419990962401699177263824842604822198707973343667843224985768853393083164043976619004887994007936459925111699593489285287236617358421865648308230354395852809576712298338162610683370087509257028720686961261172350920165826550244491205201353946264350745059152292273904519627215484121439267730511726712396353724433140038087798422348497893790511462549769583992382872736420685923605699586126668381080405098311541963911853120479689362160749933675113543873376879800557260487459718642159338115665220604824937152198450268591660827602920687406583012975162379409737365549161322230713089577175592178902243108340513437440243553359874536054548192404757512439260360149862581492979323798957394025809699863729530371013567593412842546386993079442573835386119992853693925261947999483802894588934813111054784828736283400901467389908496653055027589973221263741202968243230773131699255255918241600626756821610785482800178420308011193659382283740090630036139784910301156679285369370705687938764670422565720971652403600141210621780966037177684397263750285755658397499311018561398085014867647658512631573368833364173711007764738016912216001897923963283009962608174238450339126082476241367075877083835153423935218117576234916046796108755270271716168543979644192595799074225759712216267908451978852201214276213658065570341773239302083465435450654223430331184950000775412585752830820167491622578319717064933042415221422736339654606929190738926701090034939099530631492708559976327689687484695148212436787241637138171069048681830742867774296909153773962604076030084106915753233854527913831032877303496112296460754899078433453936190525023506290966248311321230629020208768492377662862667418673063309850017368084627707287827857519558200659555555787126040944230527800731486291471073105714319210461601914328630162997807132255178323123788784520929004577338536106375663436628944593727774809465838150381723647366214813511780243153299110747541875451730836006382314988276628250399472592472469923987902591336659947512741662956070911579009251512206545333886423253879274519646845097492366977755563779231863137666228705259349638490702980652619935482982153911553300072020704125101842612128279950446128388524924978559771881235739107524113594602524767026329341778651777601016663630676480247594188763171565887643108195049519001883406268521101973100231916430229083201513359772072450135460174628119291791580148079926499384572367039022093509279762759754149780482704443210974894178277753822347292015539209665484299860203607320126806473522567210372674859427594169703763087075227382784616137229616631692792976714774622055485455929688459699817559148661870978934171403460254565209635968762055328489637163336804530212754586664338302471472664404801172122738263461315147175069595738527277059974039531438843105169776611823548251411884889537455508011503999498531316809329003357041604337377452360296332854449298048443347520401449015790158355275281465150753725471791742404271234232096698742593713955227023400974435198624563295946852198998465745825849069733797730094377873446440589218123299672046208001225630267990392723135244838834569308960731871921126069210165372241672350980293501082626254970669866040843645480442404010786730621884957490898126378593125632637686676709810492074335700303578809482340274085751675867455382432891538809304790378545128826539763963217030761473088347079907500435461162615939608188244472208276511175619414591438545139192395684930267738858929998009023133695893493761867575921483689472453784473563378940327759318199738537139589817210608548907096243885686412184590848293342805169992746356488470735335644785689493695880529232280774796662334251817585396209095983508654182401467416665061817102497804917528547932023974129934294208878799862989517168968599092366661863900318554747754947396674884822865098629110307362721427658906029755654457329952064976329017798712735223070097588130805902819670098412935694806440695810843688647306883037281588377243254330220134547383395046939352575296102313165365405747754627484633883970811072974508664248392537856296073292608150852749417855535472465894518159934703072223100068470945032376741101578078511352995255785590734383718407506848724139248323051729453423221660072275254540389708808656164332620028215124667187026890666870956833692266891980042478448246699947325120992242100982062750103393255978471763577627347991393733587443935061810178504269485425361487893852029232333830253690366197666572090058714276504782098848015428116514060277857868479581386343560259959506841950833202381173075459663436737150121081896301041674304430607530313272118467820568566433143625447926774899427849138454888304340578807852291060797707441159915473582663510582284747127050948037704872784763186945686256883890579450701462769378556140919988332360921819573290017035883877496785577585636100761218486763813966252840790623932863237572684622836707782129429380625033002876369709295853537850296180044708133844422580175092332147331952065310442508318173126109842622580412945925288127732107842501763825539210717495805726326974159329102421397095135085316089866411599878389226154736171721990157007116655490110222385096443120810549453724224067935342379637813316430113111618232404822247738417240240094844171967139788184785617725735275583228747485007896240658355471713084096365649137520292126588217167880024093099921762449859829721320073039982815473114110558576332748843813733823809346538336417628877811565182367526443957657722480152735906496816117692166866757547102902414427897764424925902066843665942508490693711176038600894983135851070147918573738353852100552893372110759573313578686448684645307823534335755011294977440229176670061227046634751775960024161338521262672417416270012165245540256155782742639633792953208686401811183482016869141561790594789638706184082093979749520334533463542082336227964211960000136950932037241751372619408729397061692915811753764253511073004496106377652471680585228069152235217089948678164760251317171383162381351754077774306089647765809674140171960065191946700925493029792403008559935622817690879428282763015376077517926541270658511496954799462576691896742818481551967006672809953856491506330992735821036259858467610845114417178105643150430734402653428022125491039069963541872518579094507338873630203694208444628146715947858506128856736283817838177241733068446000001
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="strings">
<h4>Strings<a class="headerlink" href="#strings" title="Permalink to this headline">¶</a></h4>
<p><strong>How to enter a <a class="reference external" href="https://docs.python.org/3/reference/lexical_analysis.html#string-and-bytes-literals">string</a> in a program?</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;</span><span class="se">\U0001f600</span><span class="s1">: I am a string.&#39;</span>  <span class="c1"># a sequence of characters delimited by single quotes.</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;😀: I am a string.&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;</span><span class="se">\N{grinning face}</span><span class="s2">: I am a string.&quot;</span>  <span class="c1"># delimited by double quotes.</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;😀: I am a string.&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="sd">&quot;&quot;&quot;\N{grinning face}: I am a string.&quot;&quot;&quot;</span>  <span class="c1"># delimited by triple single/double quotes.</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;😀: I am a string.&#39;
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">\</span></code> is called the <em>escape symbol</em>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">\U0001f600</span></code> and <code class="docutils literal notranslate"><span class="pre">\N{grinning</span> <span class="pre">face}</span></code> are <em>escape sequences</em>.</p></li>
<li><p>These sequences represent the same grinning face emoji by its Unicode in hexadecimal and its name.</p></li>
</ul>
<p><strong>Why use different quotes?</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;I</span><span class="se">\&#39;</span><span class="s1">m line #1.</span><span class="se">\n</span><span class="s1">I</span><span class="se">\&#39;</span><span class="s1">m line #2.&#39;</span><span class="p">)</span>  <span class="c1"># \n is a control code for line feed</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;I&#39;m line #3.</span><span class="se">\n</span><span class="s2">I&#39;m line #4.&quot;</span><span class="p">)</span>  <span class="c1"># no need to escape single quote.</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;I&#39;m line #5.</span>
<span class="s1">I&#39;m line #6.&#39;&#39;&#39;</span><span class="p">)</span>  <span class="c1"># multi-line string</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>I&#39;m line #1.
I&#39;m line #2.
I&#39;m line #3.
I&#39;m line #4.
I&#39;m line #5.
I&#39;m line #6.
</pre></div>
</div>
</div>
</div>
<p>Note that:</p>
<ul class="simple">
<li><p>The escape sequence <code class="docutils literal notranslate"><span class="pre">\n</span></code> does not represent any symbol.</p></li>
<li><p>It is a <em>control code</em> that creates a new line when printing the string.</p></li>
<li><p>Another common control code is <code class="docutils literal notranslate"><span class="pre">\t</span></code> for tab.</p></li>
</ul>
<p>Using double quotes, we need not escape the single quote in <code class="docutils literal notranslate"><span class="pre">I'm</span></code>.</p>
<p>Triple quotes delimit a multi-line string, so there is no need to use <code class="docutils literal notranslate"><span class="pre">\n</span></code>.<br />
(You can copy and paste a multi-line string from elsewhere.)</p>
<p>In programming, there are often many ways to do the same thing.<br />
The following is a one-line code (<a class="reference external" href="https://en.wikipedia.org/wiki/One-liner_program">one-liner</a>) that prints multiple lines of strings without using <code class="docutils literal notranslate"><span class="pre">\n</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;I&#39;m line #1&quot;</span><span class="p">,</span> <span class="s2">&quot;I&#39;m line #2&quot;</span><span class="p">,</span> <span class="s2">&quot;I&#39;m line #3&quot;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>  <span class="c1"># one liner</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>I&#39;m line #1
I&#39;m line #2
I&#39;m line #3
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">sep='\n'</span></code> is a <em>keyword argument</em> that specifies the separator of the list of strings.</p></li>
<li><p>By default, <code class="docutils literal notranslate"><span class="pre">sep='</span> <span class="pre">'</span></code>, a single space character.</p></li>
</ul>
<p>In IPython, we can get the <em>docstring</em> (documentation) of a function conveniently using the symbol <code class="docutils literal notranslate"><span class="pre">?</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">?</span>print
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>print<span class="o">?</span>
</pre></div>
</div>
</div>
</div>
<p><strong>Exercise</strong> Print a cool multi-line string below.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1"> (ง •̀_•́)ง </span>
<span class="s1"> ╰(●’◡’●)╮ </span>
<span class="s1"> (..•˘_˘•..)</span>
<span class="s1"> (づ￣ 3￣)づ</span>
<span class="s1">&#39;&#39;&#39;</span><span class="p">)</span>
<span class="c1"># See also https://github.com/glamp/bashplotlib</span>
<span class="c1"># Star Wars via Telnet http://asciimation.co.nz/</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> (ง •̀_•́)ง 
 ╰(●’◡’●)╮ 
 (..•˘_˘•..)
 (づ￣ 3￣)づ
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="variables-and-assignment">
<h4>Variables and Assignment<a class="headerlink" href="#variables-and-assignment" title="Permalink to this headline">¶</a></h4>
<p>It is useful to store a value and retrieve it later.<br />
To do so, we assign the value to a variable:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="mi">15</span>
<span class="n">x</span>  <span class="c1"># output the value of x</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>15
</pre></div>
</div>
</div>
</div>
<p><strong>Is assignment the same as equality?</strong></p>
<p>No because:</p>
<ul class="simple">
<li><p>you cannot write <code class="docutils literal notranslate"><span class="pre">15</span> <span class="pre">=</span> <span class="pre">x</span></code>, but</p></li>
<li><p>you can write <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">x</span> <span class="pre">+</span> <span class="pre">1</span></code>, which increases the value of <code class="docutils literal notranslate"><span class="pre">x</span></code> by <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p></li>
</ul>
<p><strong>Exercise</strong> Try out the above code yourself.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span>
<span class="n">x</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>16
</pre></div>
</div>
</div>
</div>
<p>Let’s see the effect of assignment step-by-step:</p>
<ol class="simple">
<li><p>Run the following cell.</p></li>
<li><p>Click <code class="docutils literal notranslate"><span class="pre">Next</span> <span class="pre">&gt;</span></code> to see the next step of the execution.</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">mytutor</span> -h 200
x = 15
x = x + 1
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<iframe
    width="1100"
    height="200"
    src="https://e-quiz.cs.cityu.edu.hk/opt/cs1302visualize.html#mode=display&code=x%20%3D%2015%0Ax%20%3D%20x%20%2B%201%0A"
    frameborder="0"
    allowfullscreen
></iframe>
</div></div>
</div>
<p>The following <em>tuple assignment</em> syntax can assign multiple variables in one line.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">mytutor</span> -h 200
x, y, z = &#39;15&#39;, &#39;30&#39;, 15
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<iframe
    width="1100"
    height="200"
    src="https://e-quiz.cs.cityu.edu.hk/opt/cs1302visualize.html#mode=display&code=x%2C%20y%2C%20z%20%3D%20%2715%27%2C%20%2730%27%2C%2015%0A"
    frameborder="0"
    allowfullscreen
></iframe>
</div></div>
</div>
<p>One can also use <em>chained assignment</em> to set different variables to the same value.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">mytutor</span> -h 250
x = y = z = 0
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<iframe
    width="1100"
    height="250"
    src="https://e-quiz.cs.cityu.edu.hk/opt/cs1302visualize.html#mode=display&code=x%20%3D%20y%20%3D%20z%20%3D%200%0A"
    frameborder="0"
    allowfullscreen
></iframe>
</div></div>
</div>
<p>Variables can be deleted using <code class="docutils literal notranslate"><span class="pre">del</span></code>. Accessing a variable before assignment raises a Name error.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">del</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span>
<span class="n">x</span><span class="p">,</span> <span class="n">y</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">20</span><span class="o">-</span><span class="mi">7</span><span class="n">a8db3f963f3</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="k">del</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span>

<span class="ne">NameError</span>: name &#39;y&#39; is not defined
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="identifiers">
<h4>Identifiers<a class="headerlink" href="#identifiers" title="Permalink to this headline">¶</a></h4>
<p><em>Identifiers</em> such as variable names are case sensitive and follow certain rules.</p>
<p><strong>What is the syntax for variable names?</strong></p>
<ol class="simple">
<li><p>Must start with a letter or <code class="docutils literal notranslate"><span class="pre">_</span></code> (an underscore) followed by letters, digits, or <code class="docutils literal notranslate"><span class="pre">_</span></code>.</p></li>
<li><p>Must not be a <a class="reference external" href="https://docs.python.org/3.7/reference/lexical_analysis.html#keywords">keyword</a> (identifier reserved by Python):</p></li>
</ol>
<pre>False      await      else       import     pass
None       break      except     in         raise
True       class      finally    is         return
and        continue   for        lambda     try
as         def        from       nonlocal   while
assert     del        global     not        with
async      elif       if         or         yield</pre><p><strong>Exercise</strong> Evaluate the following cell and check if any of the rules above is violated.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ipywidgets</span> <span class="kn">import</span> <span class="n">interact</span>
<span class="nd">@interact</span>
<span class="k">def</span> <span class="nf">identifier_syntax</span><span class="p">(</span><span class="n">assignment</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a-number = 15&#39;</span><span class="p">,</span>
                     <span class="s1">&#39;a_number = 15&#39;</span><span class="p">,</span>
                     <span class="s1">&#39;15 = 15&#39;</span><span class="p">,</span>
                     <span class="s1">&#39;_15 = 15&#39;</span><span class="p">,</span>
                     <span class="s1">&#39;del = 15&#39;</span><span class="p">,</span>
                     <span class="s1">&#39;Del = 15&#39;</span><span class="p">,</span>
                     <span class="s1">&#39;type = print&#39;</span><span class="p">,</span>
                     <span class="s1">&#39;print = type&#39;</span><span class="p">,</span>
                     <span class="s1">&#39;input = print&#39;</span><span class="p">]):</span>
    <span class="n">exec</span><span class="p">(</span><span class="n">assignment</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Ok.&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">
{"version_major": 2, "version_minor": 0, "model_id": "2c1472ba922544c49b16f2b2bacf8e35"}
</script></div>
</div>
<ol class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">a-number</span> <span class="pre">=</span> <span class="pre">15</span></code> violates Rule 1 because <code class="docutils literal notranslate"><span class="pre">-</span></code> is not allowed. <code class="docutils literal notranslate"><span class="pre">-</span></code> is interpreted as an operator.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">15</span> <span class="pre">=</span> <span class="pre">15</span></code> violates Rule 1 because <code class="docutils literal notranslate"><span class="pre">15</span></code> starts with a digit instead of letter or _.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">del</span> <span class="pre">=</span> <span class="pre">15</span></code> violates Rule 2 because <code class="docutils literal notranslate"><span class="pre">del</span></code> is a keyword.</p></li>
</ol>
<p>What can we learn from the above examples?</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">del</span></code> is a keyword and <code class="docutils literal notranslate"><span class="pre">Del</span></code> is not because identifiers are case sensitive.</p></li>
<li><p>Function/method/type names <code class="docutils literal notranslate"><span class="pre">print</span></code>/<code class="docutils literal notranslate"><span class="pre">input</span></code>/<code class="docutils literal notranslate"><span class="pre">type</span></code> are not keywords and can be reassigned.<br />
This can useful if you want to modify the default implementations without changing their source code.</p></li>
</ul>
<p>To help make code more readable, additional style guides such as <a class="reference external" href="https://www.python.org/dev/peps/pep-0008/#function-and-variable-names">PEP 8</a> are available:</p>
<ul class="simple">
<li><p>Function names should be lowercase, with words separated by underscores as necessary to improve readability.</p></li>
<li><p>Variable names follow the same convention as function names.</p></li>
</ul>
</div>
<div class="section" id="user-input">
<h4>User Input<a class="headerlink" href="#user-input" title="Permalink to this headline">¶</a></h4>
<p><strong>How to let the user input a value at <em>runtime</em>,<br />
i.e., as the program executes?</strong></p>
<p>We can use the method <code class="docutils literal notranslate"><span class="pre">input</span></code>:</p>
<ul class="simple">
<li><p>There is no need to delimit the input string by quotation marks.</p></li>
<li><p>Simply press <code class="docutils literal notranslate"><span class="pre">enter</span></code> after typing a string.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Your name is&#39;</span><span class="p">,</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Please input your name: &#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">StdinNotImplementedError</span><span class="g g-Whitespace">                  </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">22</span><span class="o">-</span><span class="mi">66256</span><span class="n">cc459db</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Your name is&#39;</span><span class="p">,</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Please input your name: &#39;</span><span class="p">))</span>

<span class="nn">~/anaconda3/lib/python3.7/site-packages/ipykernel/kernelbase.py</span> in <span class="ni">raw_input</span><span class="nt">(self, prompt)</span>
<span class="g g-Whitespace">    </span><span class="mi">856</span>         <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_allow_stdin</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">857</span>             <span class="k">raise</span> <span class="n">StdinNotImplementedError</span><span class="p">(</span>
<span class="ne">--&gt; </span><span class="mi">858</span>                 <span class="s2">&quot;raw_input was called, but this frontend does not support input requests.&quot;</span>
<span class="g g-Whitespace">    </span><span class="mi">859</span>             <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">860</span>         <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_input_request</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">prompt</span><span class="p">),</span>

<span class="ne">StdinNotImplementedError</span>: raw_input was called, but this frontend does not support input requests.
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">input</span></code> method prints its argument, if any, as a <a class="reference external" href="https://en.wikipedia.org/wiki/Command-line_interface#Command_prompt">prompt</a>.</p></li>
<li><p>It takes user’s input and <em>return</em> it as its value. <code class="docutils literal notranslate"><span class="pre">print</span></code> takes in that value and prints it.</p></li>
</ul>
<p><strong>Exercise</strong> Explain whether the following code prints <code class="docutils literal notranslate"><span class="pre">'My</span> <span class="pre">name</span> <span class="pre">is</span> <span class="pre">Python'</span></code>. Does <code class="docutils literal notranslate"><span class="pre">print</span></code> return a value?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;My name is&#39;</span><span class="p">,</span> <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Python&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Python
My name is None
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Unlike <code class="docutils literal notranslate"><span class="pre">input</span></code>, the function <code class="docutils literal notranslate"><span class="pre">print</span></code> does not return the string it is trying to print. Printing a string is, therefore, different from returning a string.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">print</span></code> actually returns a <code class="docutils literal notranslate"><span class="pre">None</span></code> object that gets printed as <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
</ul>
</div>
<div class="section" id="type-conversion">
<h4>Type Conversion<a class="headerlink" href="#type-conversion" title="Permalink to this headline">¶</a></h4>
<p>The following program tries to compute the sum of two numbers from user inputs:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">num1</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Please input an integer: &#39;</span><span class="p">)</span>
<span class="n">num2</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Please input another integer: &#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">num1</span><span class="p">,</span> <span class="s1">&#39;+&#39;</span><span class="p">,</span> <span class="n">num2</span><span class="p">,</span> <span class="s1">&#39;is equal to&#39;</span><span class="p">,</span> <span class="n">num1</span> <span class="o">+</span> <span class="n">num2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">StdinNotImplementedError</span><span class="g g-Whitespace">                  </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">24</span><span class="o">-</span><span class="n">d608aff0fa9c</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">num1</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Please input an integer: &#39;</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="n">num2</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Please input another integer: &#39;</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span> <span class="nb">print</span><span class="p">(</span><span class="n">num1</span><span class="p">,</span> <span class="s1">&#39;+&#39;</span><span class="p">,</span> <span class="n">num2</span><span class="p">,</span> <span class="s1">&#39;is equal to&#39;</span><span class="p">,</span> <span class="n">num1</span> <span class="o">+</span> <span class="n">num2</span><span class="p">)</span>

<span class="nn">~/anaconda3/lib/python3.7/site-packages/ipykernel/kernelbase.py</span> in <span class="ni">raw_input</span><span class="nt">(self, prompt)</span>
<span class="g g-Whitespace">    </span><span class="mi">856</span>         <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_allow_stdin</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">857</span>             <span class="k">raise</span> <span class="n">StdinNotImplementedError</span><span class="p">(</span>
<span class="ne">--&gt; </span><span class="mi">858</span>                 <span class="s2">&quot;raw_input was called, but this frontend does not support input requests.&quot;</span>
<span class="g g-Whitespace">    </span><span class="mi">859</span>             <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">860</span>         <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_input_request</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">prompt</span><span class="p">),</span>

<span class="ne">StdinNotImplementedError</span>: raw_input was called, but this frontend does not support input requests.
</pre></div>
</div>
</div>
</div>
<p><strong>Exercise</strong> There is a <a class="reference external" href="https://en.wikipedia.org/wiki/Software_bug">bug</a> in the above code. Can you locate the error?</p>
<p>The two numbers are concatenated instead of added together.</p>
<p><code class="docutils literal notranslate"><span class="pre">input</span></code> <em>returns</em> user input as a string.<br />
E.g., if the user enters <code class="docutils literal notranslate"><span class="pre">12</span></code>, the input is</p>
<ul class="simple">
<li><p>not treated as the integer twelve, but rather</p></li>
<li><p>treated as a string containing two characters, one followed by two.</p></li>
</ul>
<p>To see this, we can use <code class="docutils literal notranslate"><span class="pre">type</span></code> to return the data type of an expression.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">num1</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Please input an integer: &#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Your input is&#39;</span><span class="p">,</span> <span class="n">num1</span><span class="p">,</span> <span class="s1">&#39;with type&#39;</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">num1</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">StdinNotImplementedError</span><span class="g g-Whitespace">                  </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">25</span><span class="o">-</span><span class="n">fbb9a4f7a0c0</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">num1</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Please input an integer: &#39;</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Your input is&#39;</span><span class="p">,</span> <span class="n">num1</span><span class="p">,</span> <span class="s1">&#39;with type&#39;</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">num1</span><span class="p">))</span>

<span class="nn">~/anaconda3/lib/python3.7/site-packages/ipykernel/kernelbase.py</span> in <span class="ni">raw_input</span><span class="nt">(self, prompt)</span>
<span class="g g-Whitespace">    </span><span class="mi">856</span>         <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_allow_stdin</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">857</span>             <span class="k">raise</span> <span class="n">StdinNotImplementedError</span><span class="p">(</span>
<span class="ne">--&gt; </span><span class="mi">858</span>                 <span class="s2">&quot;raw_input was called, but this frontend does not support input requests.&quot;</span>
<span class="g g-Whitespace">    </span><span class="mi">859</span>             <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">860</span>         <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_input_request</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">prompt</span><span class="p">),</span>

<span class="ne">StdinNotImplementedError</span>: raw_input was called, but this frontend does not support input requests.
</pre></div>
</div>
</div>
</div>
<p><strong>Exercise</strong> <code class="docutils literal notranslate"><span class="pre">type</span></code> applies to any expressions. Try it out below on <code class="docutils literal notranslate"><span class="pre">15</span></code>, <code class="docutils literal notranslate"><span class="pre">print</span></code>, <code class="docutils literal notranslate"><span class="pre">print()</span></code>, <code class="docutils literal notranslate"><span class="pre">input</span></code>, and even <code class="docutils literal notranslate"><span class="pre">type</span></code> itself and <code class="docutils literal notranslate"><span class="pre">type(type)</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">(</span><span class="mi">15</span><span class="p">),</span> <span class="nb">type</span><span class="p">(</span><span class="nb">print</span><span class="p">),</span> <span class="nb">type</span><span class="p">(</span><span class="nb">print</span><span class="p">()),</span> <span class="nb">type</span><span class="p">(</span><span class="nb">input</span><span class="p">),</span> <span class="nb">type</span><span class="p">(</span><span class="nb">type</span><span class="p">),</span> <span class="nb">type</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="nb">type</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(int, builtin_function_or_method, NoneType, method, type, type)
</pre></div>
</div>
</div>
</div>
<p><strong>So what happens when we add strings together?</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;4&#39;</span> <span class="o">+</span> <span class="s1">&#39;5&#39;</span> <span class="o">+</span> <span class="s1">&#39;6&#39;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;456&#39;
</pre></div>
</div>
</div>
</div>
<p><strong>How to fix the bug then?</strong></p>
<p>We can convert a string to an integer using <code class="docutils literal notranslate"><span class="pre">int</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">int</span><span class="p">(</span><span class="s1">&#39;4&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="s1">&#39;5&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="s1">&#39;6&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>15
</pre></div>
</div>
</div>
</div>
<p>We can also convert an integer to a string using <code class="docutils literal notranslate"><span class="pre">str</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">str</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;456&#39;
</pre></div>
</div>
</div>
</div>
<p><strong>Exercise</strong> Fix the bug in the following cell.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">num1</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Please input an integer: &#39;</span><span class="p">)</span>
<span class="n">num2</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Please input another integer: &#39;</span><span class="p">)</span>
<span class="c1"># print(num1, &#39;+&#39;, num2, &#39;is equal to&#39;, num1 + num2)  # fix this line below</span>
<span class="c1">### BEGIN SOLUTION</span>
<span class="nb">print</span><span class="p">(</span><span class="n">num1</span><span class="p">,</span> <span class="s1">&#39;+&#39;</span><span class="p">,</span> <span class="n">num2</span><span class="p">,</span> <span class="s1">&#39;is equal to&#39;</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">num1</span><span class="p">)</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="n">num2</span><span class="p">))</span>
<span class="c1">### END SOLUTION</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">StdinNotImplementedError</span><span class="g g-Whitespace">                  </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">30</span><span class="o">-</span><span class="mi">291</span><span class="n">aa5699922</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">num1</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Please input an integer: &#39;</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="n">num2</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Please input another integer: &#39;</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span> <span class="c1"># print(num1, &#39;+&#39;, num2, &#39;is equal to&#39;, num1 + num2)  # fix this line below</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span> <span class="c1">### BEGIN SOLUTION</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span> <span class="nb">print</span><span class="p">(</span><span class="n">num1</span><span class="p">,</span> <span class="s1">&#39;+&#39;</span><span class="p">,</span> <span class="n">num2</span><span class="p">,</span> <span class="s1">&#39;is equal to&#39;</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">num1</span><span class="p">)</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="n">num2</span><span class="p">))</span>

<span class="nn">~/anaconda3/lib/python3.7/site-packages/ipykernel/kernelbase.py</span> in <span class="ni">raw_input</span><span class="nt">(self, prompt)</span>
<span class="g g-Whitespace">    </span><span class="mi">856</span>         <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_allow_stdin</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">857</span>             <span class="k">raise</span> <span class="n">StdinNotImplementedError</span><span class="p">(</span>
<span class="ne">--&gt; </span><span class="mi">858</span>                 <span class="s2">&quot;raw_input was called, but this frontend does not support input requests.&quot;</span>
<span class="g g-Whitespace">    </span><span class="mi">859</span>             <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">860</span>         <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_input_request</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">prompt</span><span class="p">),</span>

<span class="ne">StdinNotImplementedError</span>: raw_input was called, but this frontend does not support input requests.
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="error">
<h4>Error<a class="headerlink" href="#error" title="Permalink to this headline">¶</a></h4>
<p>In addition to writing code, a programmer spends significant time in <em>debugging</em> code that contains errors.</p>
<p><strong>Can an error be automatically detected by the computer?</strong></p>
<ul class="simple">
<li><p>You have just seen an example of <em>logical error</em>, which is due to an error in the logic.</p></li>
<li><p>The ability to debug or even detect such error is, unfortunately, beyond Python’s intelligence.</p></li>
</ul>
<p>Other kinds of error may be detected automatically.<br />
As an example, note that we can omit <code class="docutils literal notranslate"><span class="pre">+</span></code> for string concatenation, but we cannot omit it for integer summation:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Skipping + for string concatenation&#39;</span><span class="p">)</span>
<span class="s1">&#39;4&#39;</span> <span class="s1">&#39;5&#39;</span> <span class="s1">&#39;6&#39;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Skipping + for string concatenation
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;456&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Skipping + for integer summation&#39;</span><span class="p">)</span>
<span class="mi">4</span> <span class="mi">5</span> <span class="mi">6</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">  File</span><span class="nn"> &quot;&lt;ipython-input-32-234998ea6ba8&gt;&quot;</span><span class="gt">, line </span><span class="mi">2</span>
<span class="g g-Whitespace">    </span><span class="mi">4</span> <span class="mi">5</span> <span class="mi">6</span>
      <span class="o">^</span>
<span class="ne">SyntaxError</span>: invalid syntax
</pre></div>
</div>
</div>
</div>
<p>Python interpreter detects the bug and raises a <em>syntax</em> error.</p>
<p><strong>Why Syntax error can be detected automatically?<br />
Why is the print statement before the error not executed?</strong></p>
<ul class="simple">
<li><p>The Python interpreter can easily detect syntax error even before executing the code simply because</p></li>
<li><p>the interpreter fails to interpret the code, i.e., translates the code to lower-level executable code.</p></li>
</ul>
<p>The following code raises a different kind of error.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Evaluating &#39;4&#39; + &#39;5&#39; + 6&quot;</span><span class="p">)</span>
<span class="s1">&#39;4&#39;</span> <span class="o">+</span> <span class="s1">&#39;5&#39;</span> <span class="o">+</span> <span class="mi">6</span>  <span class="c1"># summing string with integer</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Evaluating &#39;4&#39; + &#39;5&#39; + 6
</pre></div>
</div>
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">TypeError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">33</span><span class="o">-</span><span class="mi">67</span><span class="n">f2880d2e89</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Evaluating &#39;4&#39; + &#39;5&#39; + 6&quot;</span><span class="p">)</span>
<span class="ne">----&gt; </span><span class="mi">2</span> <span class="s1">&#39;4&#39;</span> <span class="o">+</span> <span class="s1">&#39;5&#39;</span> <span class="o">+</span> <span class="mi">6</span>  <span class="c1"># summing string with integer</span>

<span class="ne">TypeError</span>: can only concatenate str (not &quot;int&quot;) to str
</pre></div>
</div>
</div>
</div>
<p><strong>Why Python throws a TypeError when evaluating <code class="docutils literal notranslate"><span class="pre">'4'</span> <span class="pre">+</span> <span class="pre">'5'</span> <span class="pre">+</span> <span class="pre">6</span></code>?</strong></p>
<p>There is no default implementation of <code class="docutils literal notranslate"><span class="pre">+</span></code> operation on a value of type <code class="docutils literal notranslate"><span class="pre">str</span></code> and a value of type <code class="docutils literal notranslate"><span class="pre">int</span></code>.</p>
<ul class="simple">
<li><p>Unlike syntax error, the Python interpreter can only detect type error at runtime (when executing the code.)</p></li>
<li><p>Hence, such error is called a <em>runtime error</em>.</p></li>
</ul>
<p><strong>Why is TypeError a runtime error?</strong></p>
<p>The short answer is that Python is a <a class="reference external" href="https://en.wikipedia.org/wiki/Strong_and_weak_typing">strongly-and-dynamically-typed</a> language:</p>
<ul class="simple">
<li><p>Strongly-typed: Python does not force a type conversion to avoid a type error.</p></li>
<li><p>Dynamically-typed: Python allow data type to change at runtime.</p></li>
</ul>
<p>The underlying details are more complicated than required for this course. It helps if you already know the following languages:</p>
<ul class="simple">
<li><p>JavaScript, which is a <em>weakly-typed</em> language that forces a type conversion to avoid a type error.</p></li>
<li><p>C, which is a <em>statically-typed</em> language that does not allow data type to change at runtime.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%javascript</span>
<span class="nx">alert</span><span class="p">(</span><span class="s1">&#39;4&#39;</span> <span class="o">+</span> <span class="s1">&#39;5&#39;</span> <span class="o">+</span> <span class="mi">6</span><span class="p">)</span>  <span class="c1">// no error because 6 is converted to a str automatically</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/javascript">alert('4' + '5' + 6)  // no error because 6 is converted to a str automatically
</script></div>
</div>
<p>A weakly-typed language may seem more robust, but it can lead to <a class="reference external" href="https://www.oreilly.com/library/view/fluent-conference-javascript/9781449339203/oreillyvideos1220106.html">more logical errors</a>.<br />
To improve readability, <a class="reference external" href="https://www.typescriptlang.org/">typescript</a> is a strongly-typed replacement of javascript.</p>
<p><strong>Exercise</strong> Not all the strings can be converted into integers. Try breaking the following code by providing invalid inputs and record them in the subsequent cell. Explain whether the errors are runtime errors.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">num1</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Please input an integer: &#39;</span><span class="p">)</span>
<span class="n">num2</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Please input another integer: &#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">num1</span><span class="p">,</span> <span class="s1">&#39;+&#39;</span><span class="p">,</span> <span class="n">num2</span><span class="p">,</span> <span class="s1">&#39;is equal to&#39;</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">num1</span><span class="p">)</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="n">num2</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">StdinNotImplementedError</span><span class="g g-Whitespace">                  </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">35</span><span class="o">-</span><span class="n">b2d9940a63db</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">num1</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Please input an integer: &#39;</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="n">num2</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Please input another integer: &#39;</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span> <span class="nb">print</span><span class="p">(</span><span class="n">num1</span><span class="p">,</span> <span class="s1">&#39;+&#39;</span><span class="p">,</span> <span class="n">num2</span><span class="p">,</span> <span class="s1">&#39;is equal to&#39;</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">num1</span><span class="p">)</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="n">num2</span><span class="p">))</span>

<span class="nn">~/anaconda3/lib/python3.7/site-packages/ipykernel/kernelbase.py</span> in <span class="ni">raw_input</span><span class="nt">(self, prompt)</span>
<span class="g g-Whitespace">    </span><span class="mi">856</span>         <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_allow_stdin</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">857</span>             <span class="k">raise</span> <span class="n">StdinNotImplementedError</span><span class="p">(</span>
<span class="ne">--&gt; </span><span class="mi">858</span>                 <span class="s2">&quot;raw_input was called, but this frontend does not support input requests.&quot;</span>
<span class="g g-Whitespace">    </span><span class="mi">859</span>             <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">860</span>         <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_input_request</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">prompt</span><span class="p">),</span>

<span class="ne">StdinNotImplementedError</span>: raw_input was called, but this frontend does not support input requests.
</pre></div>
</div>
</div>
</div>
<p>The possible invalid inputs are:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">4</span> <span class="pre">+</span> <span class="pre">5</span> <span class="pre">+</span> <span class="pre">6</span></code>, <code class="docutils literal notranslate"><span class="pre">15.0</span></code>, <code class="docutils literal notranslate"><span class="pre">fifteen</span></code></p>
</div></blockquote>
<p>It raises a value error, which is a runtime error detected during execution.</p>
<p>Note that the followings are okay</p>
<blockquote>
<div><p>int(‘-1’), eval(‘4 + 5 + 6’)</p>
</div></blockquote>
</div>
<div class="section" id="floating-point-numbers">
<h4>Floating Point Numbers<a class="headerlink" href="#floating-point-numbers" title="Permalink to this headline">¶</a></h4>
<p>Not all numbers are integers. In Enginnering, we often need to use fractions.</p>
<p><strong>How to enter fractions in a program?</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.1</span> <span class="c1"># decimal number</span>
<span class="n">y</span> <span class="o">=</span> <span class="o">-</span><span class="mf">1.0e-1</span> <span class="c1"># scientific notation</span>
<span class="n">z</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="mi">10</span> <span class="c1"># fraction</span>
<span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="nb">type</span><span class="p">(</span><span class="n">y</span><span class="p">),</span> <span class="nb">type</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(-0.1, -0.1, -0.1, float, float, float)
</pre></div>
</div>
</div>
</div>
<p><strong>What is the type <code class="docutils literal notranslate"><span class="pre">float</span></code>?</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">float</span></code> corresponds to the <a class="reference external" href="https://en.wikipedia.org/wiki/Floating-point_arithmetic#Floating-point_numbers"><em>floating point</em> representation</a>.</p></li>
<li><p>A <code class="docutils literal notranslate"><span class="pre">float</span></code> in stored exactly the way we write it in scientific notation:</p></li>
</ul>
<div class="math notranslate nohighlight">
\[
\overbrace{-}^{\text{sign}} \underbrace{1.0}_{\text{mantissa}\kern-1em}e\overbrace{-1}^{\text{exponent}\kern-1em}=-1\times 10^{-1}
\]</div>
<ul class="simple">
<li><p>The <a class="reference external" href="https://www.h-schmidt.net/FloatConverter/IEEE754.html">truth</a> is more complicated than required for the course.</p></li>
</ul>
<p>Integers in mathematics may be regarded as a <code class="docutils literal notranslate"><span class="pre">float</span></code> instead of <code class="docutils literal notranslate"><span class="pre">int</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">(</span><span class="mf">1.0</span><span class="p">),</span> <span class="nb">type</span><span class="p">(</span><span class="mf">1e2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(float, float)
</pre></div>
</div>
</div>
</div>
<p>You can also convert an <code class="docutils literal notranslate"><span class="pre">int</span></code> or a <code class="docutils literal notranslate"><span class="pre">str</span></code> to a <code class="docutils literal notranslate"><span class="pre">float</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">float</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(1.0, 1.0)
</pre></div>
</div>
</div>
</div>
<p><strong>Is it better to store an integer as <code class="docutils literal notranslate"><span class="pre">float</span></code>?</strong></p>
<p>Python stores a <a class="reference external" href="https://docs.python.org/3/library/sys.html#sys.float_info">floating point</a> with finite precision (usually as a 64bit binary fraction):</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="n">sys</span><span class="o">.</span><span class="n">float_info</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>sys.float_info(max=1.7976931348623157e+308, max_exp=1024, max_10_exp=308, min=2.2250738585072014e-308, min_exp=-1021, min_10_exp=-307, dig=15, mant_dig=53, epsilon=2.220446049250313e-16, radix=2, rounds=1)
</pre></div>
</div>
</div>
</div>
<p>It cannot represent a number larger than the <code class="docutils literal notranslate"><span class="pre">max</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sys</span><span class="o">.</span><span class="n">float_info</span><span class="o">.</span><span class="n">max</span> <span class="o">*</span> <span class="mi">2</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>inf
</pre></div>
</div>
</div>
</div>
<p>The precision also affects the check for equality.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="mf">1.0</span> <span class="o">==</span> <span class="mf">1.0</span> <span class="o">+</span> <span class="n">sys</span><span class="o">.</span><span class="n">float_info</span><span class="o">.</span><span class="n">epsilon</span> <span class="o">*</span> <span class="mf">0.5</span><span class="p">,</span> <span class="c1"># returns true if equal</span>
 <span class="mf">1.0</span> <span class="o">==</span> <span class="mf">1.0</span> <span class="o">+</span> <span class="n">sys</span><span class="o">.</span><span class="n">float_info</span><span class="o">.</span><span class="n">epsilon</span> <span class="o">*</span> <span class="mf">0.6</span><span class="p">,</span> <span class="n">sys</span><span class="o">.</span><span class="n">float_info</span><span class="o">.</span><span class="n">max</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">==</span> <span class="n">sys</span><span class="o">.</span><span class="n">float_info</span><span class="o">.</span><span class="n">max</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(True, False, True)
</pre></div>
</div>
</div>
</div>
<p>Another issue with float is that it may keep more decimal places than desired.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.3333333333333333
</pre></div>
</div>
</div>
</div>
<p><strong>How to <a class="reference external" href="https://docs.python.org/3/library/functions.html#round">round</a> a floating point number to the desired number of decimal places?</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">round</span><span class="p">(</span><span class="mf">2.665</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="nb">round</span><span class="p">(</span><span class="mf">2.675</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(2.67, 2.67)
</pre></div>
</div>
</div>
</div>
<p><strong>Why 2.675 rounds to 2.67 instead of 2.68?</strong></p>
<ul class="simple">
<li><p>A <code class="docutils literal notranslate"><span class="pre">float</span></code> is actually represented in binary.</p></li>
<li><p>A decimal fraction <a class="reference external" href="https://docs.python.org/3/tutorial/floatingpoint.html#tut-fp-issues">may not be represented exactly in binary</a>.</p></li>
</ul>
<p>The <code class="docutils literal notranslate"><span class="pre">round</span></code> function can also be applied to an integer.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">round</span><span class="p">(</span><span class="mi">150</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">),</span> <span class="nb">round</span><span class="p">(</span><span class="mi">250</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(200, 200)
</pre></div>
</div>
</div>
</div>
<p><strong>Why 250 rounds to 200 instead of 300?</strong></p>
<ul class="simple">
<li><p>Python 3 implements the default rounding method in <a class="reference external" href="https://en.wikipedia.org/w/index.php?title=IEEE_754#Rounding_rules">IEEE 754</a>.</p></li>
</ul>
</div>
<div class="section" id="string-formatting">
<h4>String Formatting<a class="headerlink" href="#string-formatting" title="Permalink to this headline">¶</a></h4>
<p><strong>Can we round a <code class="docutils literal notranslate"><span class="pre">float</span></code> or <code class="docutils literal notranslate"><span class="pre">int</span></code> for printing but not calculation?</strong></p>
<p>This is possible with <a class="reference external" href="https://docs.python.org/3/library/string.html#format-specification-mini-language"><em>format specifications</em></a>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="mi">10000</span><span class="o">/</span><span class="mi">3</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;x ≈ </span><span class="si">{:.2f}</span><span class="s1"> (rounded to 2 decimal places)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="n">x</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>x ≈ 3333.33 (rounded to 2 decimal places)
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>3333.3333333333335
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">{:.2f}</span></code> is a <em>format specification</em></p></li>
<li><p>that gets replaced by a string</p></li>
<li><p>that represents the argument <code class="docutils literal notranslate"><span class="pre">x</span></code> of <code class="docutils literal notranslate"><span class="pre">format</span></code></p></li>
<li><p>as a decimal floating point number rounded to 2 decimal places.</p></li>
</ul>
<p><strong>Exercise</strong> Play with the following widget to learn the effect of different format specifications. In particular, print <code class="docutils literal notranslate"><span class="pre">10000/3</span></code> as <code class="docutils literal notranslate"><span class="pre">3,333.33</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ipywidgets</span> <span class="kn">import</span> <span class="n">interact</span>
<span class="nd">@interact</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;10000/3&#39;</span><span class="p">,</span>
          <span class="n">align</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;None&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&lt;&#39;</span><span class="p">:</span><span class="s1">&#39;&lt;&#39;</span><span class="p">,</span><span class="s1">&#39;&gt;&#39;</span><span class="p">:</span><span class="s1">&#39;&gt;&#39;</span><span class="p">,</span><span class="s1">&#39;=&#39;</span><span class="p">:</span><span class="s1">&#39;=&#39;</span><span class="p">,</span><span class="s1">&#39;^&#39;</span><span class="p">:</span><span class="s1">&#39;^&#39;</span><span class="p">},</span>
          <span class="n">sign</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;None&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;+&#39;</span><span class="p">:</span><span class="s1">&#39;+&#39;</span><span class="p">,</span><span class="s1">&#39;-&#39;</span><span class="p">:</span><span class="s1">&#39;-&#39;</span><span class="p">,</span><span class="s1">&#39;SPACE&#39;</span><span class="p">:</span><span class="s1">&#39; &#39;</span><span class="p">},</span>
          <span class="n">width</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">20</span><span class="p">),</span>
          <span class="n">grouping</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;None&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;_&#39;</span><span class="p">:</span><span class="s1">&#39;_&#39;</span><span class="p">,</span><span class="s1">&#39;,&#39;</span><span class="p">:</span><span class="s1">&#39;,&#39;</span><span class="p">},</span>
          <span class="n">precision</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">20</span><span class="p">))</span>
<span class="k">def</span> <span class="nf">print_float</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">sign</span><span class="p">,</span><span class="n">align</span><span class="p">,</span><span class="n">grouping</span><span class="p">,</span><span class="n">width</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">precision</span><span class="o">=</span><span class="mi">2</span><span class="p">):</span>
    <span class="n">format_spec</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="se">{{</span><span class="s2">:</span><span class="si">{</span><span class="n">align</span><span class="si">}{</span><span class="n">sign</span><span class="si">}{</span><span class="s1">&#39;&#39;</span> <span class="k">if</span> <span class="n">width</span><span class="o">==</span><span class="mi">0</span> <span class="k">else</span> <span class="n">width</span><span class="si">}{</span><span class="n">grouping</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">precision</span><span class="si">}</span><span class="s2">f</span><span class="se">}}</span><span class="s2">&quot;</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Format spec:&quot;</span><span class="p">,</span><span class="n">format_spec</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;x ≈&quot;</span><span class="p">,</span><span class="n">format_spec</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">eval</span><span class="p">(</span><span class="n">x</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">
{"version_major": 2, "version_minor": 0, "model_id": "6e0add3ba8944ad49f56767beb1c4553"}
</script></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:,.2f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mi">10000</span><span class="o">/</span><span class="mi">3</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>3,333.33
</pre></div>
</div>
</div>
</div>
<p>String formatting is useful for different data types other than <code class="docutils literal notranslate"><span class="pre">float</span></code>.<br />
E.g., consider the following program that prints a time specified by some variables.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Some specified time</span>
<span class="n">hour</span> <span class="o">=</span> <span class="mi">12</span>
<span class="n">minute</span> <span class="o">=</span> <span class="mi">34</span>
<span class="n">second</span> <span class="o">=</span> <span class="mi">56</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The time is &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">hour</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;:&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">minute</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;:&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">second</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The time is 12:34:56.
</pre></div>
</div>
</div>
</div>
<p>Imagine you have to show also the date in different formats.<br />
The code can become very hard to read/write because</p>
<ul class="simple">
<li><p>the message is a concatenation of multiple strings and</p></li>
<li><p>the integer variables need to be converted to strings.</p></li>
</ul>
<p>Omitting <code class="docutils literal notranslate"><span class="pre">+</span></code> leads to syntax error. Removing <code class="docutils literal notranslate"><span class="pre">str</span></code> as follows also does not give the desired format.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The time is &quot;</span><span class="p">,</span> <span class="n">hour</span><span class="p">,</span> <span class="s2">&quot;:&quot;</span><span class="p">,</span> <span class="n">minute</span><span class="p">,</span> <span class="s2">&quot;:&quot;</span><span class="p">,</span> <span class="n">second</span><span class="p">,</span> <span class="s2">&quot;.&quot;</span><span class="p">)</span>  <span class="c1"># note the extra spaces</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The time is  12 : 34 : 56 .
</pre></div>
</div>
</div>
</div>
<p>To make the code more readable, we can use the <code class="docutils literal notranslate"><span class="pre">format</span></code> function as follows.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">message</span> <span class="o">=</span> <span class="s2">&quot;The time is </span><span class="si">{}</span><span class="s2">:</span><span class="si">{}</span><span class="s2">:</span><span class="si">{}</span><span class="s2">.&quot;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">message</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">hour</span><span class="p">,</span><span class="n">minute</span><span class="p">,</span><span class="n">second</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The time is 12:34:56.
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>We can have multiple <em>place-holders</em> <code class="docutils literal notranslate"><span class="pre">{}</span></code> inside a string.</p></li>
<li><p>We can then provide the contents (any type: numbers, strings..) using the <code class="docutils literal notranslate"><span class="pre">format</span></code> function, which</p></li>
<li><p>substitutes the place-holders by the function arguments from left to right.</p></li>
</ul>
<p>According to the <a class="reference external" href="https://docs.python.org/3/library/string.html#format-string-syntax">string formatting syntax</a>, we can change the order of substitution using</p>
<ul class="simple">
<li><p>indices <em>(0 is the first item)</em> or</p></li>
<li><p>names inside the placeholder <code class="docutils literal notranslate"><span class="pre">{}</span></code>:</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;You should </span><span class="si">{0}</span><span class="s2"> </span><span class="si">{1}</span><span class="s2"> what I say instead of what I </span><span class="si">{0}</span><span class="s2">.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">&quot;do&quot;</span><span class="p">,</span> <span class="s2">&quot;only&quot;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The surname of </span><span class="si">{first}</span><span class="s2"> </span><span class="si">{last}</span><span class="s2"> is </span><span class="si">{last}</span><span class="s2">.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">first</span><span class="o">=</span><span class="s2">&quot;John&quot;</span><span class="p">,</span> <span class="n">last</span><span class="o">=</span><span class="s2">&quot;Doe&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>You should do only what I say instead of what I do.
The surname of John Doe is Doe.
</pre></div>
</div>
</div>
</div>
<p>You can even put variables inside the format specification directly and have a nested string formatting.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">align</span><span class="p">,</span> <span class="n">width</span> <span class="o">=</span> <span class="s2">&quot;^&quot;</span><span class="p">,</span> <span class="mi">5</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">{{</span><span class="s2">:*</span><span class="si">{</span><span class="n">align</span><span class="si">}{</span><span class="n">width</span><span class="si">}</span><span class="se">}}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>  <span class="c1"># note the syntax f&quot;...&quot;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>3333.3333333333335
</pre></div>
</div>
</div>
</div>
<p><strong>Exercise</strong> Play with the following widget to learn more about the formating specification.</p>
<ol class="simple">
<li><p>What happens when <code class="docutils literal notranslate"><span class="pre">align</span></code> is none but <code class="docutils literal notranslate"><span class="pre">fill</span></code> is <code class="docutils literal notranslate"><span class="pre">*</span></code>?</p></li>
<li><p>What happens when the <code class="docutils literal notranslate"><span class="pre">expression</span></code> is a multi-line string?</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ipywidgets</span> <span class="kn">import</span> <span class="n">interact</span>
<span class="nd">@interact</span><span class="p">(</span><span class="n">expression</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;&#39;ABC&#39;&quot;</span><span class="p">,</span>
          <span class="n">fill</span><span class="o">=</span><span class="s1">&#39;*&#39;</span><span class="p">,</span>
          <span class="n">align</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;None&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&lt;&#39;</span><span class="p">:</span><span class="s1">&#39;&lt;&#39;</span><span class="p">,</span><span class="s1">&#39;&gt;&#39;</span><span class="p">:</span><span class="s1">&#39;&gt;&#39;</span><span class="p">,</span><span class="s1">&#39;=&#39;</span><span class="p">:</span><span class="s1">&#39;=&#39;</span><span class="p">,</span><span class="s1">&#39;^&#39;</span><span class="p">:</span><span class="s1">&#39;^&#39;</span><span class="p">},</span>
          <span class="n">width</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">20</span><span class="p">))</span>
<span class="k">def</span> <span class="nf">print_objectt</span><span class="p">(</span><span class="n">expression</span><span class="p">,</span><span class="n">fill</span><span class="p">,</span><span class="n">align</span><span class="o">=</span><span class="s1">&#39;^&#39;</span><span class="p">,</span><span class="n">width</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
    <span class="n">format_spec</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="se">{{</span><span class="s2">:</span><span class="si">{</span><span class="n">fill</span><span class="si">}{</span><span class="n">align</span><span class="si">}{</span><span class="s1">&#39;&#39;</span> <span class="k">if</span> <span class="n">width</span><span class="o">==</span><span class="mi">0</span> <span class="k">else</span> <span class="n">width</span><span class="si">}</span><span class="se">}}</span><span class="s2">&quot;</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Format spec:&quot;</span><span class="p">,</span><span class="n">format_spec</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Print:&quot;</span><span class="p">,</span><span class="n">format_spec</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">eval</span><span class="p">(</span><span class="n">expression</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">
{"version_major": 2, "version_minor": 0, "model_id": "0e1fd90469fc474d9ee0b6db532d51cb"}
</script></div>
</div>
<ol class="simple">
<li><p>It returns a ValueError because align must be specified when fill is.</p></li>
<li><p>The newline character is simply regarded a character. The formatting is not applied line-by-line. E.g., try ‘ABC\nDEF’.</p></li>
</ol>
</div>
</div>


<script type="application/vnd.jupyter.widget-state+json">
{"state": {"8f6590d03eff4f19923ea1bba54f9aa1": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "2c1472ba922544c49b16f2b2bacf8e35": {"model_name": "VBoxModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": ["widget-interact"], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "VBoxModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "VBoxView", "box_style": "", "children": ["IPY_MODEL_f7fa5840027542288ea6d781495bcc9e", "IPY_MODEL_33422b2c305047fcb94ea17b59e2006c"], "layout": "IPY_MODEL_8f6590d03eff4f19923ea1bba54f9aa1"}}, "a98bc1e2d7a24fd8a4e8bcc608835c4b": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "8cd436f00e394780a7bb20fd06fe11dd": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "f7fa5840027542288ea6d781495bcc9e": {"model_name": "DropdownModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DropdownModel", "_options_labels": ["a-number = 15", "a_number = 15", "15 = 15", "_15 = 15", "del = 15", "Del = 15", "type = print", "print = type", "input = print"], "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "DropdownView", "description": "assignment", "description_tooltip": null, "disabled": false, "index": 0, "layout": "IPY_MODEL_a98bc1e2d7a24fd8a4e8bcc608835c4b", "style": "IPY_MODEL_8cd436f00e394780a7bb20fd06fe11dd"}}, "61599d881189493992593711ae70a915": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "33422b2c305047fcb94ea17b59e2006c": {"model_name": "OutputModel", "model_module": "@jupyter-widgets/output", "model_module_version": "1.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/output", "_model_module_version": "1.0.0", "_model_name": "OutputModel", "_view_count": null, "_view_module": "@jupyter-widgets/output", "_view_module_version": "1.0.0", "_view_name": "OutputView", "layout": "IPY_MODEL_61599d881189493992593711ae70a915", "msg_id": "", "outputs": [{"output_type": "error", "ename": "SyntaxError", "evalue": "can't assign to operator (<string>, line 1)", "traceback": ["\u001b[0;36m  File \u001b[0;32m\"<string>\"\u001b[0;36m, line \u001b[0;32m1\u001b[0m\n\u001b[0;31mSyntaxError\u001b[0m\u001b[0;31m:\u001b[0m can't assign to operator\n"]}]}}, "562e26bfde314e38b17aedf24278e6dc": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "6e0add3ba8944ad49f56767beb1c4553": {"model_name": "VBoxModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": ["widget-interact"], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "VBoxModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "VBoxView", "box_style": "", "children": ["IPY_MODEL_e2f19a50b6e74669bdf9e2bb4e3a185b", "IPY_MODEL_ceecea20367f4b52aae1f2fc356d65ac", "IPY_MODEL_23e8dcde45e54f3d86c8e5500fd4cb9e", "IPY_MODEL_5ac1103457e0467eb3374b1582366cde", "IPY_MODEL_160f8e669f2b4852a190b04c2055726e", "IPY_MODEL_d92ebeb185334901982a99799db59d50", "IPY_MODEL_476374d892594f25ae04ef6cfffef606"], "layout": "IPY_MODEL_562e26bfde314e38b17aedf24278e6dc"}}, "09c369db18de4a6686ae39d6d4bf8c3b": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "ed2340e3f8224615aa7915c0537ecc81": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "e2f19a50b6e74669bdf9e2bb4e3a185b": {"model_name": "TextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "TextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "TextView", "continuous_update": true, "description": "x", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_09c369db18de4a6686ae39d6d4bf8c3b", "placeholder": "\u200b", "style": "IPY_MODEL_ed2340e3f8224615aa7915c0537ecc81", "value": "10000/3"}}, "6385f569311f402cb05ecd32fd0b6d3d": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "b9baa3d826c3424cbbdca0388fed8fb7": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "ceecea20367f4b52aae1f2fc356d65ac": {"model_name": "DropdownModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DropdownModel", "_options_labels": ["None", "+", "-", "SPACE"], "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "DropdownView", "description": "sign", "description_tooltip": null, "disabled": false, "index": 0, "layout": "IPY_MODEL_6385f569311f402cb05ecd32fd0b6d3d", "style": "IPY_MODEL_b9baa3d826c3424cbbdca0388fed8fb7"}}, "12e3ee86ae81430689420e138c258f00": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "fa82fafbe0834b18a346c99e92d9c10b": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "23e8dcde45e54f3d86c8e5500fd4cb9e": {"model_name": "DropdownModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DropdownModel", "_options_labels": ["None", "<", ">", "=", "^"], "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "DropdownView", "description": "align", "description_tooltip": null, "disabled": false, "index": 0, "layout": "IPY_MODEL_12e3ee86ae81430689420e138c258f00", "style": "IPY_MODEL_fa82fafbe0834b18a346c99e92d9c10b"}}, "40d594c6808e42e5824785d21c06ddfa": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "9ebdb788f80049ad8c9463a55bf2c3d8": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "5ac1103457e0467eb3374b1582366cde": {"model_name": "DropdownModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DropdownModel", "_options_labels": ["None", "_", ","], "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "DropdownView", "description": "grouping", "description_tooltip": null, "disabled": false, "index": 0, "layout": "IPY_MODEL_40d594c6808e42e5824785d21c06ddfa", "style": "IPY_MODEL_9ebdb788f80049ad8c9463a55bf2c3d8"}}, "36152701d7ff485d9087cbb0143d29f8": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "151ec8466b0b4bbca363ce5e1b60df55": {"model_name": "SliderStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "SliderStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": "", "handle_color": null}}, "160f8e669f2b4852a190b04c2055726e": {"model_name": "IntSliderModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "IntSliderModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "IntSliderView", "continuous_update": true, "description": "width", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_36152701d7ff485d9087cbb0143d29f8", "max": 20, "min": 0, "orientation": "horizontal", "readout": true, "readout_format": "d", "step": 1, "style": "IPY_MODEL_151ec8466b0b4bbca363ce5e1b60df55", "value": 0}}, "8e2808b307e54ad3b9e7f1243be237f6": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "cd5d40351d6042568fcee4ef9db1c5d1": {"model_name": "SliderStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "SliderStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": "", "handle_color": null}}, "d92ebeb185334901982a99799db59d50": {"model_name": "IntSliderModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "IntSliderModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "IntSliderView", "continuous_update": true, "description": "precision", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_8e2808b307e54ad3b9e7f1243be237f6", "max": 20, "min": 0, "orientation": "horizontal", "readout": true, "readout_format": "d", "step": 1, "style": "IPY_MODEL_cd5d40351d6042568fcee4ef9db1c5d1", "value": 2}}, "fb530ac29d294f79957617c7d9f38e5c": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "476374d892594f25ae04ef6cfffef606": {"model_name": "OutputModel", "model_module": "@jupyter-widgets/output", "model_module_version": "1.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/output", "_model_module_version": "1.0.0", "_model_name": "OutputModel", "_view_count": null, "_view_module": "@jupyter-widgets/output", "_view_module_version": "1.0.0", "_view_name": "OutputView", "layout": "IPY_MODEL_fb530ac29d294f79957617c7d9f38e5c", "msg_id": "", "outputs": [{"output_type": "stream", "name": "stdout", "text": "Format spec: {:.2f}\nx \u2248 3333.33\n"}]}}, "c3b55f223bf24a3a9c52a35fc816e515": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "0e1fd90469fc474d9ee0b6db532d51cb": {"model_name": "VBoxModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": ["widget-interact"], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "VBoxModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "VBoxView", "box_style": "", "children": ["IPY_MODEL_7a7f2daa9d094343a5ef7d5013b19072", "IPY_MODEL_8549893d07784490a6085e095296b272", "IPY_MODEL_41d977d1ba71446a9eab26def75e319f", "IPY_MODEL_53e01c410ed648dfa1049a939f980e53", "IPY_MODEL_ddda53a7bbe24ba48f92e73d53f9847f"], "layout": "IPY_MODEL_c3b55f223bf24a3a9c52a35fc816e515"}}, "269ac100bfa047be9da6dc543970ba48": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "d6b932ec7c8e465e9bd923e9ab8ea642": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "7a7f2daa9d094343a5ef7d5013b19072": {"model_name": "TextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "TextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "TextView", "continuous_update": true, "description": "expression", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_269ac100bfa047be9da6dc543970ba48", "placeholder": "\u200b", "style": "IPY_MODEL_d6b932ec7c8e465e9bd923e9ab8ea642", "value": "'ABC'"}}, "88a7a27fee224f418f0c9deef18ded26": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "c311e13617e244709b83d647f4f00672": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "8549893d07784490a6085e095296b272": {"model_name": "TextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "TextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "TextView", "continuous_update": true, "description": "fill", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_88a7a27fee224f418f0c9deef18ded26", "placeholder": "\u200b", "style": "IPY_MODEL_c311e13617e244709b83d647f4f00672", "value": "*"}}, "a777fe213fb24eef85f9971924e8a991": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "b55af974006443c1a390799d8259da79": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "41d977d1ba71446a9eab26def75e319f": {"model_name": "DropdownModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DropdownModel", "_options_labels": ["None", "<", ">", "=", "^"], "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "DropdownView", "description": "align", "description_tooltip": null, "disabled": false, "index": 4, "layout": "IPY_MODEL_a777fe213fb24eef85f9971924e8a991", "style": "IPY_MODEL_b55af974006443c1a390799d8259da79"}}, "d12615ab1a514fe095bfa81e56d6977e": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "7182a35ccf8a409ba88a387abdd9cdec": {"model_name": "SliderStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "SliderStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": "", "handle_color": null}}, "53e01c410ed648dfa1049a939f980e53": {"model_name": "IntSliderModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "IntSliderModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "IntSliderView", "continuous_update": true, "description": "width", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_d12615ab1a514fe095bfa81e56d6977e", "max": 20, "min": 0, "orientation": "horizontal", "readout": true, "readout_format": "d", "step": 1, "style": "IPY_MODEL_7182a35ccf8a409ba88a387abdd9cdec", "value": 10}}, "f839291d5e504a87a9fbb24fcdc6c3df": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "ddda53a7bbe24ba48f92e73d53f9847f": {"model_name": "OutputModel", "model_module": "@jupyter-widgets/output", "model_module_version": "1.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/output", "_model_module_version": "1.0.0", "_model_name": "OutputModel", "_view_count": null, "_view_module": "@jupyter-widgets/output", "_view_module_version": "1.0.0", "_view_name": "OutputView", "layout": "IPY_MODEL_f839291d5e504a87a9fbb24fcdc6c3df", "msg_id": "", "outputs": [{"output_type": "stream", "name": "stdout", "text": "Format spec: {:*^10}\nPrint: ***ABC****\n"}]}}}, "version_major": 2, "version_minor": 0}
</script>

<span id="document-Lecture2/Expressions and Arithmetic"></span><div class="section" id="expressions-and-arithmetic">
<h3>Expressions and Arithmetic<a class="headerlink" href="#expressions-and-arithmetic" title="Permalink to this headline">¶</a></h3>
<div class="section" id="operators">
<h4>Operators<a class="headerlink" href="#operators" title="Permalink to this headline">¶</a></h4>
<p>The followings are common operators you can use to form an expression in Python:</p>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="text-align:right head"><p>Operator</p></th>
<th class="text-align:left head"><p>Operation</p></th>
<th class="text-align:center head"><p>Example</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-align:right"><p>unary <code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td class="text-align:left"><p>Negation</p></td>
<td class="text-align:center"><p><code class="docutils literal notranslate"><span class="pre">-y</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-align:right"><p><code class="docutils literal notranslate"><span class="pre">+</span></code></p></td>
<td class="text-align:left"><p>Addition</p></td>
<td class="text-align:center"><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">+</span> <span class="pre">y</span></code></p></td>
</tr>
<tr class="row-even"><td class="text-align:right"><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td class="text-align:left"><p>Subtraction</p></td>
<td class="text-align:center"><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">-</span> <span class="pre">y</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-align:right"><p><code class="docutils literal notranslate"><span class="pre">*</span></code></p></td>
<td class="text-align:left"><p>Multiplication</p></td>
<td class="text-align:center"><p><code class="docutils literal notranslate"><span class="pre">x*y</span></code></p></td>
</tr>
<tr class="row-even"><td class="text-align:right"><p><code class="docutils literal notranslate"><span class="pre">/</span></code></p></td>
<td class="text-align:left"><p>Division</p></td>
<td class="text-align:center"><p><code class="docutils literal notranslate"><span class="pre">x/y</span></code></p></td>
</tr>
</tbody>
</table>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> in the examples are called the <em>left and right operands</em> respectively.</p></li>
<li><p>The first operator is a <em>unary operator</em>, which operates on just one operand.<br />
(<code class="docutils literal notranslate"><span class="pre">+</span></code> can also be used as a unary operator, but that is not useful.)</p></li>
<li><p>All other operators are <em>binary operators</em>, which operate on two operands.</p></li>
</ul>
<p>Python also supports some more operators such as the followings:</p>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="text-align:right head"><p>Operator</p></th>
<th class="text-align:left head"><p>Operation</p></th>
<th class="text-align:center head"><p>Example</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-align:right"><p><code class="docutils literal notranslate"><span class="pre">//</span></code></p></td>
<td class="text-align:left"><p>Integer division</p></td>
<td class="text-align:center"><p><code class="docutils literal notranslate"><span class="pre">x//y</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-align:right"><p><code class="docutils literal notranslate"><span class="pre">%</span></code></p></td>
<td class="text-align:left"><p>Modulo</p></td>
<td class="text-align:center"><p><code class="docutils literal notranslate"><span class="pre">x%y</span></code></p></td>
</tr>
<tr class="row-even"><td class="text-align:right"><p><code class="docutils literal notranslate"><span class="pre">**</span></code></p></td>
<td class="text-align:left"><p>Exponentiation</p></td>
<td class="text-align:center"><p><code class="docutils literal notranslate"><span class="pre">x**y</span></code></p></td>
</tr>
</tbody>
</table>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># ipywidgets to demonstrate the operations of binary operators</span>
<span class="kn">from</span> <span class="nn">ipywidgets</span> <span class="kn">import</span> <span class="n">interact</span>
<span class="n">binary_operators</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;+&#39;</span><span class="p">:</span><span class="s1">&#39; + &#39;</span><span class="p">,</span><span class="s1">&#39;-&#39;</span><span class="p">:</span><span class="s1">&#39; - &#39;</span><span class="p">,</span><span class="s1">&#39;*&#39;</span><span class="p">:</span><span class="s1">&#39;*&#39;</span><span class="p">,</span><span class="s1">&#39;/&#39;</span><span class="p">:</span><span class="s1">&#39;/&#39;</span><span class="p">,</span><span class="s1">&#39;//&#39;</span><span class="p">:</span><span class="s1">&#39;//&#39;</span><span class="p">,</span><span class="s1">&#39;%&#39;</span><span class="p">:</span><span class="s1">&#39;%&#39;</span><span class="p">,</span><span class="s1">&#39;**&#39;</span><span class="p">:</span><span class="s1">&#39;**&#39;</span><span class="p">}</span>
<span class="nd">@interact</span><span class="p">(</span><span class="n">operand1</span><span class="o">=</span><span class="sa">r</span><span class="s1">&#39;10&#39;</span><span class="p">,</span>
          <span class="n">operator</span><span class="o">=</span><span class="n">binary_operators</span><span class="p">,</span>
          <span class="n">operand2</span><span class="o">=</span><span class="sa">r</span><span class="s1">&#39;3&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">binary_operation</span><span class="p">(</span><span class="n">operand1</span><span class="p">,</span><span class="n">operator</span><span class="p">,</span><span class="n">operand2</span><span class="p">):</span>
    <span class="n">expression</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">operand1</span><span class="si">}{</span><span class="n">operator</span><span class="si">}{</span><span class="n">operand2</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="n">value</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="n">expression</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span><span class="si">{</span><span class="s1">&#39;Expression:&#39;</span><span class="si">:</span><span class="s2">&gt;11</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">expression</span><span class="si">}</span><span class="se">\n</span><span class="si">{</span><span class="s1">&#39;Value:&#39;</span><span class="si">:</span><span class="s2">&gt;11</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="se">\n</span><span class="si">{</span><span class="s1">&#39;Type:&#39;</span><span class="si">:</span><span class="s2">&gt;11</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;&quot;&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id": "180c6747369d4522a8517c7a5599f05a", "version_major": 2, "version_minor": 0}
</script></div>
</div>
<p><strong>Exercise</strong> What is the difference between <code class="docutils literal notranslate"><span class="pre">/</span></code> and <code class="docutils literal notranslate"><span class="pre">//</span></code>?</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">/</span></code> is the usual division, and so <code class="docutils literal notranslate"><span class="pre">10/3</span></code> returns the floating-point number <span class="math notranslate nohighlight">\(3.\dot{3}\)</span>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">//</span></code> is integer division, and so <code class="docutils literal notranslate"><span class="pre">10//3</span></code> gives the integer quotient 3.</p></li>
</ul>
<p><strong>What does the modulo operator <code class="docutils literal notranslate"><span class="pre">%</span></code> do?</strong></p>
<p>You can think of it as computing the remainder, but the <a class="reference external" href="https://docs.python.org/3/reference/expressions.html#binary-arithmetic-operations">truth</a> is more complicated than required for the course.</p>
<p><strong>Exercise</strong> What does <code class="docutils literal notranslate"><span class="pre">'abc'</span> <span class="pre">*</span> <span class="pre">3</span></code> mean? What about <code class="docutils literal notranslate"><span class="pre">10</span> <span class="pre">*</span> <span class="pre">'a'</span></code>?</p>
<ul class="simple">
<li><p>The first expression means concatenating <code class="docutils literal notranslate"><span class="pre">'abc'</span></code> three times.</p></li>
<li><p>The second means concatenating <code class="docutils literal notranslate"><span class="pre">'a'</span></code> ten times.</p></li>
</ul>
<p><strong>Exercise</strong> How can you change the default operands (<code class="docutils literal notranslate"><span class="pre">10</span></code> and <code class="docutils literal notranslate"><span class="pre">3</span></code>) for different operators so that the overall expression has type <code class="docutils literal notranslate"><span class="pre">float</span></code>.<br />
Do you need to change all the operands to <code class="docutils literal notranslate"><span class="pre">float</span></code>?</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">/</span></code> already returns a <code class="docutils literal notranslate"><span class="pre">float</span></code>.</p></li>
<li><p>For all other operators, changing at least one of the operands to <code class="docutils literal notranslate"><span class="pre">float</span></code> will return a <code class="docutils literal notranslate"><span class="pre">float</span></code>.</p></li>
</ul>
</div>
<div class="section" id="operator-precedence-and-associativity">
<h4>Operator Precedence and Associativity<a class="headerlink" href="#operator-precedence-and-associativity" title="Permalink to this headline">¶</a></h4>
<p>An expression can consist of a sequence of operations performed in a row such as <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">+</span> <span class="pre">y*z</span></code>.</p>
<p><strong>How to determine which operation should be performed first?</strong></p>
<p>Like arithmetics, the order of operations is decided based on the following rules applied sequentially:</p>
<ol class="simple">
<li><p><em>grouping</em> by parentheses: inner grouping first</p></li>
<li><p>operator <em>precedence/priority</em>: higher precedence first</p></li>
<li><p>operator <em>associativity</em>:</p>
<ul class="simple">
<li><p>left associativity: left operand first</p></li>
<li><p>right associativity: right operand first</p></li>
</ul>
</li>
</ol>
<p><strong>What are the operator precedence and associativity?</strong></p>
<p>The following table gives a concise summary:</p>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="text-align:left head"><p>Operators</p></th>
<th class="text-align:center head"><p>Associativity</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">**</span></code></p></td>
<td class="text-align:center"><p>right</p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">-</span></code> (unary)</p></td>
<td class="text-align:center"><p>right</p></td>
</tr>
<tr class="row-even"><td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">*</span></code>,<code class="docutils literal notranslate"><span class="pre">/</span></code>,<code class="docutils literal notranslate"><span class="pre">//</span></code>,<code class="docutils literal notranslate"><span class="pre">%</span></code></p></td>
<td class="text-align:center"><p>left</p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">+</span></code>,<code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td class="text-align:center"><p>left</p></td>
</tr>
</tbody>
</table>
<p><strong>Exercise</strong> Play with the following widget to understand the precedence and associativity of different operators.<br />
In particular, explain whether the expression <code class="docutils literal notranslate"><span class="pre">-10</span> <span class="pre">**</span> <span class="pre">2*3</span></code> gives <span class="math notranslate nohighlight">\((-10)^{2\times 3}= 10^6 = 1000000\)</span>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ipywidgets</span> <span class="kn">import</span> <span class="n">fixed</span>
<span class="nd">@interact</span><span class="p">(</span><span class="n">operator1</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;None&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;unary -&#39;</span><span class="p">:</span><span class="s1">&#39;-&#39;</span><span class="p">},</span>
          <span class="n">operand1</span><span class="o">=</span><span class="n">fixed</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;10&#39;</span><span class="p">),</span>
          <span class="n">operator2</span><span class="o">=</span><span class="n">binary_operators</span><span class="p">,</span>
          <span class="n">operand2</span><span class="o">=</span><span class="n">fixed</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;2&#39;</span><span class="p">),</span>
          <span class="n">operator3</span><span class="o">=</span><span class="n">binary_operators</span><span class="p">,</span>
          <span class="n">operand3</span><span class="o">=</span><span class="n">fixed</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;3&#39;</span><span class="p">)</span>
          <span class="p">)</span>
<span class="k">def</span> <span class="nf">three_operators</span><span class="p">(</span><span class="n">operator1</span><span class="p">,</span><span class="n">operand1</span><span class="p">,</span><span class="n">operator2</span><span class="p">,</span><span class="n">operand2</span><span class="p">,</span><span class="n">operator3</span><span class="p">,</span><span class="n">operand3</span><span class="p">):</span>
    <span class="n">expression</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">operator1</span><span class="si">}{</span><span class="n">operand1</span><span class="si">}{</span><span class="n">operator2</span><span class="si">}{</span><span class="n">operand2</span><span class="si">}{</span><span class="n">operator3</span><span class="si">}{</span><span class="n">operand3</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="n">value</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="n">expression</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span><span class="si">{</span><span class="s1">&#39;Expression:&#39;</span><span class="si">:</span><span class="s2">&gt;11</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">expression</span><span class="si">}</span><span class="se">\n</span><span class="si">{</span><span class="s1">&#39;Value:&#39;</span><span class="si">:</span><span class="s2">&gt;11</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="se">\n</span><span class="si">{</span><span class="s1">&#39;Type:&#39;</span><span class="si">:</span><span class="s2">&gt;11</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;&quot;&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id": "2aecf8675c5948ec841c98a3015764f8", "version_major": 2, "version_minor": 0}
</script></div>
</div>
<p>The expression evaluates to <span class="math notranslate nohighlight">\((-(10^2))\times 3=-300\)</span> instead because the exponentiation operator <code class="docutils literal notranslate"><span class="pre">**</span></code> has higher precedence than both the multiplication <code class="docutils literal notranslate"><span class="pre">*</span></code> and the negation operators <code class="docutils literal notranslate"><span class="pre">-</span></code>.</p>
<p><strong>Exercise</strong> To avoid confusion in the order of operations, we should follow the <a class="reference external" href="https://www.python.org/dev/peps/pep-0008/#other-recommendations">style guide</a> when writing expression.<br />
What is the proper way to write <code class="docutils literal notranslate"><span class="pre">-10</span> <span class="pre">**</span> <span class="pre">2*3</span></code>?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="o">**</span><span class="mi">2</span> <span class="o">*</span> <span class="mi">3</span><span class="p">)</span>  <span class="c1"># can use use code-prettify extension to fix incorrect styles</span>
<span class="nb">print</span><span class="p">((</span><span class="o">-</span><span class="mi">10</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span> <span class="o">*</span> <span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>-300
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="augmented-assignment-operators">
<h4>Augmented Assignment Operators<a class="headerlink" href="#augmented-assignment-operators" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>For convenience, Python defines the <a class="reference external" href="https://docs.python.org/3/reference/simple_stmts.html#grammar-token-augmented-assignment-stmt">augmented assignment operators</a> such as <code class="docutils literal notranslate"><span class="pre">+=</span></code>, where</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">+=</span> <span class="pre">1</span></code> means <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">x</span> <span class="pre">+</span> <span class="pre">1</span></code>.</p></li>
</ul>
<p>The following widgets demonstrate other augmented assignment operators.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ipywidgets</span> <span class="kn">import</span> <span class="n">interact</span><span class="p">,</span> <span class="n">fixed</span>
<span class="nd">@interact</span><span class="p">(</span><span class="n">initial_value</span><span class="o">=</span><span class="n">fixed</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;10&#39;</span><span class="p">),</span>
          <span class="n">operator</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;+=&#39;</span><span class="p">,</span><span class="s1">&#39;-=&#39;</span><span class="p">,</span><span class="s1">&#39;*=&#39;</span><span class="p">,</span><span class="s1">&#39;/=&#39;</span><span class="p">,</span><span class="s1">&#39;//=&#39;</span><span class="p">,</span><span class="s1">&#39;%=&#39;</span><span class="p">,</span><span class="s1">&#39;**=&#39;</span><span class="p">],</span>
          <span class="n">operand</span><span class="o">=</span><span class="n">fixed</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;2&#39;</span><span class="p">))</span>
<span class="k">def</span> <span class="nf">binary_operation</span><span class="p">(</span><span class="n">initial_value</span><span class="p">,</span><span class="n">operator</span><span class="p">,</span><span class="n">operand</span><span class="p">):</span>
    <span class="n">assignment</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;x = </span><span class="si">{</span><span class="n">initial_value</span><span class="si">}</span><span class="se">\n</span><span class="s2">x </span><span class="si">{</span><span class="n">operator</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">operand</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="n">_locals</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">exec</span><span class="p">(</span><span class="n">assignment</span><span class="p">,</span><span class="kc">None</span><span class="p">,</span><span class="n">_locals</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&quot;&quot;Assignments:</span><span class="se">\n</span><span class="si">{</span><span class="n">assignment</span><span class="si">:</span><span class="s2">&gt;10</span><span class="si">}</span><span class="se">\n</span><span class="s2">x: </span><span class="si">{</span><span class="n">_locals</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">_locals</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">])</span><span class="si">}</span><span class="s2">)&quot;&quot;&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id": "955b883f5438459f9d262a959f9a53c3", "version_major": 2, "version_minor": 0}
</script></div>
</div>
<p><strong>Exercise</strong> Can we create an expression using (augmented) assignment operators? Try running the code to see the effect.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="mi">3</span><span class="o">*</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="mi">15</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">  File</span><span class="nn"> &quot;&lt;ipython-input-62-566073d2d63b&gt;&quot;</span><span class="gt">, line </span><span class="mi">1</span>
<span class="g g-Whitespace">    </span><span class="mi">3</span><span class="o">*</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="mi">15</span><span class="p">)</span>
         <span class="o">^</span>
<span class="ne">SyntaxError</span>: invalid syntax
</pre></div>
</div>
</div>
</div>
<p>Assignment operators are used in assignment statements, which are not expressions because they cannot be evaluated.</p>
</div>
</div>
<span id="document-Lecture3/Conditional Execution"></span><div class="section" id="conditional-execution">
<h3>Conditional Execution<a class="headerlink" href="#conditional-execution" title="Permalink to this headline">¶</a></h3>
<div class="section" id="motivation">
<h4>Motivation<a class="headerlink" href="#motivation" title="Permalink to this headline">¶</a></h4>
<p>Conditional execution means running different pieces of code based on different conditions. Why?</p>
<p>For instance, when trying to compute <code class="docutils literal notranslate"><span class="pre">a/b</span></code>, <code class="docutils literal notranslate"><span class="pre">b</span></code> may be <code class="docutils literal notranslate"><span class="pre">0</span></code> and division by <code class="docutils literal notranslate"><span class="pre">0</span></code> is invalid.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">multiply_or_divide</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;a:</span><span class="si">{}</span><span class="s1">, b:</span><span class="si">{}</span><span class="s1">, a*b:</span><span class="si">{}</span><span class="s1">, a/b:</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span> <span class="o">*</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span> <span class="o">/</span> <span class="n">b</span><span class="p">))</span>


<span class="n">multiply_or_divide</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">multiply_or_divide</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>  <span class="c1"># multiplication is valid but not shown</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>a:1, b:2, a*b:2, a/b:0.5
</pre></div>
</div>
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">ZeroDivisionError</span><span class="g g-Whitespace">                         </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">2</span><span class="o">-</span><span class="n">c6f0ad2b2b09</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span> 
<span class="g g-Whitespace">      </span><span class="mi">5</span> <span class="n">multiply_or_divide</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="ne">----&gt; </span><span class="mi">6</span> <span class="n">multiply_or_divide</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>  <span class="c1"># multiplication is valid but not shown</span>

<span class="nn">&lt;ipython-input-2-c6f0ad2b2b09&gt;</span> in <span class="ni">multiply_or_divide</span><span class="nt">(a, b)</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="k">def</span> <span class="nf">multiply_or_divide</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
<span class="ne">----&gt; </span><span class="mi">2</span>     <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;a:</span><span class="si">{}</span><span class="s1">, b:</span><span class="si">{}</span><span class="s1">, a*b:</span><span class="si">{}</span><span class="s1">, a/b:</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span> <span class="o">*</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span> <span class="o">/</span> <span class="n">b</span><span class="p">))</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span> 
<span class="g g-Whitespace">      </span><span class="mi">4</span> 
<span class="g g-Whitespace">      </span><span class="mi">5</span> <span class="n">multiply_or_divide</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

<span class="ne">ZeroDivisionError</span>: division by zero
</pre></div>
</div>
</div>
</div>
<p>Can we skip only the division but not multiplication when <code class="docutils literal notranslate"><span class="pre">b</span></code> is <code class="docutils literal notranslate"><span class="pre">0</span></code>?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">multiply_or_divide</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="n">fix</span> <span class="o">=</span> <span class="n">a</span> <span class="o">/</span> <span class="n">b</span> <span class="k">if</span> <span class="n">b</span> <span class="k">else</span> <span class="s1">&#39;undefined&#39;</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;a:</span><span class="si">{}</span><span class="s1">, b:</span><span class="si">{}</span><span class="s1">, a*b:</span><span class="si">{}</span><span class="s1">, a/b:</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span> <span class="o">*</span> <span class="n">b</span><span class="p">,</span> <span class="n">fix</span><span class="p">))</span>


<span class="n">multiply_or_divide</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">multiply_or_divide</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>  <span class="c1"># multiplication is valid but not shown</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>a:1, b:2, a*b:2, a/b:0.5
a:1, b:0, a*b:0, a/b:undefined
</pre></div>
</div>
</div>
</div>
<p>The above solution involve:</p>
<ul class="simple">
<li><p>a <em>boolean expression</em> <code class="docutils literal notranslate"><span class="pre">fix</span></code> that checks whether a condition holds, and</p></li>
<li><p>a <em>conditional construct</em> <code class="docutils literal notranslate"><span class="pre">...</span> <span class="pre">if</span> <span class="pre">...</span> <span class="pre">else</span> <span class="pre">...</span></code> that specify which code block should be executed under what condition.</p></li>
</ul>
</div>
<div class="section" id="boolean-expressions">
<h4>Boolean expressions<a class="headerlink" href="#boolean-expressions" title="Permalink to this headline">¶</a></h4>
<div class="section" id="comparison-operators">
<h5>Comparison Operators<a class="headerlink" href="#comparison-operators" title="Permalink to this headline">¶</a></h5>
<p><strong>How to compare different values?</strong></p>
<p>Like the equality and inequality relationships in mathematics,<br />
Python also have binary <a class="reference external" href="https://docs.python.org/3/reference/expressions.html#comparisons"><em>comparison/relational operators</em></a>:</p>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="text-align:right head"><p>Expression</p></th>
<th class="text-align:left head"><p>True iff</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-align:right"><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">==</span> <span class="pre">y</span></code></p></td>
<td class="text-align:left"><p><span class="math notranslate nohighlight">\(x=y\)</span>.</p></td>
</tr>
<tr class="row-odd"><td class="text-align:right"><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">&lt;</span> <span class="pre">y</span></code></p></td>
<td class="text-align:left"><p><span class="math notranslate nohighlight">\(x&lt;y\)</span>.</p></td>
</tr>
<tr class="row-even"><td class="text-align:right"><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">&lt;=</span> <span class="pre">y</span></code></p></td>
<td class="text-align:left"><p><span class="math notranslate nohighlight">\(x\leq y\)</span>.</p></td>
</tr>
<tr class="row-odd"><td class="text-align:right"><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">&gt;</span> <span class="pre">y</span></code></p></td>
<td class="text-align:left"><p><span class="math notranslate nohighlight">\(x&gt;y\)</span>.</p></td>
</tr>
<tr class="row-even"><td class="text-align:right"><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">&gt;=</span> <span class="pre">y</span></code></p></td>
<td class="text-align:left"><p><span class="math notranslate nohighlight">\(x\geq y\)</span>.</p></td>
</tr>
<tr class="row-odd"><td class="text-align:right"><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">!=</span> <span class="pre">y</span></code></p></td>
<td class="text-align:left"><p><span class="math notranslate nohighlight">\(x\neq y\)</span>.</p></td>
</tr>
</tbody>
</table>
<p>Explore these operators using the widgets below:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Comparisons</span>
<span class="kn">from</span> <span class="nn">ipywidgets</span> <span class="kn">import</span> <span class="n">interact</span>
<span class="n">comparison_operators</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;==&#39;</span><span class="p">,</span><span class="s1">&#39;&lt;&#39;</span><span class="p">,</span><span class="s1">&#39;&lt;=&#39;</span><span class="p">,</span><span class="s1">&#39;&gt;&#39;</span><span class="p">,</span><span class="s1">&#39;&gt;=&#39;</span><span class="p">,</span><span class="s1">&#39;!=&#39;</span><span class="p">]</span>
<span class="nd">@interact</span><span class="p">(</span><span class="n">operand1</span><span class="o">=</span><span class="s1">&#39;10&#39;</span><span class="p">,</span>
          <span class="n">operator</span><span class="o">=</span><span class="n">comparison_operators</span><span class="p">,</span>
          <span class="n">operand2</span><span class="o">=</span><span class="s1">&#39;3&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">comparison</span><span class="p">(</span><span class="n">operand1</span><span class="p">,</span><span class="n">operator</span><span class="p">,</span><span class="n">operand2</span><span class="p">):</span>
    <span class="n">expression</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">operand1</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">operator</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">operand2</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="n">value</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="n">expression</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span><span class="si">{</span><span class="s1">&#39;Expression:&#39;</span><span class="si">:</span><span class="s2">&gt;11</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">expression</span><span class="si">}</span><span class="se">\n</span><span class="si">{</span><span class="s1">&#39;Value:&#39;</span><span class="si">:</span><span class="s2">&gt;11</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="se">\n</span><span class="si">{</span><span class="s1">&#39;Type:&#39;</span><span class="si">:</span><span class="s2">&gt;11</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;&quot;&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">
{"version_major": 2, "version_minor": 0, "model_id": "694544df0d134fba89c7bb9352302922"}
</script></div>
</div>
<ul class="simple">
<li><p>These operators return either <code class="docutils literal notranslate"><span class="pre">True</span></code> or <code class="docutils literal notranslate"><span class="pre">False</span></code>, which are <code class="docutils literal notranslate"><span class="pre">keywords</span></code> of type <em>boolean</em>.</p></li>
<li><p>The expressions are called <em>boolean expressions</em> or <em>predicates</em>, named after <a class="reference external" href="https://en.wikipedia.org/wiki/George_Boole">George Boole</a>.</p></li>
<li><p>N.b., the equality operator <code class="docutils literal notranslate"><span class="pre">==</span></code> consists of <em>two equal signs</em>, different from the assignment operator <code class="docutils literal notranslate"><span class="pre">=</span></code>.</p></li>
</ul>
<p><strong>What is the precedence of comparison operators?</strong></p>
<p>All the comparison operators have the <a class="reference external" href="https://docs.python.org/3/reference/expressions.html?highlight=precedence#operator-precedence">same precedence</a> lower than that of <code class="docutils literal notranslate"><span class="pre">+</span></code> and <code class="docutils literal notranslate"><span class="pre">-</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">&gt;=</span> <span class="mi">3</span>  <span class="c1"># (1 + 2) &gt;= 3</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<p>Python allows multiple comparison operations to be chained together:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="mf">2.0</span> <span class="o">==</span> <span class="mi">2</span><span class="o">&gt;</span><span class="mi">1</span> <span class="c1">#equivalent to (2.0 ==2) and (2&gt;1)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<p><strong>What is the associativity?</strong></p>
<p>Comparison operations are <a class="reference external" href="https://en.wikipedia.org/wiki/Operator_associativity#Non-associative_operators"><em>non-associative</em></a>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="mf">2.0</span> <span class="o">==</span> <span class="mi">2</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">2.0</span> <span class="o">==</span> <span class="p">(</span><span class="mi">2</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">)</span>  <span class="c1"># not the same as 2.0 == 2 &gt; 1</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(False, False)
</pre></div>
</div>
</div>
</div>
<p><strong>Errorata</strong> in [Halterman17] due to a misunderstanding of non-associativity vs left-to-right evaluation order:</p>
<ul>
<li><p><a class="reference external" href="https://archive.org/stream/2018Fundamentals.ofPython?ref=ol#page/n79/mode/1up">Halterman17, p.69</a>:</p>
<blockquote>
<div><p>The relational operators are binary operators and are all ~left associative~ <strong>non-associative</strong>.</p>
</div></blockquote>
</li>
<li><p><a class="reference external" href="https://archive.org/stream/2018Fundamentals.ofPython?ref=ol#page/n60/mode/1up">Halterman17, p.50, Table 3.2</a>:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">=</span></code> should be non-associative instead of right-associative.</p></li>
<li><p>The corresponding table in <code class="docutils literal notranslate"><span class="pre">Lecture2/Expressions</span> <span class="pre">and</span> <span class="pre">Arithmetic.ipynb</span></code> should also be corrected accordingly.</p></li>
</ul>
</li>
</ul>
<p><strong>Exercise</strong> Explain why the following boolean expressions have different values.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="mi">1</span> <span class="o">&lt;=</span> <span class="mi">2</span> <span class="o">&lt;</span> <span class="mi">3</span> <span class="o">!=</span> <span class="mi">4</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;=</span> <span class="mi">2</span><span class="p">)</span> <span class="o">&lt;</span> <span class="p">(</span><span class="mi">3</span> <span class="o">!=</span> <span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(True, False)
</pre></div>
</div>
</div>
</div>
<p>The second expression is not a chained comparison:</p>
<ul class="simple">
<li><p>The expressions in the parentheses are evaluated to boolean values first to <code class="docutils literal notranslate"><span class="pre">True</span></code>, and so</p></li>
<li><p>the overall expression <code class="docutils literal notranslate"><span class="pre">True</span> <span class="pre">&lt;</span> <span class="pre">True</span></code> is evaluated to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
</ul>
<p><strong>Exercise</strong> The comparison operators can be applied to different data types, as illustrated below.<br />
Explain the meaning of the operators in each of the following expressions.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Comparisons beyond numbers</span>
<span class="nd">@interact</span><span class="p">(</span><span class="n">expression</span><span class="o">=</span><span class="p">[</span>
    <span class="s1">&#39;10 == 10.&#39;</span><span class="p">,</span> <span class="s1">&#39;&quot;A&quot; == &quot;A&quot;&#39;</span><span class="p">,</span> <span class="s1">&#39;&quot;A&quot; == &quot;A &quot;&#39;</span><span class="p">,</span> <span class="s1">&#39;&quot;A&quot; != &quot;a&quot;&#39;</span><span class="p">,</span> 
    <span class="s1">&#39;&quot;A&quot; &gt; &quot;a&quot;&#39;</span><span class="p">,</span> <span class="s1">&#39;&quot;aBcd&quot; &lt; &quot;abd&quot;&#39;</span><span class="p">,</span> <span class="s1">&#39;&quot;A&quot; != 64&#39;</span><span class="p">,</span> <span class="s1">&#39;&quot;A&quot; &lt; 64&#39;</span>
<span class="p">])</span>
<span class="k">def</span> <span class="nf">relational_expression</span><span class="p">(</span><span class="n">expression</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="nb">eval</span><span class="p">(</span><span class="n">expression</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">
{"version_major": 2, "version_minor": 0, "model_id": "facb3c5b7d284826a9a159918d3e33db"}
</script></div>
</div>
<ol class="simple">
<li><p>Checks whether an integer is equal to a floating point number.</p></li>
<li><p>Checks whether two characters are the same.</p></li>
<li><p>Checks whether two strings are the same. Note the space character.</p></li>
<li><p>Checks whether a character is larger than the order character according to their unicodes.</p></li>
<li><p>Checks whether a string is lexicographically smaller than the other string.</p></li>
<li><p>Checks whether a character is not equal to an integer.</p></li>
<li><p>TypeError because there is no implementation that evaluates whether a string is smaller than an integer.</p></li>
</ol>
<p><strong>Is <code class="docutils literal notranslate"><span class="pre">!</span></code> the same as the <code class="docutils literal notranslate"><span class="pre">not</span></code> operator?</strong></p>
<p><strong>Errata</strong> There is an error in <a class="reference external" href="https://archive.org/stream/2018Fundamentals.ofPython?ref=ol#page/n79/mode/1up">Halterman17, p.69</a> due to confusion with C language:</p>
<blockquote>
<div><p>… <code class="docutils literal notranslate"><span class="pre">!(x</span> <span class="pre">&gt;=</span> <span class="pre">10)</span></code> and <code class="docutils literal notranslate"><span class="pre">!(10</span> <span class="pre">&lt;=</span> <span class="pre">x)</span></code> are ~equivalent~ <strong>invalid</strong>.</p>
</div></blockquote>
<ul class="simple">
<li><p>We can write <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">!=</span> <span class="pre">2</span></code> as <code class="docutils literal notranslate"><span class="pre">not</span> <span class="pre">1</span> <span class="pre">==</span> <span class="pre">2</span></code> but not <code class="docutils literal notranslate"><span class="pre">!(1</span> <span class="pre">==</span> <span class="pre">2)</span></code> because</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">!</span></code> is not a logical operator. It is used to call a <a class="reference external" href="https://ipython.readthedocs.io/en/stable/interactive/tutorial.html?highlight=system%20call#system-shell-commands">system shell command</a> in IPython.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!(</span><span class="nv">1</span> <span class="o">==</span> <span class="m">2</span><span class="o">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/bin/bash: 1: command not found
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>ls  # a bash <span class="nb">command</span> that lists files in the current directory
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;Conditional Execution.ipynb&#39;   Iteration.ipynb
</pre></div>
</div>
</div>
</div>
<p><strong>How to compare floating point numbers?</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">y</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">))</span><span class="o">**</span><span class="mi">3</span>
<span class="n">x</span> <span class="o">==</span> <span class="n">y</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>False
</pre></div>
</div>
</div>
</div>
<p>Why False? Shouldn’t <span class="math notranslate nohighlight">\((x^{\frac13})^3=x\)</span>?</p>
<ul class="simple">
<li><p>Floating point numbers have finite precisions and so</p></li>
<li><p>we should instead check whether the numbers are close enough.</p></li>
</ul>
<p>One method of comparing floating point numbers:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">abs</span><span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="n">y</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mf">1e-9</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">abs</span></code> is a function that returns the absolute value of its argument. Hence, the above translates to</p>
<div class="math notranslate nohighlight">
\[|x - y| \leq \delta_{\text{abs}}\]</div>
<p>or equivalently</p>
<div class="math notranslate nohighlight">
\[y-\delta_{\text{abs}} \leq x \leq y+\delta_{\text{abs}} \]</div>
<p>where <span class="math notranslate nohighlight">\(\delta_{\text{abs}}\)</span> is called the <em>absolute tolerance</em>.</p>
<p><strong>Is an absolute tolerance of <code class="docutils literal notranslate"><span class="pre">1e-9</span></code> good enough?</strong></p>
<p>What if we want to compare <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">1e10</span></code> instead of <code class="docutils literal notranslate"><span class="pre">10</span></code>?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="mf">1e10</span>
<span class="n">y</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">))</span><span class="o">**</span><span class="mi">3</span>
<span class="nb">abs</span><span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="n">y</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mf">1e-9</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>False
</pre></div>
</div>
</div>
</div>
<p>Floating point numbers “float” at different scales.<br />
A better way to use the <a class="reference external" href="https://docs.python.org/3/library/math.html#math.isclose"><code class="docutils literal notranslate"><span class="pre">isclose</span></code></a> function from <code class="docutils literal notranslate"><span class="pre">math</span></code> module.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">math</span>
<span class="n">math</span><span class="o">.</span><span class="n">isclose</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<p><strong>How does it work?</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">math.isclose(x,y)</span></code> implements</p>
<div class="math notranslate nohighlight">
\[ |x - y| \leq \max\{\delta_{\text{rel}} \max\{|x|,|y|\},\delta_{\text{abs}}\}\]</div>
<p>with the default</p>
<ul class="simple">
<li><p><em>relative tolerance</em> <span class="math notranslate nohighlight">\(\delta_{\text{rel}}\)</span> equal to <code class="docutils literal notranslate"><span class="pre">1e-9</span></code>, and</p></li>
<li><p>absolute tolerance <span class="math notranslate nohighlight">\(\delta_{\text{abs}}\)</span> equal to <code class="docutils literal notranslate"><span class="pre">0.0</span></code>.</p></li>
</ul>
<p><strong>Exercise</strong> Write the boolean expression implemented by <code class="docutils literal notranslate"><span class="pre">isclose</span></code>. You can use the function <code class="docutils literal notranslate"><span class="pre">max(a,b)</span></code> to find the maximum of <code class="docutils literal notranslate"><span class="pre">a</span></code> and <code class="docutils literal notranslate"><span class="pre">b</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rel_tol</span><span class="p">,</span> <span class="n">abs_tol</span> <span class="o">=</span> <span class="mf">1e-9</span><span class="p">,</span> <span class="mf">0.0</span>
<span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="mf">1e-100</span><span class="p">,</span> <span class="mf">2e-100</span>
<span class="c1">### BEGIN SOLUTION</span>
<span class="nb">abs</span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="n">y</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="nb">max</span><span class="p">(</span><span class="n">rel_tol</span> <span class="o">*</span> <span class="nb">max</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="nb">abs</span><span class="p">(</span><span class="n">y</span><span class="p">)),</span> <span class="n">abs_tol</span><span class="p">)</span>
<span class="c1">### END SOLUTION</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>False
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="boolean-operations">
<h5>Boolean Operations<a class="headerlink" href="#boolean-operations" title="Permalink to this headline">¶</a></h5>
<p>Since chained comparisons are non-associative. It follows a different evaluation rule than arithmetical operators.</p>
<p>E.g., <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">&lt;=</span> <span class="pre">2</span> <span class="pre">&lt;</span> <span class="pre">3</span> <span class="pre">!=</span> <span class="pre">4</span></code> is evaluated as follows:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="mi">1</span> <span class="o">&lt;=</span> <span class="mi">2</span> <span class="ow">and</span> <span class="mi">2</span> <span class="o">&lt;</span> <span class="mi">3</span> <span class="ow">and</span> <span class="mi">3</span> <span class="o">!=</span> <span class="mi">4</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<p>The above is called a <em>compound boolean expression</em>, which is formed using the <em>boolean/logical operator</em> <code class="docutils literal notranslate"><span class="pre">and</span></code>.</p>
<p><strong>Why use boolean operators?</strong></p>
<p>What if we want to check whether a number is either <span class="math notranslate nohighlight">\(&lt; 0\)</span> or <span class="math notranslate nohighlight">\(\geq 100\)</span>?<br />
Can we achieve this only by chaining the comparison operators or applying the logical <code class="docutils literal notranslate"><span class="pre">and</span></code>?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Check if a number is outside a range.</span>
<span class="nd">@interact</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;15&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">check_out_of_range</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="n">x_</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="n">is_out_of_range</span> <span class="o">=</span> <span class="n">x_</span><span class="o">&lt;</span><span class="mi">0</span> <span class="ow">or</span> <span class="n">x_</span><span class="o">&gt;=</span><span class="mi">100</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Out of range [0,100):&#39;</span><span class="p">,</span> <span class="n">is_out_of_range</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">
{"version_major": 2, "version_minor": 0, "model_id": "b03353c521e247b5a3b602df8be5aea6"}
</script></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">and</span></code> alone is not <a class="reference external" href="https://en.wikipedia.org/wiki/Functional_completeness">functionally complete</a>,  i.e., not enough to give all possible boolean functions.</p></li>
<li><p>In addition to <code class="docutils literal notranslate"><span class="pre">and</span></code>, we can also use <code class="docutils literal notranslate"><span class="pre">or</span></code> and <code class="docutils literal notranslate"><span class="pre">not</span></code>.</p></li>
</ul>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="text-align:center head"><p><code class="docutils literal notranslate"><span class="pre">x</span></code></p></th>
<th class="text-align:center head"><p><code class="docutils literal notranslate"><span class="pre">y</span></code></p></th>
<th class="text-align:center head"><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">and</span> <span class="pre">y</span></code></p></th>
<th class="text-align:center head"><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">or</span> <span class="pre">y</span></code></p></th>
<th class="text-align:center head"><p><code class="docutils literal notranslate"><span class="pre">not</span> <span class="pre">x</span></code></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-align:center"><p><code class="docutils literal notranslate"><span class="pre">True</span></code></p></td>
<td class="text-align:center"><p><code class="docutils literal notranslate"><span class="pre">True</span></code></p></td>
<td class="text-align:center"><p><code class="docutils literal notranslate"><span class="pre">True</span></code></p></td>
<td class="text-align:center"><p><code class="docutils literal notranslate"><span class="pre">True</span></code></p></td>
<td class="text-align:center"><p><code class="docutils literal notranslate"><span class="pre">False</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-align:center"><p><code class="docutils literal notranslate"><span class="pre">True</span></code></p></td>
<td class="text-align:center"><p><code class="docutils literal notranslate"><span class="pre">False</span></code></p></td>
<td class="text-align:center"><p><code class="docutils literal notranslate"><span class="pre">False</span></code></p></td>
<td class="text-align:center"><p><code class="docutils literal notranslate"><span class="pre">True</span></code></p></td>
<td class="text-align:center"><p><code class="docutils literal notranslate"><span class="pre">False</span></code></p></td>
</tr>
<tr class="row-even"><td class="text-align:center"><p><code class="docutils literal notranslate"><span class="pre">False</span></code></p></td>
<td class="text-align:center"><p><code class="docutils literal notranslate"><span class="pre">True</span></code></p></td>
<td class="text-align:center"><p><code class="docutils literal notranslate"><span class="pre">False</span></code></p></td>
<td class="text-align:center"><p><code class="docutils literal notranslate"><span class="pre">True</span></code></p></td>
<td class="text-align:center"><p><code class="docutils literal notranslate"><span class="pre">True</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-align:center"><p><code class="docutils literal notranslate"><span class="pre">False</span></code></p></td>
<td class="text-align:center"><p><code class="docutils literal notranslate"><span class="pre">False</span></code></p></td>
<td class="text-align:center"><p><code class="docutils literal notranslate"><span class="pre">False</span></code></p></td>
<td class="text-align:center"><p><code class="docutils literal notranslate"><span class="pre">False</span></code></p></td>
<td class="text-align:center"><p><code class="docutils literal notranslate"><span class="pre">True</span></code></p></td>
</tr>
</tbody>
</table>
<p>The above table is called a <em>truth table</em>. It enumerates all possible input and output combinations for each boolean operator.</p>
<p><strong>How are chained logical operators evaluated?<br />
What are the precedence and associativity for the logical operators?</strong></p>
<ul class="simple">
<li><p>All binary boolean operators are left associative.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/reference/expressions.html?highlight=precedence#operator-precedence">Precedence</a>: <code class="docutils literal notranslate"><span class="pre">comparison</span> <span class="pre">operators</span></code> &gt; <code class="docutils literal notranslate"><span class="pre">not</span></code> &gt; <code class="docutils literal notranslate"><span class="pre">and</span></code> &gt; <code class="docutils literal notranslate"><span class="pre">or</span></code></p></li>
</ul>
<p><strong>Exercise</strong> Explain what the values of the following two compound boolean expressions are:</p>
<ul class="simple">
<li><p>Expression A: <code class="docutils literal notranslate"><span class="pre">True</span> <span class="pre">or</span> <span class="pre">False</span> <span class="pre">and</span> <span class="pre">True</span></code></p></li>
<li><p>Expression B: <code class="docutils literal notranslate"><span class="pre">True</span> <span class="pre">and</span> <span class="pre">False</span> <span class="pre">and</span> <span class="pre">True</span></code></p></li>
<li><p>Expression C: <code class="docutils literal notranslate"><span class="pre">True</span> <span class="pre">or</span> <span class="pre">True</span> <span class="pre">and</span> <span class="pre">False</span></code></p></li>
</ul>
<ul class="simple">
<li><p>Expression A evaluates to <code class="docutils literal notranslate"><span class="pre">True</span></code> because <code class="docutils literal notranslate"><span class="pre">and</span></code> has higher precedence and so the expression has the same value as <code class="docutils literal notranslate"><span class="pre">True</span> <span class="pre">or</span> <span class="pre">(False</span> <span class="pre">and</span> <span class="pre">True)</span></code>.</p></li>
<li><p>Expression B evaluates to <code class="docutils literal notranslate"><span class="pre">False</span></code> because <code class="docutils literal notranslate"><span class="pre">and</span></code> is left associative and so the expression has the same value as <code class="docutils literal notranslate"><span class="pre">(True</span> <span class="pre">and</span> <span class="pre">False)</span> <span class="pre">and</span> <span class="pre">True</span></code>.</p></li>
<li><p>Expression C evaluates to <code class="docutils literal notranslate"><span class="pre">True</span></code> because <code class="docutils literal notranslate"><span class="pre">and</span></code> has a higher precedence and so the expression has the same value as <code class="docutils literal notranslate"><span class="pre">True</span> <span class="pre">or</span> <span class="pre">(True</span> <span class="pre">and</span> <span class="pre">False)</span></code>. Note that <code class="docutils literal notranslate"><span class="pre">(True</span> <span class="pre">or</span> <span class="pre">True)</span> <span class="pre">and</span> <span class="pre">False</span></code> evaluates to something <code class="docutils literal notranslate"><span class="pre">False</span></code> instead, so precedence matters.</p></li>
</ul>
<p>Instead of following the precedence and associativity, however, a compound boolean expression uses a <a class="reference external" href="https://docs.python.org/3/reference/expressions.html?highlight=precedence#boolean-operations">short-circuit evaluation</a>.</p>
<p>To understand this, we will use the following function to evaluate a boolean expression verbosely.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">verbose</span><span class="p">(</span><span class="nb">id</span><span class="p">,</span><span class="n">boolean</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Identify evaluated boolean expressions.&#39;&#39;&#39;</span>
    <span class="nb">print</span><span class="p">(</span><span class="nb">id</span><span class="p">,</span><span class="s1">&#39;evaluated:&#39;</span><span class="p">,</span><span class="n">boolean</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">boolean</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">verbose</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="n">verbose</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span> <span class="ow">or</span> <span class="n">verbose</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span> <span class="ow">and</span> <span class="n">verbose</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="kc">True</span><span class="p">))</span>  <span class="c1"># True or (False and True)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1 evaluated: True
A evaluated: True
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<p><strong>Why expression 2 and 3 are not evaluated?</strong></p>
<p>Because True or … must be True (Why?) so Python does not look further. From the <a class="reference external" href="https://docs.python.org/3/reference/expressions.html?highlight=precedence#boolean-operations">documentation</a>:</p>
<blockquote>
<div><p>The expression <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">or</span> <span class="pre">y</span></code> first evaluates <code class="docutils literal notranslate"><span class="pre">x</span></code>; if <code class="docutils literal notranslate"><span class="pre">x</span></code> is true, its value is returned; otherwise, <code class="docutils literal notranslate"><span class="pre">y</span></code> is evaluated and the resulting value is returned.</p>
</div></blockquote>
<p>Note that:</p>
<ul class="simple">
<li><p>Even though <code class="docutils literal notranslate"><span class="pre">or</span></code> has lower precedence than <code class="docutils literal notranslate"><span class="pre">and</span></code>, it is still evaluated first.</p></li>
<li><p>The evaluation order for logical operators is left-to-right.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">verbose</span><span class="p">(</span><span class="s1">&#39;B&#39;</span><span class="p">,</span><span class="n">verbose</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span> <span class="ow">and</span> <span class="n">verbose</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span> <span class="ow">and</span> <span class="n">verbose</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="kc">True</span><span class="p">))</span>  <span class="c1"># (True and False) and True</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>4 evaluated: True
5 evaluated: False
B evaluated: False
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>False
</pre></div>
</div>
</div>
</div>
<p><strong>Why expression 6 is not evaluated?</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">True</span> <span class="pre">and</span> <span class="pre">False</span> <span class="pre">and</span> <span class="pre">...</span></code> must be <code class="docutils literal notranslate"><span class="pre">False</span></code> so Python does not look further.</p>
<blockquote>
<div><p>The expression <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">and</span> <span class="pre">y</span></code> first evaluates <code class="docutils literal notranslate"><span class="pre">x</span></code>; if <code class="docutils literal notranslate"><span class="pre">x</span></code> is false, its value is returned; otherwise, <code class="docutils literal notranslate"><span class="pre">y</span></code> is evaluated and the resulting value is returned.</p>
</div></blockquote>
<p>Indeed, logical operators can even be applied to non-boolean operands. From the <a class="reference external" href="https://docs.python.org/3/reference/expressions.html?highlight=precedence#boolean-operations">documentation</a>:</p>
<blockquote>
<div><p>In the context of Boolean operations, and also when expressions are used by control flow statements, the following values are interpreted as false: <code class="docutils literal notranslate"><span class="pre">False</span></code>, None, numeric zero of all types, and empty strings and containers (including strings, tuples, lists, dictionaries, sets and frozensets). All other values are interpreted as true.</p>
</div></blockquote>
<p><strong>Exercise</strong> How does the following code work?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;You have entered&#39;</span><span class="p">,</span> <span class="nb">input</span><span class="p">()</span> <span class="ow">or</span> <span class="s1">&#39;nothing&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">StdinNotImplementedError</span><span class="g g-Whitespace">                  </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">22</span><span class="o">-</span><span class="mi">20</span><span class="n">f002565a38</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;You have entered&#39;</span><span class="p">,</span> <span class="nb">input</span><span class="p">()</span> <span class="ow">or</span> <span class="s1">&#39;nothing&#39;</span><span class="p">)</span>

<span class="nn">~/anaconda3/lib/python3.7/site-packages/ipykernel/kernelbase.py</span> in <span class="ni">raw_input</span><span class="nt">(self, prompt)</span>
<span class="g g-Whitespace">    </span><span class="mi">856</span>         <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_allow_stdin</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">857</span>             <span class="k">raise</span> <span class="n">StdinNotImplementedError</span><span class="p">(</span>
<span class="ne">--&gt; </span><span class="mi">858</span>                 <span class="s2">&quot;raw_input was called, but this frontend does not support input requests.&quot;</span>
<span class="g g-Whitespace">    </span><span class="mi">859</span>             <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">860</span>         <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_input_request</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">prompt</span><span class="p">),</span>

<span class="ne">StdinNotImplementedError</span>: raw_input was called, but this frontend does not support input requests.
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>The code replaces empty user input by the default string <code class="docutils literal notranslate"><span class="pre">nothing</span></code> because empty string is regarded as False in a boolean operation.</p></li>
<li><p>If user input is non-empty, it is regarded as True in the boolean expression and returned immediately as the value of the boolean operation.</p></li>
</ul>
<p><strong>Is empty string equal to False?</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Is empty string equal False?&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="o">==</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Is empty string equal False? False
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>An empty string is regarded as False in a boolean operation but</p></li>
<li><p>a <em>comparison operation is not a boolean operation</em>, even though it forms a boolean expression.</p></li>
</ul>
</div>
</div>
<div class="section" id="conditional-constructs">
<h4>Conditional Constructs<a class="headerlink" href="#conditional-constructs" title="Permalink to this headline">¶</a></h4>
<p>Consider writing a program that sorts values in <em>ascending</em> order.<br />
A <em>sorting algorithm</em> refers to the procedure of sorting values in order.</p>
<div class="section" id="if-then-construct">
<h5>If-Then Construct<a class="headerlink" href="#if-then-construct" title="Permalink to this headline">¶</a></h5>
<p><strong>How to sort two values?</strong></p>
<p>Given two values are stored as <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code>, we want to</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">print(x,y)</span></code> if <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">&lt;=</span> <span class="pre">y</span></code>, and</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">print(y,x)</span></code> if <code class="docutils literal notranslate"><span class="pre">y</span> <span class="pre">&lt;</span> <span class="pre">x</span></code>.</p></li>
</ul>
<p>Such a program flow is often represented by a flowchart like the following:</p>
<p><img src="https://www.cs.cityu.edu.hk/~ccha23/cs1302/Lecture3/sort_two_values1.svg" style="max-width:300px;" alt="sort_two_values(x,y);
if(x<=y) {
  print(x, y)
}
if (y<x) {
  print(y, x)
}"></p>
<p>Python provides the <a class="reference external" href="https://docs.python.org/3/reference/compound_stmts.html#the-if-statement"><code class="docutils literal notranslate"><span class="pre">if</span></code> statement</a> to implement the above <a class="reference external" href="https://en.wikipedia.org/wiki/Control_flow"><em>control flow</em></a> specified by the diamonds.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Sort two values using if statement</span>
<span class="k">def</span> <span class="nf">sort_two_values</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">x</span> <span class="o">&lt;=</span> <span class="n">y</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">y</span> <span class="o">&lt;</span> <span class="n">x</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>


<span class="nd">@interact</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;0&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">sort_two_values_app</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="n">sort_two_values</span><span class="p">(</span><span class="nb">eval</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="nb">eval</span><span class="p">(</span><span class="n">y</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">
{"version_major": 2, "version_minor": 0, "model_id": "57ae5c71cc2044e18cb597f9590352c8"}
</script></div>
</div>
<p>We can visualize the execution as follows:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">mytutor</span> -h 350
def sort_two_values(x, y):
    if x &lt;= y:
        print(x, y)
    if y &lt; x: print(y, x)
        
sort_two_values(1,0)
sort_two_values(1,2)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<iframe
    width="1100"
    height="350"
    src="https://e-quiz.cs.cityu.edu.hk/opt/cs1302visualize.html#mode=display&code=def%20sort_two_values%28x%2C%20y%29%3A%0A%20%20%20%20if%20x%20%3C%3D%20y%3A%0A%20%20%20%20%20%20%20%20print%28x%2C%20y%29%0A%20%20%20%20if%20y%20%3C%20x%3A%20print%28y%2C%20x%29%0A%20%20%20%20%20%20%20%20%0Asort_two_values%281%2C0%29%0Asort_two_values%281%2C2%29%0A"
    frameborder="0"
    allowfullscreen
></iframe>
</div></div>
</div>
<p>Python use indentation to indicate code blocks or <em>suite</em>:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">print(x,</span> <span class="pre">y)</span></code> (Line 5) is indented to the right of <code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">x</span> <span class="pre">&lt;=</span> <span class="pre">y:</span></code> (Line 4) to indicate it is the body of the if statement.</p></li>
<li><p>For convenience, <code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">y</span> <span class="pre">&lt;</span> <span class="pre">x:</span> <span class="pre">print(y,</span> <span class="pre">x)</span></code> (Line 6) is a one-liner for an <code class="docutils literal notranslate"><span class="pre">if</span></code> statement that only has one line in its block.</p></li>
<li><p>Both <code class="docutils literal notranslate"><span class="pre">if</span></code> statements (Line 4-6) are indented to the right of <code class="docutils literal notranslate"><span class="pre">def</span> <span class="pre">sort_two_values(x,y):</span></code> (Line 3) to indicate that they are part of the body of the function <code class="docutils literal notranslate"><span class="pre">sort_two_values</span></code>.</p></li>
</ul>
<p><strong>How to indent?</strong></p>
<ul class="simple">
<li><p>The <a class="reference external" href="https://www.python.org/dev/peps/pep-0008/#indentation">style guide</a> recommends using 4 spaces for each indentation.</p></li>
<li><p>In IPython, you can simply type the <code class="docutils literal notranslate"><span class="pre">tab</span></code> key and IPython will likely enter the correct number of spaces for you.</p></li>
</ul>
<p><strong>What if you want to leave a block empty?</strong></p>
<p>In programming, it is often useful to delay detailed implementations until we have written an overall skeleton.<br />
To leave a block empty, Python uses the keyword <a class="reference external" href="https://docs.python.org/3/tutorial/controlflow.html#pass-statements"><code class="docutils literal notranslate"><span class="pre">pass</span></code></a>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># write a code skeleton</span>
<span class="k">def</span> <span class="nf">sort_two_values</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="k">pass</span>
    <span class="c1"># print the smaller value first followed by the larger one</span>
    
<span class="n">sort_two_values</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="n">sort_two_values</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Without <code class="docutils literal notranslate"><span class="pre">pass</span></code>, the code will fail to run, preventing you from checking other parts of the code.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># You can add more details to the skeleton step-by-step</span>
<span class="k">def</span> <span class="nf">sort_two_values</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">x</span> <span class="o">&lt;=</span> <span class="n">y</span><span class="p">:</span>
        <span class="k">pass</span>  
        <span class="c1"># print x before y</span>
    <span class="k">if</span> <span class="n">y</span> <span class="o">&lt;</span> <span class="n">x</span><span class="p">:</span> <span class="k">pass</span>  <span class="c1"># print y before x</span>

<span class="n">sort_two_values</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="n">sort_two_values</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="if-then-else-construct">
<h5>If-Then-Else Construct<a class="headerlink" href="#if-then-else-construct" title="Permalink to this headline">¶</a></h5>
<p>The sorting algorithm is not efficient enough. Why not?<br />
Hint: <code class="docutils literal notranslate"><span class="pre">(x</span> <span class="pre">&lt;=</span> <span class="pre">y)</span> <span class="pre">and</span> <span class="pre">not</span> <span class="pre">(y</span> <span class="pre">&lt;</span> <span class="pre">x)</span></code> is a <em>tautology</em>, i.e., always true.</p>
<p>To improve the efficient, we should implement the following program flow.</p>
<p><img src="https://www.cs.cityu.edu.hk/~ccha23/cs1302/Lecture3/sort_two_values2.svg" style="max-width:300px;" alt="sort_two_values(x,y);
if(x<=y) {
  print(x, y)
}
else {
  print(y, x)
}"></p>
<p>This can be down by the <code class="docutils literal notranslate"><span class="pre">else</span></code> clause of the <a class="reference external" href="https://docs.python.org/3/tutorial/controlflow.html#if-statements"><code class="docutils literal notranslate"><span class="pre">if</span></code> statement</a>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">mytutor</span> -h 350
def sort_two_values(x, y):
    if x &lt;= y:
        print(x, y)
    else:
        print(y,x)
        
sort_two_values(1,0)
sort_two_values(1,2)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<iframe
    width="1100"
    height="350"
    src="https://e-quiz.cs.cityu.edu.hk/opt/cs1302visualize.html#mode=display&code=def%20sort_two_values%28x%2C%20y%29%3A%0A%20%20%20%20if%20x%20%3C%3D%20y%3A%0A%20%20%20%20%20%20%20%20print%28x%2C%20y%29%0A%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20print%28y%2Cx%29%0A%20%20%20%20%20%20%20%20%0Asort_two_values%281%2C0%29%0Asort_two_values%281%2C2%29%0A"
    frameborder="0"
    allowfullscreen
></iframe>
</div></div>
</div>
<p>We can also use a <a class="reference external" href="https://docs.python.org/3/reference/expressions.html#conditional-expressions"><em>conditional expression</em></a> to shorten the code.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">sort_two_values</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">((</span><span class="s1">&#39;</span><span class="si">{0}</span><span class="s1"> </span><span class="si">{1}</span><span class="s1">&#39;</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&lt;=</span> <span class="n">y</span> <span class="k">else</span> <span class="s1">&#39;</span><span class="si">{1}</span><span class="s1"> </span><span class="si">{0}</span><span class="s1">&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>


<span class="nd">@interact</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;0&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">sort_two_values_app</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="n">sort_two_values</span><span class="p">(</span><span class="nb">eval</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="nb">eval</span><span class="p">(</span><span class="n">y</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">
{"version_major": 2, "version_minor": 0, "model_id": "aea97bb9415a485ca70f73e746006949"}
</script></div>
</div>
<p><strong>Exercise</strong> Explain why the followings have syntax errors.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="mi">1</span> <span class="k">if</span> <span class="kc">True</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">  File</span><span class="nn"> &quot;&lt;ipython-input-30-1cbab0db8442&gt;&quot;</span><span class="gt">, line </span><span class="mi">1</span>
<span class="g g-Whitespace">    </span><span class="mi">1</span> <span class="k">if</span> <span class="kc">True</span>
             <span class="o">^</span>
<span class="ne">SyntaxError</span>: invalid syntax
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="mi">1</span> <span class="k">if</span> <span class="kc">True</span> <span class="k">else</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">  File</span><span class="nn"> &quot;&lt;ipython-input-31-f68814adf81f&gt;&quot;</span><span class="gt">, line </span><span class="mi">1</span>
    <span class="n">x</span> <span class="o">=</span> <span class="mi">1</span> <span class="k">if</span> <span class="kc">True</span> <span class="k">else</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span>
       <span class="o">^</span>
<span class="ne">SyntaxError</span>: can&#39;t assign to conditional expression
</pre></div>
</div>
</div>
</div>
<p>A conditional expression must be an expression:</p>
<ol class="simple">
<li><p>It must give a value under all cases. To enforce that, <code class="docutils literal notranslate"><span class="pre">else</span></code> keyword must be provided.</p></li>
<li><p>An assignment statement does not return any value and therefore cannot be used for the conditional expression.<br />
<code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">1</span> <span class="pre">if</span> <span class="pre">True</span> <span class="pre">else</span> <span class="pre">0</span></code> is valid because <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span></code> is not part of the conditional expression.</p></li>
</ol>
</div>
<div class="section" id="nested-conditionals">
<h5>Nested Conditionals<a class="headerlink" href="#nested-conditionals" title="Permalink to this headline">¶</a></h5>
<p>Consider sorting three values instead of two. A feasible algorithm is as follows:</p>
<p><img src="https://www.cs.cityu.edu.hk/~ccha23/cs1302/Lecture3/sort_three_values1.svg" style="max-width:800px;" alt="sort_three_values(x,y,z);
if(x<=y<=z) {
  print(x, y, z)
} else
if (x<=z<=y) {
  print(x, z, y)
} else
if (y<=x<=z) {
  print(y, x, z)
} else
if (y<=z<=x) {
  print(y, z, x)
} else
if (z<=x<=y) {
  print(z, x, y)
} else {
  print(z, y, x)
}"></p>
<p>We can implement the flow using <em>nested conditional constructs</em>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">sort_three_values</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">x</span> <span class="o">&lt;=</span> <span class="n">y</span> <span class="o">&lt;=</span> <span class="n">z</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">x</span> <span class="o">&lt;=</span> <span class="n">z</span> <span class="o">&lt;=</span> <span class="n">y</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">y</span> <span class="o">&lt;=</span> <span class="n">x</span> <span class="o">&lt;=</span> <span class="n">z</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">z</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">y</span> <span class="o">&lt;=</span> <span class="n">z</span> <span class="o">&lt;=</span> <span class="n">x</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">z</span> <span class="o">&lt;=</span> <span class="n">x</span> <span class="o">&lt;=</span> <span class="n">y</span><span class="p">:</span>
                        <span class="nb">print</span><span class="p">(</span><span class="n">z</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="nb">print</span><span class="p">(</span><span class="n">z</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">test_sort_three_values</span><span class="p">():</span>
    <span class="n">sort_three_values</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">sort_three_values</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">sort_three_values</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">sort_three_values</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">sort_three_values</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">sort_three_values</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>

<span class="n">test_sort_three_values</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0 1 2
0 1 2
0 1 2
0 1 2
0 1 2
0 1 2
</pre></div>
</div>
</div>
</div>
<p>Imagine what would happen if we have to sort many values.<br />
To avoid an excessively long line due to the indentation, Python provides the <code class="docutils literal notranslate"><span class="pre">elif</span></code> keyword that combines <code class="docutils literal notranslate"><span class="pre">else</span></code> and <code class="docutils literal notranslate"><span class="pre">if</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">sort_three_values</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">x</span> <span class="o">&lt;=</span> <span class="n">y</span> <span class="o">&lt;=</span> <span class="n">z</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">x</span> <span class="o">&lt;=</span> <span class="n">z</span> <span class="o">&lt;=</span> <span class="n">y</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">y</span> <span class="o">&lt;=</span> <span class="n">x</span> <span class="o">&lt;=</span> <span class="n">z</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">z</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">y</span> <span class="o">&lt;=</span> <span class="n">z</span> <span class="o">&lt;=</span> <span class="n">x</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">z</span> <span class="o">&lt;=</span> <span class="n">x</span> <span class="o">&lt;=</span> <span class="n">y</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">z</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">z</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>


<span class="n">test_sort_three_values</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0 1 2
0 1 2
0 1 2
0 1 2
0 1 2
0 1 2
</pre></div>
</div>
</div>
</div>
<p><strong>Exercise</strong> The above sorting algorithm is inefficient because some conditions may be checked more than once.<br />
Improve the program to eliminate duplicate checks.<br />
<em>Hint:</em> Do not use chained comparison operators or compound boolean expressions.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">sort_three_values</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">x</span> <span class="o">&lt;=</span> <span class="n">y</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">y</span> <span class="o">&lt;=</span> <span class="n">z</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">x</span> <span class="o">&lt;=</span> <span class="n">z</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">z</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
    <span class="c1">### BEGIN SOLUTION</span>
    <span class="k">elif</span> <span class="n">z</span> <span class="o">&lt;=</span> <span class="n">y</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">z</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">z</span> <span class="o">&lt;=</span> <span class="n">x</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">z</span><span class="p">)</span>
    <span class="c1">### END SOLUTION</span>
        
<span class="n">sort_three_values</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">17</span><span class="p">,</span><span class="mi">14</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>10 14 17
</pre></div>
</div>
</div>
</div>
</div>
</div>
</div>


<script type="application/vnd.jupyter.widget-state+json">
{"state": {"30e2f3df2d3d430b87529f3a5d31b8d8": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "694544df0d134fba89c7bb9352302922": {"model_name": "VBoxModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": ["widget-interact"], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "VBoxModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "VBoxView", "box_style": "", "children": ["IPY_MODEL_33b372629b7349e88b9bd9cc0a24a9db", "IPY_MODEL_9ca084fd4a2044cdbed45eeda90e90ca", "IPY_MODEL_98ab249b878f45b1bbcc3a8a420ef7f1", "IPY_MODEL_00c280acbb134c8a90b629bec8617f4f"], "layout": "IPY_MODEL_30e2f3df2d3d430b87529f3a5d31b8d8"}}, "08cd1e6019d2457795d765ee9dd5e673": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "ff8e5e08b7eb4dd7861f121abc1398af": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "33b372629b7349e88b9bd9cc0a24a9db": {"model_name": "TextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "TextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "TextView", "continuous_update": true, "description": "operand1", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_08cd1e6019d2457795d765ee9dd5e673", "placeholder": "\u200b", "style": "IPY_MODEL_ff8e5e08b7eb4dd7861f121abc1398af", "value": "10"}}, "6e025a82186946cb8bb84c7e7e510174": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "4af597eb29d2487bb539c1c340196a7d": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "9ca084fd4a2044cdbed45eeda90e90ca": {"model_name": "DropdownModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DropdownModel", "_options_labels": ["==", "<", "<=", ">", ">=", "!="], "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "DropdownView", "description": "operator", "description_tooltip": null, "disabled": false, "index": 0, "layout": "IPY_MODEL_6e025a82186946cb8bb84c7e7e510174", "style": "IPY_MODEL_4af597eb29d2487bb539c1c340196a7d"}}, "5bc61da082874d578ffbc332534bd304": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "1339c55cbbd24a8ca4ed93ea13399856": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "98ab249b878f45b1bbcc3a8a420ef7f1": {"model_name": "TextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "TextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "TextView", "continuous_update": true, "description": "operand2", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_5bc61da082874d578ffbc332534bd304", "placeholder": "\u200b", "style": "IPY_MODEL_1339c55cbbd24a8ca4ed93ea13399856", "value": "3"}}, "54a96e95609041e4bf68a148e4d5f815": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "00c280acbb134c8a90b629bec8617f4f": {"model_name": "OutputModel", "model_module": "@jupyter-widgets/output", "model_module_version": "1.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/output", "_model_module_version": "1.0.0", "_model_name": "OutputModel", "_view_count": null, "_view_module": "@jupyter-widgets/output", "_view_module_version": "1.0.0", "_view_name": "OutputView", "layout": "IPY_MODEL_54a96e95609041e4bf68a148e4d5f815", "msg_id": "", "outputs": [{"output_type": "stream", "name": "stdout", "text": "Expression: 10 == 3\n     Value: False\n      Type: <class 'bool'>\n"}]}}, "87cc286c05dd4bd0b3f6560801ee7e99": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "facb3c5b7d284826a9a159918d3e33db": {"model_name": "VBoxModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": ["widget-interact"], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "VBoxModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "VBoxView", "box_style": "", "children": ["IPY_MODEL_91a365b5ba334ccfa4e1ee9f46db2204", "IPY_MODEL_436b5c2c68474938a1ce5c13cb598ded"], "layout": "IPY_MODEL_87cc286c05dd4bd0b3f6560801ee7e99"}}, "e07c07a9ac37486fa86e3301db1617c3": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "1083c220ccf844a4aa53bfac01116ec1": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "91a365b5ba334ccfa4e1ee9f46db2204": {"model_name": "DropdownModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DropdownModel", "_options_labels": ["10 == 10.", "\"A\" == \"A\"", "\"A\" == \"A \"", "\"A\" != \"a\"", "\"A\" > \"a\"", "\"aBcd\" < \"abd\"", "\"A\" != 64", "\"A\" < 64"], "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "DropdownView", "description": "expression", "description_tooltip": null, "disabled": false, "index": 0, "layout": "IPY_MODEL_e07c07a9ac37486fa86e3301db1617c3", "style": "IPY_MODEL_1083c220ccf844a4aa53bfac01116ec1"}}, "12ec76f4be5c4df8aa363613128fbfc6": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "436b5c2c68474938a1ce5c13cb598ded": {"model_name": "OutputModel", "model_module": "@jupyter-widgets/output", "model_module_version": "1.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/output", "_model_module_version": "1.0.0", "_model_name": "OutputModel", "_view_count": null, "_view_module": "@jupyter-widgets/output", "_view_module_version": "1.0.0", "_view_name": "OutputView", "layout": "IPY_MODEL_12ec76f4be5c4df8aa363613128fbfc6", "msg_id": "", "outputs": [{"output_type": "stream", "name": "stdout", "text": "True\n"}]}}, "4011d03679384ca783c5e818b785559b": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "b03353c521e247b5a3b602df8be5aea6": {"model_name": "VBoxModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": ["widget-interact"], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "VBoxModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "VBoxView", "box_style": "", "children": ["IPY_MODEL_19fbadf5f770471991a00b83089b1e6f", "IPY_MODEL_802ff3a1c7ac4ab0ace227e11383c0c3"], "layout": "IPY_MODEL_4011d03679384ca783c5e818b785559b"}}, "a80571dfcc674e8b99a200c61f9aeb5c": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "2d313c4d3ba642ebbc460476f7219096": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "19fbadf5f770471991a00b83089b1e6f": {"model_name": "TextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "TextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "TextView", "continuous_update": true, "description": "x", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_a80571dfcc674e8b99a200c61f9aeb5c", "placeholder": "\u200b", "style": "IPY_MODEL_2d313c4d3ba642ebbc460476f7219096", "value": "15"}}, "f0db2730ee64405fbdd892f9b6d4a71d": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "802ff3a1c7ac4ab0ace227e11383c0c3": {"model_name": "OutputModel", "model_module": "@jupyter-widgets/output", "model_module_version": "1.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/output", "_model_module_version": "1.0.0", "_model_name": "OutputModel", "_view_count": null, "_view_module": "@jupyter-widgets/output", "_view_module_version": "1.0.0", "_view_name": "OutputView", "layout": "IPY_MODEL_f0db2730ee64405fbdd892f9b6d4a71d", "msg_id": "", "outputs": [{"output_type": "stream", "name": "stdout", "text": "Out of range [0,100): False\n"}]}}, "b7f90ac17cd6498297adb7e7f06c7756": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "57ae5c71cc2044e18cb597f9590352c8": {"model_name": "VBoxModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": ["widget-interact"], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "VBoxModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "VBoxView", "box_style": "", "children": ["IPY_MODEL_e824792e3ca646928b9042b30afe2d9a", "IPY_MODEL_b42bc18052e64c03acb263b200233cf9", "IPY_MODEL_a4dd0afcaff44c40b2bce24f1394ed43"], "layout": "IPY_MODEL_b7f90ac17cd6498297adb7e7f06c7756"}}, "276720c911364aa28869ced8e1b017f8": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "e32721f3217749b7aa4f632e5e6b22f0": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "e824792e3ca646928b9042b30afe2d9a": {"model_name": "TextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "TextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "TextView", "continuous_update": true, "description": "x", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_276720c911364aa28869ced8e1b017f8", "placeholder": "\u200b", "style": "IPY_MODEL_e32721f3217749b7aa4f632e5e6b22f0", "value": "1"}}, "59444ae255a74279bcf6a7315cf71323": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "157808870e30402e84396304b9efcb77": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "b42bc18052e64c03acb263b200233cf9": {"model_name": "TextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "TextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "TextView", "continuous_update": true, "description": "y", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_59444ae255a74279bcf6a7315cf71323", "placeholder": "\u200b", "style": "IPY_MODEL_157808870e30402e84396304b9efcb77", "value": "0"}}, "23ee1682db0a4e8fa2ab9f4110a4c0d7": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "a4dd0afcaff44c40b2bce24f1394ed43": {"model_name": "OutputModel", "model_module": "@jupyter-widgets/output", "model_module_version": "1.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/output", "_model_module_version": "1.0.0", "_model_name": "OutputModel", "_view_count": null, "_view_module": "@jupyter-widgets/output", "_view_module_version": "1.0.0", "_view_name": "OutputView", "layout": "IPY_MODEL_23ee1682db0a4e8fa2ab9f4110a4c0d7", "msg_id": "", "outputs": [{"output_type": "stream", "name": "stdout", "text": "0 1\n"}]}}, "8d45dae30eca4bdaa81abb383b7dc379": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "aea97bb9415a485ca70f73e746006949": {"model_name": "VBoxModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": ["widget-interact"], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "VBoxModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "VBoxView", "box_style": "", "children": ["IPY_MODEL_9bf94cfde76d473c9e374823c399e602", "IPY_MODEL_519a35125c0c44e5bc277b84e1289af8", "IPY_MODEL_f25308b94b29489788029455e7cb4ee4"], "layout": "IPY_MODEL_8d45dae30eca4bdaa81abb383b7dc379"}}, "8eedb7c814284a9689c7dd44e3545ebb": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "679cf905cd1b481485fbe3b5ec7a30d0": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "9bf94cfde76d473c9e374823c399e602": {"model_name": "TextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "TextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "TextView", "continuous_update": true, "description": "x", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_8eedb7c814284a9689c7dd44e3545ebb", "placeholder": "\u200b", "style": "IPY_MODEL_679cf905cd1b481485fbe3b5ec7a30d0", "value": "1"}}, "aa6c42759ee34cf6ae54146260e4f31b": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "4fe771c973a94e9eaf035d5b6b037aa4": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "519a35125c0c44e5bc277b84e1289af8": {"model_name": "TextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "TextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "TextView", "continuous_update": true, "description": "y", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_aa6c42759ee34cf6ae54146260e4f31b", "placeholder": "\u200b", "style": "IPY_MODEL_4fe771c973a94e9eaf035d5b6b037aa4", "value": "0"}}, "65263cf8042940c6a30560bef8d59b77": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "f25308b94b29489788029455e7cb4ee4": {"model_name": "OutputModel", "model_module": "@jupyter-widgets/output", "model_module_version": "1.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/output", "_model_module_version": "1.0.0", "_model_name": "OutputModel", "_view_count": null, "_view_module": "@jupyter-widgets/output", "_view_module_version": "1.0.0", "_view_name": "OutputView", "layout": "IPY_MODEL_65263cf8042940c6a30560bef8d59b77", "msg_id": "", "outputs": [{"output_type": "stream", "name": "stdout", "text": "0 1\n"}]}}}, "version_major": 2, "version_minor": 0}
</script>

<span id="document-Lecture3/Iteration"></span><div class="section" id="iteration">
<h3>Iteration<a class="headerlink" href="#iteration" title="Permalink to this headline">¶</a></h3>
<div class="section" id="motivation">
<h4>Motivation<a class="headerlink" href="#motivation" title="Permalink to this headline">¶</a></h4>
<p>Many tasks are repetitive:</p>
<ul class="simple">
<li><p>To print from 1 up to a user-specified number, which can be arbitrarily large.</p></li>
<li><p>To compute the maximum of a sequence of numbers, which can be arbitrarily long.</p></li>
<li><p>To repeatedly ask users for input until the input is within the right range.</p></li>
</ul>
<p><strong>How to write code to perform repetitive tasks?</strong></p>
<p>E.g., can you complete the following code to print from 1 up to a user-specified number?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">mytutor</span> -h 300
num = int(input(&#39;&gt;&#39;))
if 1 &lt; num: print(1)
if 2 &lt; num: print(2)
if 3 &lt; num: print(3)
# YOUR CODE HERE 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<iframe
    width="1100"
    height="300"
    src="https://e-quiz.cs.cityu.edu.hk/opt/cs1302visualize.html#mode=display&code=num%20%3D%20int%28input%28%27%3E%27%29%29%0Aif%201%20%3C%20num%3A%20print%281%29%0Aif%202%20%3C%20num%3A%20print%282%29%0Aif%203%20%3C%20num%3A%20print%283%29%0A%23%20YOUR%20CODE%20HERE%20%0A"
    frameborder="0"
    allowfullscreen
></iframe>
</div></div>
</div>
<p><em>code duplication</em> is not good because:</p>
<ul class="simple">
<li><p>Duplicate code is hard to read/write/maintain.<br />
Imagine there is a small change needed to every duplicate code.</p></li>
<li><p>The number of repetitions may not be known before runtime.</p></li>
</ul>
<p>Instead, programmers write a <em>loop</em> which specifies a piece of code to be executed iteratively.</p>
</div>
<div class="section" id="for-loop">
<h4>For Loop<a class="headerlink" href="#for-loop" title="Permalink to this headline">¶</a></h4>
<div class="section" id="iterate-over-a-sequence">
<h5>Iterate over a sequence<a class="headerlink" href="#iterate-over-a-sequence" title="Permalink to this headline">¶</a></h5>
<p><strong>How to print from 1 up to 4?</strong></p>
<p>We can use a <a class="reference external" href="https://docs.python.org/3.3/tutorial/controlflow.html#for-statements"><code class="docutils literal notranslate"><span class="pre">for</span></code> statement</a> as follows:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">mytutor</span> -h 300
for i in 1, 2, 3, 4:
    print(i)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<iframe
    width="1100"
    height="300"
    src="https://e-quiz.cs.cityu.edu.hk/opt/cs1302visualize.html#mode=display&code=for%20i%20in%201%2C%202%2C%203%2C%204%3A%0A%20%20%20%20print%28i%29%0A"
    frameborder="0"
    allowfullscreen
></iframe>
</div></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">i</span></code> is automatically assigned to each element in the sequence <code class="docutils literal notranslate"><span class="pre">1,</span> <span class="pre">2,</span> <span class="pre">3,</span> <span class="pre">4</span></code> one-by-one from left to right.</p></li>
<li><p>After each assignment, the body <code class="docutils literal notranslate"><span class="pre">print(i)</span></code> is executed.</p></li>
</ul>
<p>N.b., if <code class="docutils literal notranslate"><span class="pre">i</span></code> is defined before the for loop, its value will be overwritten.</p>
<p>The assignment is not restricted to integers and can also be a tuple assignment.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tuples</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="s1">&#39;l&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="s1">&#39;o&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="s1">&#39;o&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="s1">&#39;p&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">c</span> <span class="ow">in</span> <span class="n">tuples</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">c</span><span class="p">)</span>  <span class="c1"># one-liner</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0 l
1 o
2 o
3 p
</pre></div>
</div>
</div>
</div>
<p>An even shorter code…</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">c</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="s1">&#39;loop&#39;</span><span class="p">):</span> <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">c</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0 l
1 o
2 o
3 p
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="iterate-over-a-range">
<h5>Iterate over a range<a class="headerlink" href="#iterate-over-a-range" title="Permalink to this headline">¶</a></h5>
<p><strong>How to print up to a user-specified number?</strong></p>
<p>We can use <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#range"><code class="docutils literal notranslate"><span class="pre">range</span></code></a>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">stop</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s1">&#39;&gt;&#39;</span><span class="p">))</span> <span class="o">+</span> <span class="mi">1</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">stop</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">StdinNotImplementedError</span><span class="g g-Whitespace">                  </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">6</span><span class="o">-</span><span class="mi">494</span><span class="n">a0622ed9f</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">stop</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s1">&#39;&gt;&#39;</span><span class="p">))</span> <span class="o">+</span> <span class="mi">1</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">stop</span><span class="p">):</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span>     <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>

<span class="nn">~/anaconda3/lib/python3.7/site-packages/ipykernel/kernelbase.py</span> in <span class="ni">raw_input</span><span class="nt">(self, prompt)</span>
<span class="g g-Whitespace">    </span><span class="mi">856</span>         <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_allow_stdin</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">857</span>             <span class="k">raise</span> <span class="n">StdinNotImplementedError</span><span class="p">(</span>
<span class="ne">--&gt; </span><span class="mi">858</span>                 <span class="s2">&quot;raw_input was called, but this frontend does not support input requests.&quot;</span>
<span class="g g-Whitespace">    </span><span class="mi">859</span>             <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">860</span>         <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_input_request</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">prompt</span><span class="p">),</span>

<span class="ne">StdinNotImplementedError</span>: raw_input was called, but this frontend does not support input requests.
</pre></div>
</div>
</div>
</div>
<p><strong>Why add 1 to the user input number?</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">range(stop)</span></code> generates a sequence of integers from <code class="docutils literal notranslate"><span class="pre">0</span></code> up to <em>but excluding</em> <code class="docutils literal notranslate"><span class="pre">stop</span></code>.</p>
<p><strong>How to start from a number different from <code class="docutils literal notranslate"><span class="pre">0</span></code>?</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">):</span> <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1
2
3
4
</pre></div>
</div>
</div>
</div>
<p><strong>What about a step size different from <code class="docutils literal notranslate"><span class="pre">1</span></code>?</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">):</span> <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>  <span class="c1"># starting number must also be specified. Why?</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0
2
4
</pre></div>
</div>
</div>
</div>
<p><strong>Exercise</strong> How to count down from 4 to 0? Do it without addition or subtraction.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">### BEGIN SOLUTION</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span> <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="c1">### END SOLUTION</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>4
3
2
1
0
</pre></div>
</div>
</div>
</div>
<p><strong>Exercise</strong> Print from <code class="docutils literal notranslate"><span class="pre">0</span></code> to a user-specified number but in steps of <code class="docutils literal notranslate"><span class="pre">0.5</span></code>.<br />
E.g., if the user inputs <code class="docutils literal notranslate"><span class="pre">2</span></code>, the program should print:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">0.0</span>
<span class="mf">0.5</span>
<span class="mf">1.0</span>
<span class="mf">1.5</span>
<span class="mf">2.0</span>
</pre></div>
</div>
<p><em>Note:</em> <code class="docutils literal notranslate"><span class="pre">range</span></code> only accepts integer arguments.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">num</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s1">&#39;&gt;&#39;</span><span class="p">))</span>
<span class="c1">### BEGIN SOLUTION</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">num</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">i</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
<span class="c1">### END SOLUTION</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">StdinNotImplementedError</span><span class="g g-Whitespace">                  </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="n">e601074022d8</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">num</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s1">&#39;&gt;&#39;</span><span class="p">))</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="c1">### BEGIN SOLUTION</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">num</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span>     <span class="nb">print</span><span class="p">(</span><span class="n">i</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span> <span class="c1">### END SOLUTION</span>

<span class="nn">~/anaconda3/lib/python3.7/site-packages/ipykernel/kernelbase.py</span> in <span class="ni">raw_input</span><span class="nt">(self, prompt)</span>
<span class="g g-Whitespace">    </span><span class="mi">856</span>         <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_allow_stdin</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">857</span>             <span class="k">raise</span> <span class="n">StdinNotImplementedError</span><span class="p">(</span>
<span class="ne">--&gt; </span><span class="mi">858</span>                 <span class="s2">&quot;raw_input was called, but this frontend does not support input requests.&quot;</span>
<span class="g g-Whitespace">    </span><span class="mi">859</span>             <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">860</span>         <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_input_request</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">prompt</span><span class="p">),</span>

<span class="ne">StdinNotImplementedError</span>: raw_input was called, but this frontend does not support input requests.
</pre></div>
</div>
</div>
</div>
<p><strong>Exercise</strong> How to print the character <code class="docutils literal notranslate"><span class="pre">'*'</span></code> repeatedly for <code class="docutils literal notranslate"><span class="pre">m</span></code> rows and <code class="docutils literal notranslate"><span class="pre">n</span></code> columns?<br />
<em>Hint:</em> Use a <em>nested for loop</em>, i.e., write a for loop (called <em>inner loop</em>) inside the body of another for loop (<em>outer loop</em>).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nd">@interact</span><span class="p">(</span><span class="n">m</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="n">n</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="k">def</span> <span class="nf">draw_rectangle</span><span class="p">(</span><span class="n">m</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">5</span><span class="p">):</span>
    <span class="c1">### BEGIN SOLUTION</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">m</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;*&#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">()</span>
    <span class="c1">### END SOLUTION</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">94</span><span class="n">f453290d37</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="nd">@interact</span><span class="p">(</span><span class="n">m</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="n">n</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="k">def</span> <span class="nf">draw_rectangle</span><span class="p">(</span><span class="n">m</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">5</span><span class="p">):</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span>     <span class="c1">### BEGIN SOLUTION</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span>     <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">m</span><span class="p">):</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span>         <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>

<span class="ne">NameError</span>: name &#39;interact&#39; is not defined
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="iterate-over-a-string">
<h5>Iterate over a string<a class="headerlink" href="#iterate-over-a-string" title="Permalink to this headline">¶</a></h5>
<p><strong>What does the following do?</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">mytutor</span> -h 300
for character in &#39;loop&#39;: print(character)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<iframe
    width="1100"
    height="300"
    src="https://e-quiz.cs.cityu.edu.hk/opt/cs1302visualize.html#mode=display&code=for%20character%20in%20%27loop%27%3A%20print%28character%29%0A"
    frameborder="0"
    allowfullscreen
></iframe>
</div></div>
</div>
<p>A string is <em>iterable</em> because it can be regarded as a sequence of characters.</p>
<ul class="simple">
<li><p>The function <a class="reference external" href="https://docs.python.org/3/library/functions.html#len"><code class="docutils literal notranslate"><span class="pre">len</span></code></a> can return the length of a string.</p></li>
<li><p>The indexing operator <code class="docutils literal notranslate"><span class="pre">[]</span></code> can return the character of a string at a specified location.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">message</span> <span class="o">=</span> <span class="s2">&quot;loop&quot;</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;length:&#39;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">message</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;characters:&#39;</span><span class="p">,</span> <span class="n">message</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">message</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">message</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">message</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>length: 4
characters: l o o p
</pre></div>
</div>
</div>
</div>
<p>We can also iterate over a string as follows although it is less elegant:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="s1">&#39;loop&#39;</span><span class="p">)):</span> <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;loop&#39;</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>l
o
o
p
</pre></div>
</div>
</div>
</div>
<p><strong>Exercise</strong> Print a string assigned to <code class="docutils literal notranslate"><span class="pre">message</span></code> in reverse.<br />
E.g., <code class="docutils literal notranslate"><span class="pre">'loop'</span></code> should be printed as <code class="docutils literal notranslate"><span class="pre">'pool'</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nd">@interact</span><span class="p">(</span><span class="n">message</span><span class="o">=</span><span class="s1">&#39;loop&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">reverse_print</span><span class="p">(</span><span class="n">message</span><span class="p">):</span>
    <span class="c1">### BEGIN SOLUTION</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">message</span><span class="p">)):</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">message</span><span class="p">[</span><span class="o">-</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
    <span class="c1">### END SOLUTION</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">15</span><span class="o">-</span><span class="mi">5</span><span class="n">c31c98f5424</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="nd">@interact</span><span class="p">(</span><span class="n">message</span><span class="o">=</span><span class="s1">&#39;loop&#39;</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="k">def</span> <span class="nf">reverse_print</span><span class="p">(</span><span class="n">message</span><span class="p">):</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span>     <span class="c1">### BEGIN SOLUTION</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span>     <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">message</span><span class="p">)):</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span>         <span class="nb">print</span><span class="p">(</span><span class="n">message</span><span class="p">[</span><span class="o">-</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>

<span class="ne">NameError</span>: name &#39;interact&#39; is not defined
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="while-loop">
<h4>While Loop<a class="headerlink" href="#while-loop" title="Permalink to this headline">¶</a></h4>
<p><strong>How to repeatedly ask the user to enter an input until the user input is not empty?</strong></p>
<p>Python provides the <a class="reference external" href="https://docs.python.org/3/reference/compound_stmts.html#while"><code class="docutils literal notranslate"><span class="pre">while</span></code> statement</a> to loop until a specified condition is false.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">while</span> <span class="ow">not</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Input something please:&#39;</span><span class="p">):</span> <span class="k">pass</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">StdinNotImplementedError</span><span class="g g-Whitespace">                  </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">16</span><span class="o">-</span><span class="n">e677e44eec78</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="k">while</span> <span class="ow">not</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Input something please:&#39;</span><span class="p">):</span> <span class="k">pass</span>

<span class="nn">~/anaconda3/lib/python3.7/site-packages/ipykernel/kernelbase.py</span> in <span class="ni">raw_input</span><span class="nt">(self, prompt)</span>
<span class="g g-Whitespace">    </span><span class="mi">856</span>         <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_allow_stdin</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">857</span>             <span class="k">raise</span> <span class="n">StdinNotImplementedError</span><span class="p">(</span>
<span class="ne">--&gt; </span><span class="mi">858</span>                 <span class="s2">&quot;raw_input was called, but this frontend does not support input requests.&quot;</span>
<span class="g g-Whitespace">    </span><span class="mi">859</span>             <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">860</span>         <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_input_request</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">prompt</span><span class="p">),</span>

<span class="ne">StdinNotImplementedError</span>: raw_input was called, but this frontend does not support input requests.
</pre></div>
</div>
</div>
</div>
<p>As long as the condition after <code class="docutils literal notranslate"><span class="pre">while</span></code> is true, the body gets executed repeatedly. In the above example,</p>
<ul class="simple">
<li><p>if user press enter without inputting anything,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">input</span></code> returns an empty string <code class="docutils literal notranslate"><span class="pre">''</span></code>, which is <a class="reference external" href="https://docs.python.org/3/reference/expressions.html#booleans">regarded as <code class="docutils literal notranslate"><span class="pre">False</span></code></a>, and so</p></li>
<li><p>the looping condition <code class="docutils literal notranslate"><span class="pre">not</span> <span class="pre">input('...')</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
</ul>
<p><strong>Is it possible to use a for loop instead of a while loop?</strong></p>
<ul class="simple">
<li><p>Not without hacks because the for loop is a <em>definite loop</em> which has a definite number of iterations before the execution of the loop.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">while</span></code> statement is useful for an <em>indefinite loop</em> where the number of iterations is unknown before the execution of the loop.</p></li>
</ul>
<p>It is possible, however, to replace a for loop by a while loop.<br />
E.g., the following code prints from <code class="docutils literal notranslate"><span class="pre">0</span></code> to <code class="docutils literal notranslate"><span class="pre">4</span></code> using a while loop instead of a for loop.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">while</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="mi">4</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0
1
2
3
4
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>A while loop may not be as elegant (short), c.f., <code class="docutils literal notranslate"><span class="pre">for</span> <span class="pre">i</span> <span class="pre">in</span> <span class="pre">range(5):</span> <span class="pre">print(i)</span></code>, but</p></li>
<li><p>it can always be as efficient.</p></li>
</ul>
<p><strong>Should we just use while loop?</strong></p>
<p>Consider using the following while loop to print from <code class="docutils literal notranslate"><span class="pre">0</span></code> to a user-specified value.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">num</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s1">&#39;&gt;&#39;</span><span class="p">))</span>
<span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">while</span> <span class="n">i</span><span class="o">!=</span><span class="n">num</span><span class="o">+</span><span class="mi">1</span><span class="p">:</span> 
    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">StdinNotImplementedError</span><span class="g g-Whitespace">                  </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">18</span><span class="o">-</span><span class="n">c248e4517a5d</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">num</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s1">&#39;&gt;&#39;</span><span class="p">))</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span> <span class="k">while</span> <span class="n">i</span><span class="o">!=</span><span class="n">num</span><span class="o">+</span><span class="mi">1</span><span class="p">:</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span>     <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span>     <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>

<span class="nn">~/anaconda3/lib/python3.7/site-packages/ipykernel/kernelbase.py</span> in <span class="ni">raw_input</span><span class="nt">(self, prompt)</span>
<span class="g g-Whitespace">    </span><span class="mi">856</span>         <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_allow_stdin</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">857</span>             <span class="k">raise</span> <span class="n">StdinNotImplementedError</span><span class="p">(</span>
<span class="ne">--&gt; </span><span class="mi">858</span>                 <span class="s2">&quot;raw_input was called, but this frontend does not support input requests.&quot;</span>
<span class="g g-Whitespace">    </span><span class="mi">859</span>             <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">860</span>         <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_input_request</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">prompt</span><span class="p">),</span>

<span class="ne">StdinNotImplementedError</span>: raw_input was called, but this frontend does not support input requests.
</pre></div>
</div>
</div>
</div>
<p><strong>Exercise</strong> Is the above while loop doing the same thing as the for loop below?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s1">&#39;&gt;&#39;</span><span class="p">))</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span> <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">StdinNotImplementedError</span><span class="g g-Whitespace">                  </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">19</span><span class="o">-</span><span class="mi">4</span><span class="n">de3f597633c</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="nn">----&gt; 1 for i</span> in <span class="ni">range(int(input(&#39;&gt;&#39;)) + 1): print</span><span class="nt">(i)</span>

<span class="nn">~/anaconda3/lib/python3.7/site-packages/ipykernel/kernelbase.py</span> in <span class="ni">raw_input</span><span class="nt">(self, prompt)</span>
<span class="g g-Whitespace">    </span><span class="mi">856</span>         <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_allow_stdin</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">857</span>             <span class="k">raise</span> <span class="n">StdinNotImplementedError</span><span class="p">(</span>
<span class="ne">--&gt; </span><span class="mi">858</span>                 <span class="s2">&quot;raw_input was called, but this frontend does not support input requests.&quot;</span>
<span class="g g-Whitespace">    </span><span class="mi">859</span>             <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">860</span>         <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_input_request</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">prompt</span><span class="p">),</span>

<span class="ne">StdinNotImplementedError</span>: raw_input was called, but this frontend does not support input requests.
</pre></div>
</div>
</div>
</div>
<p>When user input negative integers smaller than or equal to -2,</p>
<ul class="simple">
<li><p>the while loop becomes an infinite loop, but</p></li>
<li><p>the for loop terminates without printing any number.</p></li>
</ul>
<p>We have to be careful not to create unintended <em>infinite loops</em>.<br />
The computer can’t always detect whether there is an infinite loop. (<a class="reference external" href="https://en.wikipedia.org/wiki/Halting_problem">Why not?</a>)</p>
</div>
<div class="section" id="break-continue-else-constructs-of-a-loop">
<h4>Break/Continue/Else Constructs of a Loop<a class="headerlink" href="#break-continue-else-constructs-of-a-loop" title="Permalink to this headline">¶</a></h4>
<div class="section" id="breaking-out-of-a-loop">
<h5>Breaking out of a loop<a class="headerlink" href="#breaking-out-of-a-loop" title="Permalink to this headline">¶</a></h5>
<p><strong>Is the following an infinite loop?</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">mytutor</span> -h 300
while True:
    message = input(&#39;Input something please:&#39;)
    if message: break
print(&#39;You entered:&#39;, message)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<iframe
    width="1100"
    height="300"
    src="https://e-quiz.cs.cityu.edu.hk/opt/cs1302visualize.html#mode=display&code=while%20True%3A%0A%20%20%20%20message%20%3D%20input%28%27Input%20something%20please%3A%27%29%0A%20%20%20%20if%20message%3A%20break%0Aprint%28%27You%20entered%3A%27%2C%20message%29%0A"
    frameborder="0"
    allowfullscreen
></iframe>
</div></div>
</div>
<p>The loop is terminated by the <a class="reference external" href="https://docs.python.org/3/tutorial/controlflow.html#break-and-continue-statements-and-else-clauses-on-loops"><code class="docutils literal notranslate"><span class="pre">break</span></code> statement</a> when user input is non-empty.</p>
<p><strong>Why is the <code class="docutils literal notranslate"><span class="pre">break</span></code> statement useful?</strong></p>
<p>Recall the earlier <code class="docutils literal notranslate"><span class="pre">while</span></code> loop:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">mytutor</span> -h 300
while not input(&#39;Input something please:&#39;): pass 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<iframe
    width="1100"
    height="300"
    src="https://e-quiz.cs.cityu.edu.hk/opt/cs1302visualize.html#mode=display&code=while%20not%20input%28%27Input%20something%20please%3A%27%29%3A%20pass%20%0A"
    frameborder="0"
    allowfullscreen
></iframe>
</div></div>
</div>
<p>This while loop is not useful because it does not store the user input.</p>
<p><strong>Is the <code class="docutils literal notranslate"><span class="pre">break</span></code> statement strictly necessary?</strong></p>
<p>We can avoid <code class="docutils literal notranslate"><span class="pre">break</span></code> statement by using <em>flags</em>, which are boolean variables for flow control:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">mytutor</span> -h 350
has_no_input = True
while has_no_input:
    message = input(&#39;Input something please:&#39;)
    if message: has_no_input = False
print(&#39;You entered:&#39;, message)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<iframe
    width="1100"
    height="350"
    src="https://e-quiz.cs.cityu.edu.hk/opt/cs1302visualize.html#mode=display&code=has_no_input%20%3D%20True%0Awhile%20has_no_input%3A%0A%20%20%20%20message%20%3D%20input%28%27Input%20something%20please%3A%27%29%0A%20%20%20%20if%20message%3A%20has_no_input%20%3D%20False%0Aprint%28%27You%20entered%3A%27%2C%20message%29%0A"
    frameborder="0"
    allowfullscreen
></iframe>
</div></div>
</div>
<p>Using flags makes the program more readable, and we can use multiple flags for more complicated behavior.<br />
The variable names for flags are often <code class="docutils literal notranslate"><span class="pre">is_...</span></code>, <code class="docutils literal notranslate"><span class="pre">has_...</span></code>, etc.</p>
</div>
<div class="section" id="continue-to-next-iteration">
<h5>Continue to Next Iteration<a class="headerlink" href="#continue-to-next-iteration" title="Permalink to this headline">¶</a></h5>
<p><strong>What does the following program do?<br />
Is it an infinite loop?</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">mytutor</span> -h 300
while True:
    message = input(&#39;Input something please:&#39;)
    if not message: continue
    print(&#39;You entered:&#39;, message)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<iframe
    width="1100"
    height="300"
    src="https://e-quiz.cs.cityu.edu.hk/opt/cs1302visualize.html#mode=display&code=while%20True%3A%0A%20%20%20%20message%20%3D%20input%28%27Input%20something%20please%3A%27%29%0A%20%20%20%20if%20not%20message%3A%20continue%0A%20%20%20%20print%28%27You%20entered%3A%27%2C%20message%29%0A"
    frameborder="0"
    allowfullscreen
></iframe>
</div></div>
</div>
<ul class="simple">
<li><p>The program repeatedly ask the user for input.</p></li>
<li><p>If the input is empty, the <code class="docutils literal notranslate"><span class="pre">continue</span></code> statement will skip to the next iteration.</p></li>
<li><p>The loop can only be terminated by interrupting the kernel.</p></li>
<li><p>Such an infinite loop can be useful. E.g., your computer clock continuously updates the current time.</p></li>
</ul>
<p><strong>Exercise</strong> Is the <code class="docutils literal notranslate"><span class="pre">continue</span></code> statement strictly necessary? Can you rewrite the above program without the <code class="docutils literal notranslate"><span class="pre">continue</span></code> statement?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">mytutor</span> -h 350
while True:
    message = input(&#39;Input something please:&#39;)
    ### BEGIN SOLUTION
    if message:
        print(&#39;You entered:&#39;, message)
    ### END SOLUTION
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<iframe
    width="1100"
    height="350"
    src="https://e-quiz.cs.cityu.edu.hk/opt/cs1302visualize.html#mode=display&code=while%20True%3A%0A%20%20%20%20message%20%3D%20input%28%27Input%20something%20please%3A%27%29%0A%20%20%20%20%23%23%23%20BEGIN%20SOLUTION%0A%20%20%20%20if%20message%3A%0A%20%20%20%20%20%20%20%20print%28%27You%20entered%3A%27%2C%20message%29%0A%20%20%20%20%23%23%23%20END%20SOLUTION%0A"
    frameborder="0"
    allowfullscreen
></iframe>
</div></div>
</div>
</div>
<div class="section" id="else-construct-for-a-loop">
<h5>Else construct for a loop<a class="headerlink" href="#else-construct-for-a-loop" title="Permalink to this headline">¶</a></h5>
<p>The following program</p>
<ul class="simple">
<li><p>checks whether the user input is a positive integer using <code class="docutils literal notranslate"><span class="pre">isdigit</span></code>, and if so,</p></li>
<li><p>check if the positive integer is a composite number, i.e., a product of two smaller positive integers.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nd">@interact</span><span class="p">(</span><span class="n">num</span><span class="o">=</span><span class="s1">&#39;1&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">check_composite</span><span class="p">(</span><span class="n">num</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">num</span><span class="o">.</span><span class="n">isdigit</span><span class="p">():</span>
        <span class="n">num</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">divisor</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="n">num</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">num</span> <span class="o">%</span> <span class="n">divisor</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;It is composite.&#39;</span><span class="p">)</span>
                <span class="k">break</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;It is not composite.&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Not a positive integer.&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">25</span><span class="o">-</span><span class="n">e43d679a26a7</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="nd">@interact</span><span class="p">(</span><span class="n">num</span><span class="o">=</span><span class="s1">&#39;1&#39;</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="k">def</span> <span class="nf">check_composite</span><span class="p">(</span><span class="n">num</span><span class="p">):</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span>     <span class="k">if</span> <span class="n">num</span><span class="o">.</span><span class="n">isdigit</span><span class="p">():</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span>         <span class="n">num</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span>         <span class="k">for</span> <span class="n">divisor</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="n">num</span><span class="p">):</span>

<span class="ne">NameError</span>: name &#39;interact&#39; is not defined
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">mytutor</span> -h 500 
def check_composite(num):
    if num.isdigit():
        num = int(num)
        for divisor in range(2,num):
            if num % divisor:
                continue
            else:
                print(&#39;It is composite.&#39;)
                break
        else:
            print(&#39;It is not composite.&#39;)
    else:
        print(&#39;Not a positive integer.&#39;)
        
check_composite(&#39;1&#39;)
check_composite(&#39;2&#39;)
check_composite(&#39;3&#39;)
check_composite(&#39;4&#39;)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<iframe
    width="1100"
    height="500"
    src="https://e-quiz.cs.cityu.edu.hk/opt/cs1302visualize.html#mode=display&code=def%20check_composite%28num%29%3A%0A%20%20%20%20if%20num.isdigit%28%29%3A%0A%20%20%20%20%20%20%20%20num%20%3D%20int%28num%29%0A%20%20%20%20%20%20%20%20for%20divisor%20in%20range%282%2Cnum%29%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20num%20%25%20divisor%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20continue%0A%20%20%20%20%20%20%20%20%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20print%28%27It%20is%20composite.%27%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%0A%20%20%20%20%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20print%28%27It%20is%20not%20composite.%27%29%0A%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20print%28%27Not%20a%20positive%20integer.%27%29%0A%20%20%20%20%20%20%20%20%0Acheck_composite%28%271%27%29%0Acheck_composite%28%272%27%29%0Acheck_composite%28%273%27%29%0Acheck_composite%28%274%27%29%0A"
    frameborder="0"
    allowfullscreen
></iframe>
</div></div>
</div>
<p>In addition to using <code class="docutils literal notranslate"><span class="pre">continue</span></code> and <code class="docutils literal notranslate"><span class="pre">break</span></code> in an elegant way,<br />
the code also uses an else clause that is executed only when the loop terminates <em>normally</em> not by <code class="docutils literal notranslate"><span class="pre">break</span></code>.</p>
<p><strong>Exercise</strong> There are three else claues in the earlier code. Which one is for the loop?</p>
<ul class="simple">
<li><p>The second else clause that <code class="docutils literal notranslate"><span class="pre">print('It</span> <span class="pre">is</span> <span class="pre">not</span> <span class="pre">composite.')</span></code>.</p></li>
<li><p>The clause is called when there is no divisor found in the range from <code class="docutils literal notranslate"><span class="pre">2</span></code> to <code class="docutils literal notranslate"><span class="pre">num</span></code>.</p></li>
</ul>
<p><strong>Exercise</strong> Convert the for loop to a while loop.<br />
Can you improve the code to use fewer iterations?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nd">@interact</span><span class="p">(</span><span class="n">num</span><span class="o">=</span><span class="s1">&#39;1&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">check_composite</span><span class="p">(</span><span class="n">num</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">num</span><span class="o">.</span><span class="n">isdigit</span><span class="p">():</span>
        <span class="n">num</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
        <span class="c1"># for divisor in range(2,num):    # use while instead</span>
        <span class="n">divisor</span> <span class="o">=</span> <span class="mi">2</span>
        <span class="k">while</span> <span class="n">divisor</span> <span class="o">&lt;=</span> <span class="n">num</span><span class="o">**</span><span class="mf">0.5</span><span class="p">:</span> 
            <span class="k">if</span> <span class="n">num</span> <span class="o">%</span> <span class="n">divisor</span><span class="p">:</span>
                <span class="n">divisor</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;It is composite.&#39;</span><span class="p">)</span>
                <span class="k">break</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;It is not composite.&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Not a positive integer.&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">27</span><span class="o">-</span><span class="mi">8452</span><span class="n">c80e638f</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="nd">@interact</span><span class="p">(</span><span class="n">num</span><span class="o">=</span><span class="s1">&#39;1&#39;</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="k">def</span> <span class="nf">check_composite</span><span class="p">(</span><span class="n">num</span><span class="p">):</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span>     <span class="k">if</span> <span class="n">num</span><span class="o">.</span><span class="n">isdigit</span><span class="p">():</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span>         <span class="n">num</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span>         <span class="c1"># for divisor in range(2,num):    # use while instead</span>

<span class="ne">NameError</span>: name &#39;interact&#39; is not defined
</pre></div>
</div>
</div>
</div>
</div>
</div>
</div>
<span id="document-Lecture4/Using Functions"></span><div class="section" id="using-functions">
<h3>Using Functions<a class="headerlink" href="#using-functions" title="Permalink to this headline">¶</a></h3>
<div class="section" id="motivation">
<h4>Motivation<a class="headerlink" href="#motivation" title="Permalink to this headline">¶</a></h4>
<p><strong>How to reuse code so we can write less?</strong></p>
<p>When we write a loop, the code is executed multiple times, once for each iteration.</p>
<p>This is a simple form of <em>code reuse</em> that</p>
<ul class="simple">
<li><p>gives your code an elegant <em>structure</em> that</p></li>
<li><p>can be executed efficiently by a computer, and</p></li>
<li><p><em>interpreted</em> easily by a programmer.</p></li>
</ul>
<p><strong>How to repeat execution at different times, in different programs, and in slightly different ways?</strong></p>
</div>
<div class="section" id="functions">
<h4>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h4>
<p><strong>How to calculate the logarithm?</strong></p>
<p>There is no arithmetic operator for logarithm.<br />
Do we have to implement it ourselves?</p>
<p>We can use the function <code class="docutils literal notranslate"><span class="pre">log</span></code> from the <a class="reference external" href="https://docs.python.org/3/library/math.html"><code class="docutils literal notranslate"><span class="pre">math</span></code> <em>module</em></a>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">log</span>
<span class="n">log</span><span class="p">(</span><span class="mi">256</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>  <span class="c1"># log base 2 of 256</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>8.0
</pre></div>
</div>
</div>
</div>
<p>The above computes the base-<span class="math notranslate nohighlight">\(2\)</span> logarithm, <span class="math notranslate nohighlight">\(\log_2(256)\)</span>. Like functions in mathematics, a computer function <code class="docutils literal notranslate"><span class="pre">log</span></code></p>
<ul class="simple">
<li><p>is <em>called/invoked</em> with some input <em>arguments</em> <code class="docutils literal notranslate"><span class="pre">(256,</span> <span class="pre">2)</span></code> following the function, and</p></li>
<li><p><em>returns</em> an output value computed from the input arguments.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># A function is callable while an integer is not</span>
<span class="n">callable</span><span class="p">(</span><span class="n">log</span><span class="p">),</span> <span class="n">callable</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(True, False)
</pre></div>
</div>
</div>
</div>
<p>Unlike mathematical functions:</p>
<ul class="simple">
<li><p>A computer function may require no arguments, but we still need to call it with <code class="docutils literal notranslate"><span class="pre">()</span></code>.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">input</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">StdinNotImplementedError</span><span class="g g-Whitespace">                  </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">4</span><span class="o">-</span><span class="mi">9</span><span class="n">c8b639daf2f</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="nb">input</span><span class="p">()</span>

<span class="nn">~/anaconda3/lib/python3.7/site-packages/ipykernel/kernelbase.py</span> in <span class="ni">raw_input</span><span class="nt">(self, prompt)</span>
<span class="g g-Whitespace">    </span><span class="mi">856</span>         <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_allow_stdin</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">857</span>             <span class="k">raise</span> <span class="n">StdinNotImplementedError</span><span class="p">(</span>
<span class="ne">--&gt; </span><span class="mi">858</span>                 <span class="s2">&quot;raw_input was called, but this frontend does not support input requests.&quot;</span>
<span class="g g-Whitespace">    </span><span class="mi">859</span>             <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">860</span>         <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_input_request</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">prompt</span><span class="p">),</span>

<span class="ne">StdinNotImplementedError</span>: raw_input was called, but this frontend does not support input requests.
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>A computer function may have side effects and return <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="nb">print</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="s1">&#39;of type&#39;</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>None of type &lt;class &#39;NoneType&#39;&gt;
</pre></div>
</div>
</div>
</div>
<p>An argument of a function call can be any expression.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;1st input:&#39;</span><span class="p">,</span> <span class="nb">input</span><span class="p">(),</span> <span class="s1">&#39;2nd input&#39;</span><span class="p">,</span> <span class="nb">input</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">StdinNotImplementedError</span><span class="g g-Whitespace">                  </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">6</span><span class="o">-</span><span class="n">ea10e0d74efc</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;1st input:&#39;</span><span class="p">,</span> <span class="nb">input</span><span class="p">(),</span> <span class="s1">&#39;2nd input&#39;</span><span class="p">,</span> <span class="nb">input</span><span class="p">())</span>

<span class="nn">~/anaconda3/lib/python3.7/site-packages/ipykernel/kernelbase.py</span> in <span class="ni">raw_input</span><span class="nt">(self, prompt)</span>
<span class="g g-Whitespace">    </span><span class="mi">856</span>         <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_allow_stdin</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">857</span>             <span class="k">raise</span> <span class="n">StdinNotImplementedError</span><span class="p">(</span>
<span class="ne">--&gt; </span><span class="mi">858</span>                 <span class="s2">&quot;raw_input was called, but this frontend does not support input requests.&quot;</span>
<span class="g g-Whitespace">    </span><span class="mi">859</span>             <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">860</span>         <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_input_request</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">prompt</span><span class="p">),</span>

<span class="ne">StdinNotImplementedError</span>: raw_input was called, but this frontend does not support input requests.
</pre></div>
</div>
</div>
</div>
<p>Note also that</p>
<ul class="simple">
<li><p>the argument can also be a function call like function composition in mathematics.</p></li>
<li><p>Before a function call is executed, its arguments are evaluated first from left to right.</p></li>
</ul>
<p><strong>Why not implement logarithm yourself?</strong></p>
<ul class="simple">
<li><p>The function from standard library is efficiently implemented and thoroughly tested/documented.</p></li>
<li><p>Knowing what a function does is often insufficient for an efficient implementation.<br />
(See <a class="reference external" href="https://en.wikipedia.org/wiki/Logarithm#Calculation">how to calculate logarithm</a> as an example.)</p></li>
</ul>
<p>Indeed, the <code class="docutils literal notranslate"><span class="pre">math</span></code> library does not implement <code class="docutils literal notranslate"><span class="pre">log</span></code> itself:</p>
<blockquote>
<div><p><strong>CPython implementation detail:</strong> The <code class="docutils literal notranslate"><span class="pre">math</span></code> module consists mostly of thin <em>wrappers</em> around the platform C math library functions. - <a class="reference external" href="https://docs.python.org/3/library/math.html">pydoc last paragraph</a></p>
</div></blockquote>
<p>(See the <a class="reference external" href="https://github.com/python/cpython/blob/457d4e97de0369bc786e363cb53c7ef3276fdfcd/Modules/mathmodule.c#L731">source code wrapper for <code class="docutils literal notranslate"><span class="pre">log</span></code></a>.)</p>
<p><strong>Exercise</strong> What is a function in programming?</p>
<ul class="simple">
<li><p>A function is a structure that allows a piece of code to be reused in a program.</p></li>
<li><p>A function can adapt its computations to different situations using input arguments.</p></li>
</ul>
</div>
<div class="section" id="import-functions-from-modules">
<h4>Import Functions from Modules<a class="headerlink" href="#import-functions-from-modules" title="Permalink to this headline">¶</a></h4>
<p><strong>How to import functions?</strong></p>
<p>We can use the <a class="reference external" href="https://docs.python.org/3/reference/simple_stmts.html#import"><code class="docutils literal notranslate"><span class="pre">import</span></code> statement</a> to import multiple functions into the program <em>global frame</em>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">mytutor</span> -h 300
from math import log10, ceil
x = 1234
print(&#39;Number of digits of x:&#39;, ceil(log10(x)))
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<iframe
    width="1100"
    height="300"
    src="https://e-quiz.cs.cityu.edu.hk/opt/cs1302visualize.html#mode=display&code=from%20math%20import%20log10%2C%20ceil%0Ax%20%3D%201234%0Aprint%28%27Number%20of%20digits%20of%20x%3A%27%2C%20ceil%28log10%28x%29%29%29%0A"
    frameborder="0"
    allowfullscreen
></iframe>
</div></div>
</div>
<p>The above import both the functions <code class="docutils literal notranslate"><span class="pre">log10</span></code> and <code class="docutils literal notranslate"><span class="pre">ceil</span></code> from <code class="docutils literal notranslate"><span class="pre">math</span></code> to compute the number <span class="math notranslate nohighlight">\(\lceil \log_{10}(x)\rceil\)</span> of digits of a <em>strictly positive</em> integer <span class="math notranslate nohighlight">\(x\)</span>.</p>
<p><strong>How to import all functions from a library?</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">mytutor</span> -h 300
from math import *  # import all except names starting with an underscore
print(&#39;{:.2f}, {:.2f}, {:.2f}&#39;.format(sin(pi / 6), cos(pi / 3), tan(pi / 4)))
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<iframe
    width="1100"
    height="300"
    src="https://e-quiz.cs.cityu.edu.hk/opt/cs1302visualize.html#mode=display&code=from%20math%20import%20%2A%20%20%23%20import%20all%20except%20names%20starting%20with%20an%20underscore%0Aprint%28%27%7B%3A.2f%7D%2C%20%7B%3A.2f%7D%2C%20%7B%3A.2f%7D%27.format%28sin%28pi%20%2F%206%29%2C%20cos%28pi%20%2F%203%29%2C%20tan%28pi%20%2F%204%29%29%29%0A"
    frameborder="0"
    allowfullscreen
></iframe>
</div></div>
</div>
<p>The above uses the wildcard <code class="docutils literal notranslate"><span class="pre">*</span></code> to import (<a class="reference external" href="https://docs.python.org/3/tutorial/modules.html#more-on-modules">nearly</a>) all the functions/variables provided in <code class="docutils literal notranslate"><span class="pre">math</span></code>.</p>
<p><strong>What if different packages define the same function?</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">mytutor</span> -h 300
print(&#39;{}&#39;.format(pow(-1, 2)))
print(&#39;{:.2f}&#39;.format(pow(-1, 1 / 2)))
from math import *
print(&#39;{}&#39;.format(pow(-1, 2)))
print(&#39;{:.2f}&#39;.format(pow(-1, 1 / 2)))
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<iframe
    width="1100"
    height="300"
    src="https://e-quiz.cs.cityu.edu.hk/opt/cs1302visualize.html#mode=display&code=print%28%27%7B%7D%27.format%28pow%28-1%2C%202%29%29%29%0Aprint%28%27%7B%3A.2f%7D%27.format%28pow%28-1%2C%201%20%2F%202%29%29%29%0Afrom%20math%20import%20%2A%0Aprint%28%27%7B%7D%27.format%28pow%28-1%2C%202%29%29%29%0Aprint%28%27%7B%3A.2f%7D%27.format%28pow%28-1%2C%201%20%2F%202%29%29%29%0A"
    frameborder="0"
    allowfullscreen
></iframe>
</div></div>
</div>
<ul class="simple">
<li><p>The function <code class="docutils literal notranslate"><span class="pre">pow</span></code> imported from <code class="docutils literal notranslate"><span class="pre">math</span></code> overwrites the built-in function <code class="docutils literal notranslate"><span class="pre">pow</span></code>.</p></li>
<li><p>Unlike the built-in function, <code class="docutils literal notranslate"><span class="pre">pow</span></code> from <code class="docutils literal notranslate"><span class="pre">math</span></code> returns only floats but not integers nor complex numbers.</p></li>
<li><p>We say that the import statement <em>polluted the namespace of the global frame</em> and caused a <em>name collision</em>.</p></li>
</ul>
<p><strong>How to avoid name collisions?</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">mytutor</span> -h 250
import math
print(&#39;{:.2f}, {:.2f}&#39;.format(math.pow(-1, 2), pow(-1, 1 / 2)))
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<iframe
    width="1100"
    height="250"
    src="https://e-quiz.cs.cityu.edu.hk/opt/cs1302visualize.html#mode=display&code=import%20math%0Aprint%28%27%7B%3A.2f%7D%2C%20%7B%3A.2f%7D%27.format%28math.pow%28-1%2C%202%29%2C%20pow%28-1%2C%201%20%2F%202%29%29%29%0A"
    frameborder="0"
    allowfullscreen
></iframe>
</div></div>
</div>
<p>We can use the full name (<em>fully-qualified name</em>) <code class="docutils literal notranslate"><span class="pre">math.pow</span></code> prefixed with the module name (and possibly package names containing the module).</p>
<p><strong>Can we shorten a name?</strong></p>
<p>The name of a library can be very long and there can be a hierarchical structure as well.<br />
E.g., to plot a sequence using <code class="docutils literal notranslate"><span class="pre">pyplot</span></code> module from <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> package:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">matplotlib</span> inline
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span>
<span class="n">matplotlib</span><span class="o">.</span><span class="n">pyplot</span><span class="o">.</span><span class="n">stem</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="n">matplotlib</span><span class="o">.</span><span class="n">pyplot</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;$x_n$&#39;</span><span class="p">)</span>
<span class="n">matplotlib</span><span class="o">.</span><span class="n">pyplot</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;$n$&#39;</span><span class="p">)</span>
<span class="n">matplotlib</span><span class="o">.</span><span class="n">pyplot</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;A sequence of numbers&#39;</span><span class="p">)</span>
<span class="n">matplotlib</span><span class="o">.</span><span class="n">pyplot</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/Using Functions_43_0.png" src="_images/Using Functions_43_0.png" />
</div>
</div>
<p>It is common to rename <code class="docutils literal notranslate"><span class="pre">matplotlib.pyplot</span></code> as <code class="docutils literal notranslate"><span class="pre">plt</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">matplotlib</span> inline
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="n">plt</span><span class="o">.</span><span class="n">stem</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;$x_n$&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;$n$&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;A sequence of numbers&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/Using Functions_45_0.png" src="_images/Using Functions_45_0.png" />
</div>
</div>
<p>We can also rename a function as we import it to avoid name collision:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="nb">pow</span> <span class="k">as</span> <span class="n">fpow</span>
<span class="n">fpow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="nb">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(4.0, 4)
</pre></div>
</div>
</div>
</div>
<p><strong>Exercise</strong> What is wrong with the following code?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">math</span> <span class="k">as</span> <span class="nn">m</span>
<span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span> <span class="n">m</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">AttributeError</span><span class="g g-Whitespace">                            </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">14</span><span class="o">-</span><span class="mi">53146</span><span class="n">a1609f3</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="kn">import</span> <span class="nn">math</span> <span class="k">as</span> <span class="nn">m</span>
<span class="nn">----&gt; 2 for m</span> in <span class="ni">range(5): m.pow</span><span class="nt">(m, 2)</span>

<span class="ne">AttributeError</span>: &#39;int&#39; object has no attribute &#39;pow&#39;
</pre></div>
</div>
</div>
</div>
<p>There is a name collision: <code class="docutils literal notranslate"><span class="pre">m</span></code> is assigned to an integer in the for loop and so it is no longer the module <code class="docutils literal notranslate"><span class="pre">math</span></code> when calling <code class="docutils literal notranslate"><span class="pre">m.pow</span></code>.</p>
<p><strong>Exercise</strong> Use the <code class="docutils literal notranslate"><span class="pre">randint</span></code> function from <code class="docutils literal notranslate"><span class="pre">random</span></code> to simulate the rolling of a die, by printing a random integer from 1 to 6.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">random</span>
<span class="nb">print</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="built-in-functions">
<h4>Built-in Functions<a class="headerlink" href="#built-in-functions" title="Permalink to this headline">¶</a></h4>
<p><strong>How to learn more about a function such as <code class="docutils literal notranslate"><span class="pre">randint</span></code>?</strong></p>
<p>There is a built-in function <code class="docutils literal notranslate"><span class="pre">help</span></code> for showing the <em>docstring</em> (documentation string).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">random</span>
<span class="n">help</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">)</span>  <span class="c1"># random must be imported before</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Help on method randint in module random:

randint(a, b) method of random.Random instance
    Return random integer in range [a, b], including both end points.
</pre></div>
</div>
</div>
</div>
<div class="cell tag_output_scroll docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">help</span><span class="p">(</span><span class="n">random</span><span class="p">)</span>  <span class="c1"># can also show the docstring of a module</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Help on module random:

NAME
    random - Random variable generators.

MODULE REFERENCE
    https://docs.python.org/3.7/library/random
    
    The following documentation is automatically generated from the Python
    source files.  It may be incomplete, incorrect or include features that
    are considered implementation detail and may vary between Python
    implementations.  When in doubt, consult the module reference at the
    location listed above.

DESCRIPTION
        integers
        --------
               uniform within range
    
        sequences
        ---------
               pick random element
               pick random sample
               pick weighted random sample
               generate random permutation
    
        distributions on the real line:
        ------------------------------
               uniform
               triangular
               normal (Gaussian)
               lognormal
               negative exponential
               gamma
               beta
               pareto
               Weibull
    
        distributions on the circle (angles 0 to 2pi)
        ---------------------------------------------
               circular uniform
               von Mises
    
    General notes on the underlying Mersenne Twister core generator:
    
    * The period is 2**19937-1.
    * It is one of the most extensively tested generators in existence.
    * The random() method is implemented in C, executes in a single Python step,
      and is, therefore, threadsafe.

CLASSES
    _random.Random(builtins.object)
        Random
            SystemRandom
    
    class Random(_random.Random)
     |  Random(x=None)
     |  
     |  Random number generator base class used by bound module functions.
     |  
     |  Used to instantiate instances of Random to get generators that don&#39;t
     |  share state.
     |  
     |  Class Random can also be subclassed if you want to use a different basic
     |  generator of your own devising: in that case, override the following
     |  methods:  random(), seed(), getstate(), and setstate().
     |  Optionally, implement a getrandbits() method so that randrange()
     |  can cover arbitrarily large ranges.
     |  
     |  Method resolution order:
     |      Random
     |      _random.Random
     |      builtins.object
     |  
     |  Methods defined here:
     |  
     |  __getstate__(self)
     |      # Issue 17489: Since __reduce__ was defined to fix #759889 this is no
     |      # longer called; we leave it here because it has been here since random was
     |      # rewritten back in 2001 and why risk breaking something.
     |  
     |  __init__(self, x=None)
     |      Initialize an instance.
     |      
     |      Optional argument x controls seeding, as for Random.seed().
     |  
     |  __reduce__(self)
     |      Helper for pickle.
     |  
     |  __setstate__(self, state)
     |  
     |  betavariate(self, alpha, beta)
     |      Beta distribution.
     |      
     |      Conditions on the parameters are alpha &gt; 0 and beta &gt; 0.
     |      Returned values range between 0 and 1.
     |  
     |  choice(self, seq)
     |      Choose a random element from a non-empty sequence.
     |  
     |  choices(self, population, weights=None, *, cum_weights=None, k=1)
     |      Return a k sized list of population elements chosen with replacement.
     |      
     |      If the relative weights or cumulative weights are not specified,
     |      the selections are made with equal probability.
     |  
     |  expovariate(self, lambd)
     |      Exponential distribution.
     |      
     |      lambd is 1.0 divided by the desired mean.  It should be
     |      nonzero.  (The parameter would be called &quot;lambda&quot;, but that is
     |      a reserved word in Python.)  Returned values range from 0 to
     |      positive infinity if lambd is positive, and from negative
     |      infinity to 0 if lambd is negative.
     |  
     |  gammavariate(self, alpha, beta)
     |      Gamma distribution.  Not the gamma function!
     |      
     |      Conditions on the parameters are alpha &gt; 0 and beta &gt; 0.
     |      
     |      The probability distribution function is:
     |      
     |                  x ** (alpha - 1) * math.exp(-x / beta)
     |        pdf(x) =  --------------------------------------
     |                    math.gamma(alpha) * beta ** alpha
     |  
     |  gauss(self, mu, sigma)
     |      Gaussian distribution.
     |      
     |      mu is the mean, and sigma is the standard deviation.  This is
     |      slightly faster than the normalvariate() function.
     |      
     |      Not thread-safe without a lock around calls.
     |  
     |  getstate(self)
     |      Return internal state; can be passed to setstate() later.
     |  
     |  lognormvariate(self, mu, sigma)
     |      Log normal distribution.
     |      
     |      If you take the natural logarithm of this distribution, you&#39;ll get a
     |      normal distribution with mean mu and standard deviation sigma.
     |      mu can have any value, and sigma must be greater than zero.
     |  
     |  normalvariate(self, mu, sigma)
     |      Normal distribution.
     |      
     |      mu is the mean, and sigma is the standard deviation.
     |  
     |  paretovariate(self, alpha)
     |      Pareto distribution.  alpha is the shape parameter.
     |  
     |  randint(self, a, b)
     |      Return random integer in range [a, b], including both end points.
     |  
     |  randrange(self, start, stop=None, step=1, _int=&lt;class &#39;int&#39;&gt;)
     |      Choose a random item from range(start, stop[, step]).
     |      
     |      This fixes the problem with randint() which includes the
     |      endpoint; in Python this is usually not what you want.
     |  
     |  sample(self, population, k)
     |      Chooses k unique random elements from a population sequence or set.
     |      
     |      Returns a new list containing elements from the population while
     |      leaving the original population unchanged.  The resulting list is
     |      in selection order so that all sub-slices will also be valid random
     |      samples.  This allows raffle winners (the sample) to be partitioned
     |      into grand prize and second place winners (the subslices).
     |      
     |      Members of the population need not be hashable or unique.  If the
     |      population contains repeats, then each occurrence is a possible
     |      selection in the sample.
     |      
     |      To choose a sample in a range of integers, use range as an argument.
     |      This is especially fast and space efficient for sampling from a
     |      large population:   sample(range(10000000), 60)
     |  
     |  seed(self, a=None, version=2)
     |      Initialize internal state from hashable object.
     |      
     |      None or no argument seeds from current time or from an operating
     |      system specific randomness source if available.
     |      
     |      If *a* is an int, all bits are used.
     |      
     |      For version 2 (the default), all of the bits are used if *a* is a str,
     |      bytes, or bytearray.  For version 1 (provided for reproducing random
     |      sequences from older versions of Python), the algorithm for str and
     |      bytes generates a narrower range of seeds.
     |  
     |  setstate(self, state)
     |      Restore internal state from object returned by getstate().
     |  
     |  shuffle(self, x, random=None)
     |      Shuffle list x in place, and return None.
     |      
     |      Optional argument random is a 0-argument function returning a
     |      random float in [0.0, 1.0); if it is the default None, the
     |      standard random.random will be used.
     |  
     |  triangular(self, low=0.0, high=1.0, mode=None)
     |      Triangular distribution.
     |      
     |      Continuous distribution bounded by given lower and upper limits,
     |      and having a given mode value in-between.
     |      
     |      http://en.wikipedia.org/wiki/Triangular_distribution
     |  
     |  uniform(self, a, b)
     |      Get a random number in the range [a, b) or [a, b] depending on rounding.
     |  
     |  vonmisesvariate(self, mu, kappa)
     |      Circular data distribution.
     |      
     |      mu is the mean angle, expressed in radians between 0 and 2*pi, and
     |      kappa is the concentration parameter, which must be greater than or
     |      equal to zero.  If kappa is equal to zero, this distribution reduces
     |      to a uniform random angle over the range 0 to 2*pi.
     |  
     |  weibullvariate(self, alpha, beta)
     |      Weibull distribution.
     |      
     |      alpha is the scale parameter and beta is the shape parameter.
     |  
     |  ----------------------------------------------------------------------
     |  Data descriptors defined here:
     |  
     |  __dict__
     |      dictionary for instance variables (if defined)
     |  
     |  __weakref__
     |      list of weak references to the object (if defined)
     |  
     |  ----------------------------------------------------------------------
     |  Data and other attributes defined here:
     |  
     |  VERSION = 3
     |  
     |  ----------------------------------------------------------------------
     |  Methods inherited from _random.Random:
     |  
     |  __getattribute__(self, name, /)
     |      Return getattr(self, name).
     |  
     |  getrandbits(...)
     |      getrandbits(k) -&gt; x.  Generates an int with k random bits.
     |  
     |  random(...)
     |      random() -&gt; x in the interval [0, 1).
     |  
     |  ----------------------------------------------------------------------
     |  Static methods inherited from _random.Random:
     |  
     |  __new__(*args, **kwargs) from builtins.type
     |      Create and return a new object.  See help(type) for accurate signature.
    
    class SystemRandom(Random)
     |  SystemRandom(x=None)
     |  
     |  Alternate random number generator using sources provided
     |  by the operating system (such as /dev/urandom on Unix or
     |  CryptGenRandom on Windows).
     |  
     |   Not available on all systems (see os.urandom() for details).
     |  
     |  Method resolution order:
     |      SystemRandom
     |      Random
     |      _random.Random
     |      builtins.object
     |  
     |  Methods defined here:
     |  
     |  getrandbits(self, k)
     |      getrandbits(k) -&gt; x.  Generates an int with k random bits.
     |  
     |  getstate = _notimplemented(self, *args, **kwds)
     |  
     |  random(self)
     |      Get the next random number in the range [0.0, 1.0).
     |  
     |  seed(self, *args, **kwds)
     |      Stub method.  Not used for a system random number generator.
     |  
     |  setstate = _notimplemented(self, *args, **kwds)
     |  
     |  ----------------------------------------------------------------------
     |  Methods inherited from Random:
     |  
     |  __getstate__(self)
     |      # Issue 17489: Since __reduce__ was defined to fix #759889 this is no
     |      # longer called; we leave it here because it has been here since random was
     |      # rewritten back in 2001 and why risk breaking something.
     |  
     |  __init__(self, x=None)
     |      Initialize an instance.
     |      
     |      Optional argument x controls seeding, as for Random.seed().
     |  
     |  __reduce__(self)
     |      Helper for pickle.
     |  
     |  __setstate__(self, state)
     |  
     |  betavariate(self, alpha, beta)
     |      Beta distribution.
     |      
     |      Conditions on the parameters are alpha &gt; 0 and beta &gt; 0.
     |      Returned values range between 0 and 1.
     |  
     |  choice(self, seq)
     |      Choose a random element from a non-empty sequence.
     |  
     |  choices(self, population, weights=None, *, cum_weights=None, k=1)
     |      Return a k sized list of population elements chosen with replacement.
     |      
     |      If the relative weights or cumulative weights are not specified,
     |      the selections are made with equal probability.
     |  
     |  expovariate(self, lambd)
     |      Exponential distribution.
     |      
     |      lambd is 1.0 divided by the desired mean.  It should be
     |      nonzero.  (The parameter would be called &quot;lambda&quot;, but that is
     |      a reserved word in Python.)  Returned values range from 0 to
     |      positive infinity if lambd is positive, and from negative
     |      infinity to 0 if lambd is negative.
     |  
     |  gammavariate(self, alpha, beta)
     |      Gamma distribution.  Not the gamma function!
     |      
     |      Conditions on the parameters are alpha &gt; 0 and beta &gt; 0.
     |      
     |      The probability distribution function is:
     |      
     |                  x ** (alpha - 1) * math.exp(-x / beta)
     |        pdf(x) =  --------------------------------------
     |                    math.gamma(alpha) * beta ** alpha
     |  
     |  gauss(self, mu, sigma)
     |      Gaussian distribution.
     |      
     |      mu is the mean, and sigma is the standard deviation.  This is
     |      slightly faster than the normalvariate() function.
     |      
     |      Not thread-safe without a lock around calls.
     |  
     |  lognormvariate(self, mu, sigma)
     |      Log normal distribution.
     |      
     |      If you take the natural logarithm of this distribution, you&#39;ll get a
     |      normal distribution with mean mu and standard deviation sigma.
     |      mu can have any value, and sigma must be greater than zero.
     |  
     |  normalvariate(self, mu, sigma)
     |      Normal distribution.
     |      
     |      mu is the mean, and sigma is the standard deviation.
     |  
     |  paretovariate(self, alpha)
     |      Pareto distribution.  alpha is the shape parameter.
     |  
     |  randint(self, a, b)
     |      Return random integer in range [a, b], including both end points.
     |  
     |  randrange(self, start, stop=None, step=1, _int=&lt;class &#39;int&#39;&gt;)
     |      Choose a random item from range(start, stop[, step]).
     |      
     |      This fixes the problem with randint() which includes the
     |      endpoint; in Python this is usually not what you want.
     |  
     |  sample(self, population, k)
     |      Chooses k unique random elements from a population sequence or set.
     |      
     |      Returns a new list containing elements from the population while
     |      leaving the original population unchanged.  The resulting list is
     |      in selection order so that all sub-slices will also be valid random
     |      samples.  This allows raffle winners (the sample) to be partitioned
     |      into grand prize and second place winners (the subslices).
     |      
     |      Members of the population need not be hashable or unique.  If the
     |      population contains repeats, then each occurrence is a possible
     |      selection in the sample.
     |      
     |      To choose a sample in a range of integers, use range as an argument.
     |      This is especially fast and space efficient for sampling from a
     |      large population:   sample(range(10000000), 60)
     |  
     |  shuffle(self, x, random=None)
     |      Shuffle list x in place, and return None.
     |      
     |      Optional argument random is a 0-argument function returning a
     |      random float in [0.0, 1.0); if it is the default None, the
     |      standard random.random will be used.
     |  
     |  triangular(self, low=0.0, high=1.0, mode=None)
     |      Triangular distribution.
     |      
     |      Continuous distribution bounded by given lower and upper limits,
     |      and having a given mode value in-between.
     |      
     |      http://en.wikipedia.org/wiki/Triangular_distribution
     |  
     |  uniform(self, a, b)
     |      Get a random number in the range [a, b) or [a, b] depending on rounding.
     |  
     |  vonmisesvariate(self, mu, kappa)
     |      Circular data distribution.
     |      
     |      mu is the mean angle, expressed in radians between 0 and 2*pi, and
     |      kappa is the concentration parameter, which must be greater than or
     |      equal to zero.  If kappa is equal to zero, this distribution reduces
     |      to a uniform random angle over the range 0 to 2*pi.
     |  
     |  weibullvariate(self, alpha, beta)
     |      Weibull distribution.
     |      
     |      alpha is the scale parameter and beta is the shape parameter.
     |  
     |  ----------------------------------------------------------------------
     |  Data descriptors inherited from Random:
     |  
     |  __dict__
     |      dictionary for instance variables (if defined)
     |  
     |  __weakref__
     |      list of weak references to the object (if defined)
     |  
     |  ----------------------------------------------------------------------
     |  Data and other attributes inherited from Random:
     |  
     |  VERSION = 3
     |  
     |  ----------------------------------------------------------------------
     |  Methods inherited from _random.Random:
     |  
     |  __getattribute__(self, name, /)
     |      Return getattr(self, name).
     |  
     |  ----------------------------------------------------------------------
     |  Static methods inherited from _random.Random:
     |  
     |  __new__(*args, **kwargs) from builtins.type
     |      Create and return a new object.  See help(type) for accurate signature.

FUNCTIONS
    betavariate(alpha, beta) method of Random instance
        Beta distribution.
        
        Conditions on the parameters are alpha &gt; 0 and beta &gt; 0.
        Returned values range between 0 and 1.
    
    choice(seq) method of Random instance
        Choose a random element from a non-empty sequence.
    
    choices(population, weights=None, *, cum_weights=None, k=1) method of Random instance
        Return a k sized list of population elements chosen with replacement.
        
        If the relative weights or cumulative weights are not specified,
        the selections are made with equal probability.
    
    expovariate(lambd) method of Random instance
        Exponential distribution.
        
        lambd is 1.0 divided by the desired mean.  It should be
        nonzero.  (The parameter would be called &quot;lambda&quot;, but that is
        a reserved word in Python.)  Returned values range from 0 to
        positive infinity if lambd is positive, and from negative
        infinity to 0 if lambd is negative.
    
    gammavariate(alpha, beta) method of Random instance
        Gamma distribution.  Not the gamma function!
        
        Conditions on the parameters are alpha &gt; 0 and beta &gt; 0.
        
        The probability distribution function is:
        
                    x ** (alpha - 1) * math.exp(-x / beta)
          pdf(x) =  --------------------------------------
                      math.gamma(alpha) * beta ** alpha
    
    gauss(mu, sigma) method of Random instance
        Gaussian distribution.
        
        mu is the mean, and sigma is the standard deviation.  This is
        slightly faster than the normalvariate() function.
        
        Not thread-safe without a lock around calls.
    
    getrandbits(...) method of Random instance
        getrandbits(k) -&gt; x.  Generates an int with k random bits.
    
    getstate() method of Random instance
        Return internal state; can be passed to setstate() later.
    
    lognormvariate(mu, sigma) method of Random instance
        Log normal distribution.
        
        If you take the natural logarithm of this distribution, you&#39;ll get a
        normal distribution with mean mu and standard deviation sigma.
        mu can have any value, and sigma must be greater than zero.
    
    normalvariate(mu, sigma) method of Random instance
        Normal distribution.
        
        mu is the mean, and sigma is the standard deviation.
    
    paretovariate(alpha) method of Random instance
        Pareto distribution.  alpha is the shape parameter.
    
    randint(a, b) method of Random instance
        Return random integer in range [a, b], including both end points.
    
    random(...) method of Random instance
        random() -&gt; x in the interval [0, 1).
    
    randrange(start, stop=None, step=1, _int=&lt;class &#39;int&#39;&gt;) method of Random instance
        Choose a random item from range(start, stop[, step]).
        
        This fixes the problem with randint() which includes the
        endpoint; in Python this is usually not what you want.
    
    sample(population, k) method of Random instance
        Chooses k unique random elements from a population sequence or set.
        
        Returns a new list containing elements from the population while
        leaving the original population unchanged.  The resulting list is
        in selection order so that all sub-slices will also be valid random
        samples.  This allows raffle winners (the sample) to be partitioned
        into grand prize and second place winners (the subslices).
        
        Members of the population need not be hashable or unique.  If the
        population contains repeats, then each occurrence is a possible
        selection in the sample.
        
        To choose a sample in a range of integers, use range as an argument.
        This is especially fast and space efficient for sampling from a
        large population:   sample(range(10000000), 60)
    
    seed(a=None, version=2) method of Random instance
        Initialize internal state from hashable object.
        
        None or no argument seeds from current time or from an operating
        system specific randomness source if available.
        
        If *a* is an int, all bits are used.
        
        For version 2 (the default), all of the bits are used if *a* is a str,
        bytes, or bytearray.  For version 1 (provided for reproducing random
        sequences from older versions of Python), the algorithm for str and
        bytes generates a narrower range of seeds.
    
    setstate(state) method of Random instance
        Restore internal state from object returned by getstate().
    
    shuffle(x, random=None) method of Random instance
        Shuffle list x in place, and return None.
        
        Optional argument random is a 0-argument function returning a
        random float in [0.0, 1.0); if it is the default None, the
        standard random.random will be used.
    
    triangular(low=0.0, high=1.0, mode=None) method of Random instance
        Triangular distribution.
        
        Continuous distribution bounded by given lower and upper limits,
        and having a given mode value in-between.
        
        http://en.wikipedia.org/wiki/Triangular_distribution
    
    uniform(a, b) method of Random instance
        Get a random number in the range [a, b) or [a, b] depending on rounding.
    
    vonmisesvariate(mu, kappa) method of Random instance
        Circular data distribution.
        
        mu is the mean angle, expressed in radians between 0 and 2*pi, and
        kappa is the concentration parameter, which must be greater than or
        equal to zero.  If kappa is equal to zero, this distribution reduces
        to a uniform random angle over the range 0 to 2*pi.
    
    weibullvariate(alpha, beta) method of Random instance
        Weibull distribution.
        
        alpha is the scale parameter and beta is the shape parameter.

DATA
    __all__ = [&#39;Random&#39;, &#39;seed&#39;, &#39;random&#39;, &#39;uniform&#39;, &#39;randint&#39;, &#39;choice&#39;,...

FILE
    /home/chungc/anaconda3/lib/python3.7/random.py
</pre></div>
</div>
</div>
</div>
<div class="cell tag_output_scroll docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">help</span><span class="p">(</span><span class="n">help</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Help on _Helper in module _sitebuiltins object:

class _Helper(builtins.object)
 |  Define the builtin &#39;help&#39;.
 |  
 |  This is a wrapper around pydoc.help that provides a helpful message
 |  when &#39;help&#39; is typed at the Python interactive prompt.
 |  
 |  Calling help() at the Python prompt starts an interactive help session.
 |  Calling help(thing) prints help for the python object &#39;thing&#39;.
 |  
 |  Methods defined here:
 |  
 |  __call__(self, *args, **kwds)
 |      Call self as a function.
 |  
 |  __repr__(self)
 |      Return repr(self).
 |  
 |  ----------------------------------------------------------------------
 |  Data descriptors defined here:
 |  
 |  __dict__
 |      dictionary for instance variables (if defined)
 |  
 |  __weakref__
 |      list of weak references to the object (if defined)
</pre></div>
</div>
</div>
</div>
<p><strong>Does built-in functions belong to a module?</strong></p>
<p>Indeed, every function must come from a module.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">__builtin__</span><span class="o">.</span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;I am from the __builtin__ module.&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>I am from the __builtin__ module.
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">__builtin__</span></code> module is automatically loaded because it provides functions that are commonly use for all programs.</p>
<p><strong>How to list everything in a module?</strong></p>
<p>We can use the built-in function <code class="docutils literal notranslate"><span class="pre">dir</span></code> (<em>directory</em>).</p>
<div class="cell tag_output_scroll docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">dir</span><span class="p">(</span><span class="n">__builtin__</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;ArithmeticError&#39;,
 &#39;AssertionError&#39;,
 &#39;AttributeError&#39;,
 &#39;BaseException&#39;,
 &#39;BlockingIOError&#39;,
 &#39;BrokenPipeError&#39;,
 &#39;BufferError&#39;,
 &#39;BytesWarning&#39;,
 &#39;ChildProcessError&#39;,
 &#39;ConnectionAbortedError&#39;,
 &#39;ConnectionError&#39;,
 &#39;ConnectionRefusedError&#39;,
 &#39;ConnectionResetError&#39;,
 &#39;DeprecationWarning&#39;,
 &#39;EOFError&#39;,
 &#39;Ellipsis&#39;,
 &#39;EnvironmentError&#39;,
 &#39;Exception&#39;,
 &#39;False&#39;,
 &#39;FileExistsError&#39;,
 &#39;FileNotFoundError&#39;,
 &#39;FloatingPointError&#39;,
 &#39;FutureWarning&#39;,
 &#39;GeneratorExit&#39;,
 &#39;IOError&#39;,
 &#39;ImportError&#39;,
 &#39;ImportWarning&#39;,
 &#39;IndentationError&#39;,
 &#39;IndexError&#39;,
 &#39;InterruptedError&#39;,
 &#39;IsADirectoryError&#39;,
 &#39;KeyError&#39;,
 &#39;KeyboardInterrupt&#39;,
 &#39;LookupError&#39;,
 &#39;MemoryError&#39;,
 &#39;ModuleNotFoundError&#39;,
 &#39;NameError&#39;,
 &#39;None&#39;,
 &#39;NotADirectoryError&#39;,
 &#39;NotImplemented&#39;,
 &#39;NotImplementedError&#39;,
 &#39;OSError&#39;,
 &#39;OverflowError&#39;,
 &#39;PendingDeprecationWarning&#39;,
 &#39;PermissionError&#39;,
 &#39;ProcessLookupError&#39;,
 &#39;RecursionError&#39;,
 &#39;ReferenceError&#39;,
 &#39;ResourceWarning&#39;,
 &#39;RuntimeError&#39;,
 &#39;RuntimeWarning&#39;,
 &#39;StopAsyncIteration&#39;,
 &#39;StopIteration&#39;,
 &#39;SyntaxError&#39;,
 &#39;SyntaxWarning&#39;,
 &#39;SystemError&#39;,
 &#39;SystemExit&#39;,
 &#39;TabError&#39;,
 &#39;TimeoutError&#39;,
 &#39;True&#39;,
 &#39;TypeError&#39;,
 &#39;UnboundLocalError&#39;,
 &#39;UnicodeDecodeError&#39;,
 &#39;UnicodeEncodeError&#39;,
 &#39;UnicodeError&#39;,
 &#39;UnicodeTranslateError&#39;,
 &#39;UnicodeWarning&#39;,
 &#39;UserWarning&#39;,
 &#39;ValueError&#39;,
 &#39;Warning&#39;,
 &#39;ZeroDivisionError&#39;,
 &#39;__IPYTHON__&#39;,
 &#39;__build_class__&#39;,
 &#39;__debug__&#39;,
 &#39;__doc__&#39;,
 &#39;__import__&#39;,
 &#39;__loader__&#39;,
 &#39;__name__&#39;,
 &#39;__package__&#39;,
 &#39;__spec__&#39;,
 &#39;abs&#39;,
 &#39;all&#39;,
 &#39;any&#39;,
 &#39;ascii&#39;,
 &#39;bin&#39;,
 &#39;bool&#39;,
 &#39;breakpoint&#39;,
 &#39;bytearray&#39;,
 &#39;bytes&#39;,
 &#39;callable&#39;,
 &#39;chr&#39;,
 &#39;classmethod&#39;,
 &#39;compile&#39;,
 &#39;complex&#39;,
 &#39;copyright&#39;,
 &#39;credits&#39;,
 &#39;delattr&#39;,
 &#39;dict&#39;,
 &#39;dir&#39;,
 &#39;display&#39;,
 &#39;divmod&#39;,
 &#39;enumerate&#39;,
 &#39;eval&#39;,
 &#39;exec&#39;,
 &#39;filter&#39;,
 &#39;float&#39;,
 &#39;format&#39;,
 &#39;frozenset&#39;,
 &#39;get_ipython&#39;,
 &#39;getattr&#39;,
 &#39;globals&#39;,
 &#39;hasattr&#39;,
 &#39;hash&#39;,
 &#39;help&#39;,
 &#39;hex&#39;,
 &#39;id&#39;,
 &#39;input&#39;,
 &#39;int&#39;,
 &#39;isinstance&#39;,
 &#39;issubclass&#39;,
 &#39;iter&#39;,
 &#39;len&#39;,
 &#39;license&#39;,
 &#39;list&#39;,
 &#39;locals&#39;,
 &#39;map&#39;,
 &#39;max&#39;,
 &#39;memoryview&#39;,
 &#39;min&#39;,
 &#39;next&#39;,
 &#39;object&#39;,
 &#39;oct&#39;,
 &#39;open&#39;,
 &#39;ord&#39;,
 &#39;pow&#39;,
 &#39;print&#39;,
 &#39;property&#39;,
 &#39;range&#39;,
 &#39;repr&#39;,
 &#39;reversed&#39;,
 &#39;round&#39;,
 &#39;set&#39;,
 &#39;setattr&#39;,
 &#39;slice&#39;,
 &#39;sorted&#39;,
 &#39;staticmethod&#39;,
 &#39;str&#39;,
 &#39;sum&#39;,
 &#39;super&#39;,
 &#39;tuple&#39;,
 &#39;type&#39;,
 &#39;vars&#39;,
 &#39;zip&#39;]
</pre></div>
</div>
</div>
</div>
<p>We can also call <code class="docutils literal notranslate"><span class="pre">dir</span></code> without arguments.<br />
What does it print?</p>
<div class="cell tag_output_scroll docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">dir</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;In&#39;,
 &#39;Out&#39;,
 &#39;_&#39;,
 &#39;_13&#39;,
 &#39;_2&#39;,
 &#39;_20&#39;,
 &#39;_3&#39;,
 &#39;__&#39;,
 &#39;___&#39;,
 &#39;__builtin__&#39;,
 &#39;__builtins__&#39;,
 &#39;__doc__&#39;,
 &#39;__loader__&#39;,
 &#39;__name__&#39;,
 &#39;__package__&#39;,
 &#39;__spec__&#39;,
 &#39;_dh&#39;,
 &#39;_i&#39;,
 &#39;_i1&#39;,
 &#39;_i10&#39;,
 &#39;_i11&#39;,
 &#39;_i12&#39;,
 &#39;_i13&#39;,
 &#39;_i14&#39;,
 &#39;_i15&#39;,
 &#39;_i16&#39;,
 &#39;_i17&#39;,
 &#39;_i18&#39;,
 &#39;_i19&#39;,
 &#39;_i2&#39;,
 &#39;_i20&#39;,
 &#39;_i21&#39;,
 &#39;_i3&#39;,
 &#39;_i4&#39;,
 &#39;_i5&#39;,
 &#39;_i6&#39;,
 &#39;_i7&#39;,
 &#39;_i8&#39;,
 &#39;_i9&#39;,
 &#39;_ih&#39;,
 &#39;_ii&#39;,
 &#39;_iii&#39;,
 &#39;_oh&#39;,
 &#39;exit&#39;,
 &#39;fpow&#39;,
 &#39;get_ipython&#39;,
 &#39;log&#39;,
 &#39;m&#39;,
 &#39;matplotlib&#39;,
 &#39;plt&#39;,
 &#39;quit&#39;,
 &#39;random&#39;,
 &#39;x&#39;]
</pre></div>
</div>
</div>
</div>
</div>
</div>
<span id="document-Lecture4/Writing Functions"></span><div class="section" id="writing-function">
<h3>Writing Function<a class="headerlink" href="#writing-function" title="Permalink to this headline">¶</a></h3>
<div class="section" id="function-definition">
<h4>Function Definition<a class="headerlink" href="#function-definition" title="Permalink to this headline">¶</a></h4>
<p><strong>How to write a function?</strong></p>
<p>A function is defined using the <a class="reference external" href="https://docs.python.org/3/reference/compound_stmts.html#def"><code class="docutils literal notranslate"><span class="pre">def</span></code> keyword</a>:</p>
<p>The following is a simple function that prints “Hello, World!”.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Function definition</span>
<span class="k">def</span> <span class="nf">say_hello</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Hello, World!&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Function invocation</span>
<span class="n">say_hello</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Hello, World!
</pre></div>
</div>
</div>
</div>
<p>To make a function more powerful and solve different problems,<br />
we can</p>
<ul class="simple">
<li><p>use a <a class="reference external" href="https://docs.python.org/3/reference/simple_stmts.html#the-return-statement">return statement</a> to return a value that</p></li>
<li><p>depends on some input arguments.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">increment</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span>


<span class="n">increment</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>4
</pre></div>
</div>
</div>
</div>
<p>We can also have multiple input arguments.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">length_of_hypotenuse</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">a</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">b</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">a</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">b</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">**</span><span class="mf">0.5</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Input arguments must be non-negative.&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">length_of_hypotenuse</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>5.0
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">length_of_hypotenuse</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Input arguments must be non-negative.
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="documentation">
<h4>Documentation<a class="headerlink" href="#documentation" title="Permalink to this headline">¶</a></h4>
<p><strong>How to document a function?</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Author: John Doe</span>
<span class="c1"># Last modified: 2020-09-14</span>
<span class="k">def</span> <span class="nf">increment</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;The function takes in a value x and returns the increment x + 1.</span>
<span class="sd">    </span>
<span class="sd">    It is a simple example that demonstrates the idea of</span>
<span class="sd">    - parameter passing, </span>
<span class="sd">    - return statement, and </span>
<span class="sd">    - function documentation.&#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span>  <span class="c1"># + operation is used and may fail for &#39;str&#39;</span>
</pre></div>
</div>
</div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">help</span></code> command shows the docstring we write</p>
<ul class="simple">
<li><p>at beginning of the function body</p></li>
<li><p>delimited using triple single/double quotes.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">help</span><span class="p">(</span><span class="n">increment</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Help on function increment in module __main__:

increment(x)
    The function takes in a value x and returns the increment x + 1.
    
    It is a simple example that demonstrates the idea of
    - parameter passing, 
    - return statement, and 
    - function documentation.
</pre></div>
</div>
</div>
</div>
<p>The docstring should contain the <em>usage guide</em>, i.e., information for new users to call the function properly.<br />
There is a Python style guide (PEP 257) for</p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.python.org/dev/peps/pep-0257/#one-line-docstrings">one-line docstrings</a> and</p></li>
<li><p><a class="reference external" href="https://www.python.org/dev/peps/pep-0257/#multi-line-docstrings">multi-line docstrings</a>.</p></li>
</ul>
<p><strong>Why doesn’t <code class="docutils literal notranslate"><span class="pre">help</span></code> show the comments that start with <code class="docutils literal notranslate"><span class="pre">#</span></code>?</strong></p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Author: John Doe</span>
<span class="c1"># Last modified: 2020-09-14</span>
<span class="k">def</span> <span class="nf">increment</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="o">...</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span>  <span class="c1"># + operation is used and may fail for &#39;str&#39;</span>
</pre></div>
</div>
<p>Those comments are not usage guide. They are intended for programmers who need to maintain/extend the function definition.</p>
<ul class="simple">
<li><p>Information about the author and modification date facilitate communications among programmers.</p></li>
<li><p>Comments within the code help explain important and not-so-obvious implementation details.</p></li>
</ul>
<p><strong>How to let user know the data types of input arguments and return value?</strong></p>
<p>We can <a class="reference external" href="https://docs.python.org/3/library/typing.html">annotate</a> the function with <em>hints</em> of the types of the arguments and return value.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Author: John Doe</span>
<span class="c1"># Last modified: 2020-09-14</span>
<span class="k">def</span> <span class="nf">increment</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
    <span class="sd">&#39;&#39;&#39;The function takes in a value x and returns the increment x + 1.</span>
<span class="sd">    </span>
<span class="sd">    It is a simple example that demonstrates the idea of</span>
<span class="sd">    - parameter passing, </span>
<span class="sd">    - return statement, and </span>
<span class="sd">    - function documentation.&#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span>  <span class="c1"># + operation is used and may fail for &#39;str&#39;</span>


<span class="n">help</span><span class="p">(</span><span class="n">increment</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Help on function increment in module __main__:

increment(x: float) -&gt; float
    The function takes in a value x and returns the increment x + 1.
    
    It is a simple example that demonstrates the idea of
    - parameter passing, 
    - return statement, and 
    - function documentation.
</pre></div>
</div>
</div>
</div>
<p>The above annotations is not enforced by the Python interpreter.<br />
Nevertheless, such annotations make the code easier to understand and can be used by editor with type-checking tools.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">increment_user_input</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">increment</span><span class="p">(</span><span class="nb">input</span><span class="p">())</span>  <span class="c1"># does not raise error even though input returns str</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">increment_user_input</span><span class="p">()</span>  <span class="c1"># still lead to runtime error</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">StdinNotImplementedError</span><span class="g g-Whitespace">                  </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">54</span><span class="n">f8a719ae03</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">increment_user_input</span><span class="p">()</span>  <span class="c1"># still lead to runtime error</span>

<span class="nn">&lt;ipython-input-11-b8d0baaff5d3&gt;</span> in <span class="ni">increment_user_input</span><span class="nt">()</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="k">def</span> <span class="nf">increment_user_input</span><span class="p">():</span>
<span class="ne">----&gt; </span><span class="mi">2</span>     <span class="k">return</span> <span class="n">increment</span><span class="p">(</span><span class="nb">input</span><span class="p">())</span>  <span class="c1"># does not raise error even though input returns str</span>

<span class="nn">~/anaconda3/lib/python3.7/site-packages/ipykernel/kernelbase.py</span> in <span class="ni">raw_input</span><span class="nt">(self, prompt)</span>
<span class="g g-Whitespace">    </span><span class="mi">856</span>         <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_allow_stdin</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">857</span>             <span class="k">raise</span> <span class="n">StdinNotImplementedError</span><span class="p">(</span>
<span class="ne">--&gt; </span><span class="mi">858</span>                 <span class="s2">&quot;raw_input was called, but this frontend does not support input requests.&quot;</span>
<span class="g g-Whitespace">    </span><span class="mi">859</span>             <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">860</span>         <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_input_request</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">prompt</span><span class="p">),</span>

<span class="ne">StdinNotImplementedError</span>: raw_input was called, but this frontend does not support input requests.
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="parameter-passing">
<h4>Parameter Passing<a class="headerlink" href="#parameter-passing" title="Permalink to this headline">¶</a></h4>
<p><strong>Can we increment a variable instead of returning its increment?</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">increment</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="n">x</span> <span class="o">+=</span> <span class="mi">1</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">increment</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>  <span class="c1"># 4?</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>3
</pre></div>
</div>
</div>
</div>
<p>Does the above code increment <code class="docutils literal notranslate"><span class="pre">x</span></code>?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">mytutor</span> -h 350
def increment(x):
    x += 1


x = 3
increment(x)
print(x)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<iframe
    width="1100"
    height="350"
    src="https://e-quiz.cs.cityu.edu.hk/opt/cs1302visualize.html#mode=display&code=def%20increment%28x%29%3A%0A%20%20%20%20x%20%2B%3D%201%0A%0A%0Ax%20%3D%203%0Aincrement%28x%29%0Aprint%28x%29%0A"
    frameborder="0"
    allowfullscreen
></iframe>
</div></div>
</div>
<ul class="simple">
<li><p>Step 3: The function <code class="docutils literal notranslate"><span class="pre">increment</span></code> is invoked with the argument evaluated to the value of <code class="docutils literal notranslate"><span class="pre">x</span></code>.</p></li>
<li><p>Step 3-4: A local frame is created for variables local to <code class="docutils literal notranslate"><span class="pre">increment</span></code> during its execution.</p>
<ul>
<li><p>The <em>formal parameter</em> <code class="docutils literal notranslate"><span class="pre">x</span></code> in <code class="docutils literal notranslate"><span class="pre">def</span> <span class="pre">increment(x):</span></code> becomes a local variable and</p></li>
<li><p>it is assigned the value <code class="docutils literal notranslate"><span class="pre">3</span></code> of the <em>actual parameter</em> given by the global variable <code class="docutils literal notranslate"><span class="pre">x</span></code>.</p></li>
</ul>
</li>
<li><p>Step 5-6: The local (but not the global) variable <code class="docutils literal notranslate"><span class="pre">x</span></code> is incremented.</p></li>
<li><p>Step 6-7: The function call completes and the local frame is removed.</p></li>
</ul>
</div>
</div>
<span id="document-Lecture5/Objects"></span><div class="section" id="objects">
<h3>Objects<a class="headerlink" href="#objects" title="Permalink to this headline">¶</a></h3>
<div class="section" id="object-oriented-programming">
<h4>Object-Oriented Programming<a class="headerlink" href="#object-oriented-programming" title="Permalink to this headline">¶</a></h4>
<p><strong>Why object-oriented programming?</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">jupyter_manim</span>
<span class="kn">from</span> <span class="nn">manimlib.imports</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">manim</span> HelloWorld -l
class HelloWorld(Scene):
    def construct(self):
        self.play(Write(TextMobject(&#39;Hello, World!&#39;)))
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<video
  width="854"
  height="480"
  autoplay="autoplay"
  controls
>
    <source src="media/videos/tmp4e8ds354/480p15/HelloWorld.mp4" type="video/mp4">
</video>
</div></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">HelloWorld</span></code> is a specific <code class="docutils literal notranslate"><span class="pre">Scene</span></code> that is</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">construct</span></code>ed by <code class="docutils literal notranslate"><span class="pre">play</span></code>ing an animation that <code class="docutils literal notranslate"><span class="pre">Write</span></code></p></li>
<li><p>the <code class="docutils literal notranslate"><span class="pre">TextMobject</span></code> of the message <code class="docutils literal notranslate"><span class="pre">'Hello,</span> <span class="pre">World!'</span></code>.</p></li>
</ul>
<p><strong>Exercise</strong> Try changing</p>
<ul class="simple">
<li><p>Mobjects: <code class="docutils literal notranslate"><span class="pre">TextMobject('Hello,</span> <span class="pre">World!')</span></code> to <code class="docutils literal notranslate"><span class="pre">TexMobject(r'E=mc^2')</span></code> or <code class="docutils literal notranslate"><span class="pre">Circle()</span></code> or <code class="docutils literal notranslate"><span class="pre">Square()</span></code>.</p></li>
<li><p>Animation objects: <code class="docutils literal notranslate"><span class="pre">Write</span></code> to <code class="docutils literal notranslate"><span class="pre">FadeIn</span></code> or <code class="docutils literal notranslate"><span class="pre">GrowFromCenter</span></code>.</p></li>
</ul>
<p>See the <a class="reference external" href="https://eulertour.com/docs/">documentation</a> for other choices.</p>
<p>More complicated behavior can be achieved by using different objects.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%html</span>
<span class="p">&lt;</span><span class="nt">iframe</span> <span class="na">width</span><span class="o">=</span><span class="s">&quot;912&quot;</span> <span class="na">height</span><span class="o">=</span><span class="s">&quot;513&quot;</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;https://www.youtube.com/embed/ENMyFGmq5OA&quot;</span> <span class="na">frameborder</span><span class="o">=</span><span class="s">&quot;0&quot;</span> <span class="na">allow</span><span class="o">=</span><span class="s">&quot;accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture&quot;</span> <span class="na">allowfullscreen</span><span class="p">&gt;&lt;/</span><span class="nt">iframe</span><span class="p">&gt;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><iframe width="912" height="513" src="https://www.youtube.com/embed/ENMyFGmq5OA" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
</div></div>
</div>
<p><strong>What is an object?</strong></p>
<p>Almost everything is an <a class="reference external" href="https://docs.python.org/3/library/functions.html?highlight=object#object"><code class="docutils literal notranslate"><span class="pre">object</span></code></a> in Python.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>isinstance<span class="o">?</span>
<span class="nb">isinstance</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">object</span><span class="p">),</span> <span class="nb">isinstance</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="nb">object</span><span class="p">),</span> <span class="nb">isinstance</span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="nb">object</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(True, True, True)
</pre></div>
</div>
</div>
</div>
<p>A function is also a <a class="reference external" href="https://en.wikipedia.org/wiki/First-class_function">first-class</a> object object.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">isinstance</span><span class="p">(</span><span class="nb">print</span><span class="p">,</span> <span class="nb">object</span><span class="p">),</span> <span class="nb">isinstance</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">isdigit</span><span class="p">,</span> <span class="nb">object</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(True, True)
</pre></div>
</div>
</div>
</div>
<p>A data type is also an object.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># chicken and egg relationship</span>
<span class="nb">isinstance</span><span class="p">(</span><span class="nb">type</span><span class="p">,</span> <span class="nb">object</span><span class="p">),</span> <span class="nb">isinstance</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="nb">type</span><span class="p">),</span> <span class="nb">isinstance</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="nb">object</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(True, True, True)
</pre></div>
</div>
</div>
</div>
<p>Python is a <a class="reference external" href="https://en.wikipedia.org/wiki/Object-oriented_programming#Class-based_vs_prototype-based"><em>class-based</em> object-oriented programming</a> language:</p>
<ul class="simple">
<li><p>Each object is an instance of a <em>class</em> (also called type in Python).</p></li>
<li><p>An object is a collection of <em>members/attributes</em>, each of which is an object.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>hasattr<span class="o">?</span>
<span class="nb">hasattr</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="s1">&#39;isdigit&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<p>Different objects of a class</p>
<ul class="simple">
<li><p>have the same set of attributes as that of the class, but</p></li>
<li><p>the attribute values can be different.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>dir<span class="o">?</span>
<span class="nb">dir</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">==</span><span class="nb">dir</span><span class="p">(</span><span class="nb">int</span><span class="p">),</span> <span class="nb">complex</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">imag</span> <span class="o">!=</span> <span class="nb">complex</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">imag</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(True, True)
</pre></div>
</div>
</div>
</div>
<p><strong>How to operate on an object?</strong></p>
<ul class="simple">
<li><p>A class can define a function as an attribute for all its instances.</p></li>
<li><p>Such a function is called a <em>method</em> or <em>member function</em>.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">complex</span><span class="o">.</span><span class="n">conjugate</span><span class="p">(</span><span class="nb">complex</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)),</span> <span class="nb">type</span><span class="p">(</span><span class="nb">complex</span><span class="o">.</span><span class="n">conjugate</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>((1-2j), method_descriptor)
</pre></div>
</div>
</div>
</div>
<p>A <a class="reference external" href="https://docs.python.org/3/tutorial/classes.html#method-objects">method</a> can be accessed by objects of the class:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">complex</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">conjugate</span><span class="p">(),</span> <span class="nb">type</span><span class="p">(</span><span class="nb">complex</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">conjugate</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>((1-2j), builtin_function_or_method)
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">complex(1,2).conjugate</span></code> is a <em>callable</em> object:</p>
<ul class="simple">
<li><p>Its attribute <code class="docutils literal notranslate"><span class="pre">__self__</span></code> is assigned to <code class="docutils literal notranslate"><span class="pre">complex(1,2)</span></code>.</p></li>
<li><p>When called, it passes <code class="docutils literal notranslate"><span class="pre">__self__</span></code> as the first argument to <code class="docutils literal notranslate"><span class="pre">complex.conjugate</span></code>.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">callable</span><span class="p">(</span><span class="nb">complex</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">conjugate</span><span class="p">),</span> <span class="nb">complex</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">conjugate</span><span class="o">.</span><span class="vm">__self__</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(True, (1+2j))
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="file-objects">
<h4>File Objects<a class="headerlink" href="#file-objects" title="Permalink to this headline">¶</a></h4>
<p><strong>How to read a text file?</strong></p>
<p>Consider reading a csv (comma separated value) file:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>more <span class="s1">&#39;contact.csv&#39;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>name, email, phone
Amelia Hawkins,dugorre@lufu.cg,(414) 524-6465
Alta Perez,bos@fiur.sc,(385) 247-9001
Tai Ming Chan,tmchan@cityu.edu.hk,(634) 234-7294
Annie Zimmerman,okodag@saswuf.mn,(259) 862-1082
Eula Crawford,ve@rorohte.mx,(635) 827-9819
Clayton Atkins,vape@nig.eh,(762) 271-7090
Hallie Day,kozzazazi@ozakewje.am,(872) 949-5878
Lida Matthews,joobu@pabnesis.kg,(213) 486-8330
Amelia Pittman,nulif@uposzag.au,(800) 303-3234
</pre></div>
</div>
</div>
</div>
<p>To read the file by a Python program:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;contact.csv&#39;</span><span class="p">)</span>  <span class="c1"># create a file object for reading</span>
<span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>   <span class="c1"># return the entire content</span>
<span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>         <span class="c1"># close the file</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>name, email, phone
Amelia Hawkins,dugorre@lufu.cg,(414) 524-6465
Alta Perez,bos@fiur.sc,(385) 247-9001
Tai Ming Chan,tmchan@cityu.edu.hk,(634) 234-7294
Annie Zimmerman,okodag@saswuf.mn,(259) 862-1082
Eula Crawford,ve@rorohte.mx,(635) 827-9819
Clayton Atkins,vape@nig.eh,(762) 271-7090
Hallie Day,kozzazazi@ozakewje.am,(872) 949-5878
Lida Matthews,joobu@pabnesis.kg,(213) 486-8330
Amelia Pittman,nulif@uposzag.au,(800) 303-3234
</pre></div>
</div>
</div>
</div>
<ol class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3/library/functions.html?highlight=open#open"><code class="docutils literal notranslate"><span class="pre">open</span></code></a> is a function that creates a file object and assigns it to <code class="docutils literal notranslate"><span class="pre">f</span></code>.</p></li>
<li><p>Associated with the file object,</p></li>
</ol>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3/library/io.html#io.TextIOBase.read"><code class="docutils literal notranslate"><span class="pre">read</span></code></a> returns the entire content of the file as a string.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/io.html#io.IOBase.close"><code class="docutils literal notranslate"><span class="pre">close</span></code></a> flushes and closes the file.</p></li>
</ul>
<p><strong>Why close a file?</strong></p>
<p>If not, depending on the operating system,</p>
<ul class="simple">
<li><p>other programs may not be able to access the file, and</p></li>
<li><p>changes may not be written to the file.</p></li>
</ul>
<p>To ensure a file is closed properly, we can use the <a class="reference external" href="https://docs.python.org/3/reference/compound_stmts.html#with"><code class="docutils literal notranslate"><span class="pre">with</span></code> statement</a>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;contact.csv&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>name, email, phone
Amelia Hawkins,dugorre@lufu.cg,(414) 524-6465
Alta Perez,bos@fiur.sc,(385) 247-9001
Tai Ming Chan,tmchan@cityu.edu.hk,(634) 234-7294
Annie Zimmerman,okodag@saswuf.mn,(259) 862-1082
Eula Crawford,ve@rorohte.mx,(635) 827-9819
Clayton Atkins,vape@nig.eh,(762) 271-7090
Hallie Day,kozzazazi@ozakewje.am,(872) 949-5878
Lida Matthews,joobu@pabnesis.kg,(213) 486-8330
Amelia Pittman,nulif@uposzag.au,(800) 303-3234
</pre></div>
</div>
</div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">with</span></code> statement applies to any <a class="reference external" href="https://docs.python.org/3/reference/datamodel.html#context-managers">context manager</a> that provides the methods</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">__enter__</span></code> for initialization, and</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">__exit__</span></code> for finalization.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;contact.csv&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="s1">&#39;__enter__&#39;</span><span class="p">),</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="s1">&#39;__exit__&#39;</span><span class="p">),</span> <span class="n">sep</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;_io.TextIOWrapper name=&#39;contact.csv&#39; mode=&#39;r&#39; encoding=&#39;UTF-8&#39;&gt;
True
True
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">f.__enter__</span></code> is called after the file object is successfully created and assigned to <code class="docutils literal notranslate"><span class="pre">f</span></code>, and</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f.__exit__</span></code> is called at the end, which closes the file.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f.closed</span></code> indicates whether the file is closed.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f</span><span class="o">.</span><span class="n">closed</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<p>We can iterate a file object in a for loop,<br />
which implicitly call the method <code class="docutils literal notranslate"><span class="pre">__iter__</span></code> to read a file line by line.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;contact.csv&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">f</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>

<span class="nb">hasattr</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="s1">&#39;__iter__&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>name, email, phone
Amelia Hawkins,dugorre@lufu.cg,(414) 524-6465
Alta Perez,bos@fiur.sc,(385) 247-9001
Tai Ming Chan,tmchan@cityu.edu.hk,(634) 234-7294
Annie Zimmerman,okodag@saswuf.mn,(259) 862-1082
Eula Crawford,ve@rorohte.mx,(635) 827-9819
Clayton Atkins,vape@nig.eh,(762) 271-7090
Hallie Day,kozzazazi@ozakewje.am,(872) 949-5878
Lida Matthews,joobu@pabnesis.kg,(213) 486-8330
Amelia Pittman,nulif@uposzag.au,(800) 303-3234
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<p><strong>Exercise</strong> Print only the first 5 lines of the file <code class="docutils literal notranslate"><span class="pre">contact.csv</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;contact.csv&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="c1">### BEGIN SOLUTION</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">line</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">f</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="mi">5</span><span class="p">:</span> <span class="k">break</span>
    <span class="c1">### END SOLUTION</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>name, email, phone
Amelia Hawkins,dugorre@lufu.cg,(414) 524-6465
Alta Perez,bos@fiur.sc,(385) 247-9001
Tai Ming Chan,tmchan@cityu.edu.hk,(634) 234-7294
Annie Zimmerman,okodag@saswuf.mn,(259) 862-1082
Eula Crawford,ve@rorohte.mx,(635) 827-9819
</pre></div>
</div>
</div>
</div>
<p><strong>How to write to a text file?</strong></p>
<p>Consider backing up <code class="docutils literal notranslate"><span class="pre">contact.csv</span></code> to a new file:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">destination</span> <span class="o">=</span> <span class="s1">&#39;private/new_contact.csv&#39;</span>
</pre></div>
</div>
</div>
</div>
<p>The directory has to be created first if it does not exist:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">destination</span><span class="p">),</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>os.makedirs<span class="o">?</span>
<span class="o">!</span>ls
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Objects.ipynb  contact.csv  media  private
</pre></div>
</div>
</div>
</div>
<p>To write to the destination file:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;contact.csv&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">source_file</span><span class="p">:</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">destination</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">destination_file</span><span class="p">:</span>
        <span class="n">destination_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">source_file</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>destination_file.write<span class="o">?</span>
<span class="o">!</span>more <span class="o">{</span>destination<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>name, email, phone
Amelia Hawkins,dugorre@lufu.cg,(414) 524-6465
Alta Perez,bos@fiur.sc,(385) 247-9001
Tai Ming Chan,tmchan@cityu.edu.hk,(634) 234-7294
Annie Zimmerman,okodag@saswuf.mn,(259) 862-1082
Eula Crawford,ve@rorohte.mx,(635) 827-9819
Clayton Atkins,vape@nig.eh,(762) 271-7090
Hallie Day,kozzazazi@ozakewje.am,(872) 949-5878
Lida Matthews,joobu@pabnesis.kg,(213) 486-8330
Amelia Pittman,nulif@uposzag.au,(800) 303-3234
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>The argument <code class="docutils literal notranslate"><span class="pre">'w'</span></code> to <code class="docutils literal notranslate"><span class="pre">open</span></code> sets the file object to write mode.</p></li>
<li><p>The method <code class="docutils literal notranslate"><span class="pre">write</span></code> writes the input strings to the file.</p></li>
</ul>
<p><strong>Exercise</strong> We can also use <code class="docutils literal notranslate"><span class="pre">a</span></code> mode to <em>append</em> new content to a file.<br />
Complete the following code to append <code class="docutils literal notranslate"><span class="pre">new_data</span></code> to the file <code class="docutils literal notranslate"><span class="pre">destination</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">new_data</span> <span class="o">=</span> <span class="s1">&#39;Effie, Douglas,galnec@naowdu.tc, (888) 311-9512&#39;</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">destination</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="c1">### BEGIN SOLUTION</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">new_data</span><span class="p">)</span>
    <span class="c1">### END SOLUTION</span>
<span class="o">!</span>more <span class="o">{</span>destination<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>name, email, phone
Amelia Hawkins,dugorre@lufu.cg,(414) 524-6465
Alta Perez,bos@fiur.sc,(385) 247-9001
Tai Ming Chan,tmchan@cityu.edu.hk,(634) 234-7294
Annie Zimmerman,okodag@saswuf.mn,(259) 862-1082
Eula Crawford,ve@rorohte.mx,(635) 827-9819
Clayton Atkins,vape@nig.eh,(762) 271-7090
Hallie Day,kozzazazi@ozakewje.am,(872) 949-5878
Lida Matthews,joobu@pabnesis.kg,(213) 486-8330
Amelia Pittman,nulif@uposzag.au,(800) 303-3234
Effie, Douglas,galnec@naowdu.tc, (888) 311-9512
</pre></div>
</div>
</div>
</div>
<p><strong>How to delete a file?</strong></p>
<p>Note that the file object does not provide any method to delete the file.<br />
Instead, we should use the function <code class="docutils literal notranslate"><span class="pre">remove</span></code> of the <code class="docutils literal notranslate"><span class="pre">os</span></code> module.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">destination</span><span class="p">):</span>
    <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">destination</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="string-objects">
<h4>String Objects<a class="headerlink" href="#string-objects" title="Permalink to this headline">¶</a></h4>
<p><strong>How to search for a substring in a string?</strong></p>
<p>A string object has the method <code class="docutils literal notranslate"><span class="pre">find</span></code> to search for a substring.<br />
E.g., to find the contact information of Tai Ming:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>str.find<span class="o">?</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;contact.csv&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">f</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">line</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;Tai Ming&#39;</span><span class="p">)</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
            <span class="n">record</span> <span class="o">=</span> <span class="n">line</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">record</span><span class="p">)</span>
            <span class="k">break</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Tai Ming Chan,tmchan@cityu.edu.hk,(634) 234-7294
</pre></div>
</div>
</div>
</div>
<p><strong>How to split and join strings?</strong></p>
<p>A string can be split according to a delimiter using the <code class="docutils literal notranslate"><span class="pre">split</span></code> method.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">record</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;Tai Ming Chan&#39;, &#39;tmchan@cityu.edu.hk&#39;, &#39;(634) 234-7294\n&#39;]
</pre></div>
</div>
</div>
</div>
<p>The list of substrings can be joined back together using the <code class="docutils literal notranslate"><span class="pre">join</span></code> methods.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">record</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Tai Ming Chan
tmchan@cityu.edu.hk
(634) 234-7294
</pre></div>
</div>
</div>
</div>
<p><strong>Exercise</strong> Print only the phone number (last item) in <code class="docutils literal notranslate"><span class="pre">record</span></code>. Use the method <code class="docutils literal notranslate"><span class="pre">rstrip</span></code> or  <code class="docutils literal notranslate"><span class="pre">strip</span></code> to remove unnecessary white spaces at the end.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>str.rstrip<span class="o">?</span>
<span class="c1">### BEGIN SOLUTION</span>
<span class="nb">print</span><span class="p">(</span><span class="n">record</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">rstrip</span><span class="p">())</span>
<span class="c1">### END SOLUTION</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(634) 234-7294
</pre></div>
</div>
</div>
</div>
<p><strong>Exercise</strong> Print only the name (first item) in <code class="docutils literal notranslate"><span class="pre">record</span></code> but with</p>
<ul class="simple">
<li><p>surname printed first with all letters in upper case</p></li>
<li><p>followed by a comma, a space, and</p></li>
<li><p>the first name as it is in <code class="docutils literal notranslate"><span class="pre">record</span></code>.</p></li>
</ul>
<p>E.g., <code class="docutils literal notranslate"><span class="pre">Tai</span> <span class="pre">Ming</span> <span class="pre">Chan</span></code> should be printed as <code class="docutils literal notranslate"><span class="pre">CHAN,</span> <span class="pre">Tai</span> <span class="pre">Ming</span></code>.</p>
<p><em>Hint</em>: Use the methods <code class="docutils literal notranslate"><span class="pre">upper</span></code> and <code class="docutils literal notranslate"><span class="pre">rsplit</span></code> (with the parameter <code class="docutils literal notranslate"><span class="pre">maxsplit=1</span></code>).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>str.rsplit<span class="o">?</span>
<span class="c1">### BEGIN SOLUTION</span>
<span class="n">first</span><span class="p">,</span> <span class="n">last</span> <span class="o">=</span> <span class="n">record</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">rsplit</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="n">maxsplit</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{}</span><span class="s1">, </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">last</span><span class="o">.</span><span class="n">upper</span><span class="p">(),</span><span class="n">first</span><span class="p">))</span>
<span class="c1">### END SOLUTION</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>CHAN, Tai Ming
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="operator-overloading">
<h4>Operator Overloading<a class="headerlink" href="#operator-overloading" title="Permalink to this headline">¶</a></h4>
<div class="section" id="what-is-overloading">
<h5>What is overloading?<a class="headerlink" href="#what-is-overloading" title="Permalink to this headline">¶</a></h5>
<p>Recall that the addition operation <code class="docutils literal notranslate"><span class="pre">+</span></code> behaves differently for different types.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">x</span><span class="si">!r:</span><span class="s1">^5</span><span class="si">}</span><span class="s1"> + </span><span class="si">{</span><span class="n">y</span><span class="si">!r:</span><span class="s1">^5</span><span class="si">}</span><span class="s1"> = </span><span class="si">{</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="si">!r}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  1   +   1   = 2
 &#39;1&#39;  +  &#39;1&#39;  = &#39;11&#39;
</pre></div>
</div>
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">TypeError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">32</span><span class="o">-</span><span class="mi">297</span><span class="n">be71279db</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="k">for</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">):</span>
<span class="ne">----&gt; </span><span class="mi">2</span>     <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">x</span><span class="si">!r:</span><span class="s1">^5</span><span class="si">}</span><span class="s1"> + </span><span class="si">{</span><span class="n">y</span><span class="si">!r:</span><span class="s1">^5</span><span class="si">}</span><span class="s1"> = </span><span class="si">{</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="si">!r}</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="ne">TypeError</span>: unsupported operand type(s) for +: &#39;int&#39; and &#39;str&#39;
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Having an operator perform differently based on its argument types is called <a class="reference external" href="https://en.wikipedia.org/wiki/Operator_overloading">operator <em>overloading</em></a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">+</span></code> is called a <em>generic</em> operator.</p></li>
<li><p>We can also have function overloading to create generic functions.</p></li>
</ul>
</div>
<div class="section" id="how-to-dispatch-on-type">
<h5>How to dispatch on type?<a class="headerlink" href="#how-to-dispatch-on-type" title="Permalink to this headline">¶</a></h5>
<p>The strategy of checking the type for the appropriate implementation is called <em>dispatching on type</em>.</p>
<p>A naive idea is to put all different implementations together with case-by-case checks of operand types.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">add_case_by_case</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Do integer summation...&#39;</span><span class="p">)</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Do string concatenation...&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Return a TypeError...&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>  <span class="c1"># replaced by internal implementations</span>


<span class="k">for</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">x</span><span class="si">!r:</span><span class="s1">^10</span><span class="si">}</span><span class="s1"> + </span><span class="si">{</span><span class="n">y</span><span class="si">!r:</span><span class="s1">^10</span><span class="si">}</span><span class="s1"> = </span><span class="si">{</span><span class="n">add_case_by_case</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span><span class="si">!r}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Do integer summation...
    1      +     1      = 2
Do string concatenation...
   &#39;1&#39;     +    &#39;1&#39;     = &#39;11&#39;
Return a TypeError...
</pre></div>
</div>
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">TypeError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">33</span><span class="o">-</span><span class="mi">85</span><span class="n">c671bf17e3</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="g g-Whitespace">     </span><span class="mi">10</span> 
<span class="g g-Whitespace">     </span><span class="mi">11</span> <span class="k">for</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">):</span>
<span class="ne">---&gt; </span><span class="mi">12</span>     <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">x</span><span class="si">!r:</span><span class="s1">^10</span><span class="si">}</span><span class="s1"> + </span><span class="si">{</span><span class="n">y</span><span class="si">!r:</span><span class="s1">^10</span><span class="si">}</span><span class="s1"> = </span><span class="si">{</span><span class="n">add_case_by_case</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span><span class="si">!r}</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="nn">&lt;ipython-input-33-85c671bf17e3&gt;</span> in <span class="ni">add_case_by_case</span><span class="nt">(x, y)</span>
<span class="g g-Whitespace">      </span><span class="mi">6</span>     <span class="k">else</span><span class="p">:</span>
<span class="g g-Whitespace">      </span><span class="mi">7</span>         <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Return a TypeError...&#39;</span><span class="p">)</span>
<span class="ne">----&gt; </span><span class="mi">8</span>     <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>  <span class="c1"># replaced by internal implementations</span>
<span class="g g-Whitespace">      </span><span class="mi">9</span> 
<span class="g g-Whitespace">     </span><span class="mi">10</span> 

<span class="ne">TypeError</span>: unsupported operand type(s) for +: &#39;int&#39; and &#39;str&#39;
</pre></div>
</div>
</div>
</div>
<p>It can get quite messy with all possible types and combinations.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="ow">in</span> <span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mf">1.1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">complex</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)),</span> <span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">))):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">x</span><span class="si">!r:</span><span class="s1">^10</span><span class="si">}</span><span class="s1"> + </span><span class="si">{</span><span class="n">y</span><span class="si">!r:</span><span class="s1">^10</span><span class="si">}</span><span class="s1"> = </span><span class="si">{</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="si">!r}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>    1      +    1.1     = 2.1
    1      +   (1+2j)   = (2+2j)
  (1, 2)   +   (1, 2)   = (1, 2, 1, 2)
</pre></div>
</div>
</div>
</div>
<p><strong>What about new data types?</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">fractions</span> <span class="kn">import</span> <span class="n">Fraction</span>  <span class="c1"># non-built-in type for fractions</span>
<span class="k">for</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="ow">in</span> <span class="p">((</span><span class="n">Fraction</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">))):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s1"> + </span><span class="si">{</span><span class="n">y</span><span class="si">}</span><span class="s1"> = </span><span class="si">{</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1/2 + 1 = 3/2
1 + 1/2 = 3/2
</pre></div>
</div>
</div>
</div>
<p>Weaknesses of the naive approach:</p>
<ol class="simple">
<li><p>New data types require rewriting the addition operation.</p></li>
<li><p>A programmer may not know all other types and combinations to rewrite the code properly.</p></li>
</ol>
</div>
<div class="section" id="how-to-have-data-directed-programming">
<h5>How to have data-directed programming?<a class="headerlink" href="#how-to-have-data-directed-programming" title="Permalink to this headline">¶</a></h5>
<p>The idea is to treat an implementation as a datum that can be returned by the operand types.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">+</span> <span class="pre">y</span></code> is a <a class="reference external" href="https://en.wikipedia.org/wiki/Syntactic_sugar"><em>syntactic sugar</em></a> that</p></li>
<li><p>invokes the method <code class="docutils literal notranslate"><span class="pre">type(x).__add__(x,y)</span></code> of <code class="docutils literal notranslate"><span class="pre">type(x)</span></code> to do the addition.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="ow">in</span> <span class="p">(</span><span class="n">Fraction</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s1"> + </span><span class="si">{</span><span class="n">y</span><span class="si">}</span><span class="s1"> = </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="fm">__add__</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>  <span class="c1"># instead of x + y</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1/2 + 1 = 3/2
1 + 1/2 = NotImplemented
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>The first case calls <code class="docutils literal notranslate"><span class="pre">Fraction.__add__</span></code>, which provides a way to add <code class="docutils literal notranslate"><span class="pre">int</span></code> to <code class="docutils literal notranslate"><span class="pre">Fraction</span></code>.</p></li>
<li><p>The second case calls <code class="docutils literal notranslate"><span class="pre">int.__add__</span></code>, which cannot provide any way of adding <code class="docutils literal notranslate"><span class="pre">Fraction</span></code> to <code class="docutils literal notranslate"><span class="pre">int</span></code>. (Why not?)</p></li>
</ul>
<p><strong>Why return a <a class="reference external" href="https://docs.python.org/3.6/library/constants.html#NotImplemented"><code class="docutils literal notranslate"><span class="pre">NotImplemented</span></code> object</a> instead of raising an error/exception?</strong></p>
<ul class="simple">
<li><p>This allows <code class="docutils literal notranslate"><span class="pre">+</span></code> to continue to handle the addition by</p></li>
<li><p>dispatching on <code class="docutils literal notranslate"><span class="pre">Fraction</span></code> to call its reverse addition method <a class="reference external" href="https://docs.python.org/3.6/library/numbers.html#implementing-the-arithmetic-operations"><code class="docutils literal notranslate"><span class="pre">__radd__</span></code></a>.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">mytutor</span> -h 500
from fractions import Fraction
def add(x, y):
    &#39;&#39;&#39;Simulate the + operator.&#39;&#39;&#39;
    sum = x.__add__(y)
    if sum is NotImplemented:
        sum = y.__radd__(x)
    return sum


for x, y in (Fraction(1, 2), 1), (1, Fraction(1, 2)):
    print(f&#39;{x} + {y} = {add(x,y)}&#39;)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<iframe
    width="1100"
    height="500"
    src="https://e-quiz.cs.cityu.edu.hk/opt/cs1302visualize.html#mode=display&code=from%20fractions%20import%20Fraction%0Adef%20add%28x%2C%20y%29%3A%0A%20%20%20%20%27%27%27Simulate%20the%20%2B%20operator.%27%27%27%0A%20%20%20%20sum%20%3D%20x.__add__%28y%29%0A%20%20%20%20if%20sum%20is%20NotImplemented%3A%0A%20%20%20%20%20%20%20%20sum%20%3D%20y.__radd__%28x%29%0A%20%20%20%20return%20sum%0A%0A%0Afor%20x%2C%20y%20in%20%28Fraction%281%2C%202%29%2C%201%29%2C%20%281%2C%20Fraction%281%2C%202%29%29%3A%0A%20%20%20%20print%28f%27%7Bx%7D%20%2B%20%7By%7D%20%3D%20%7Badd%28x%2Cy%29%7D%27%29%0A"
    frameborder="0"
    allowfullscreen
></iframe>
</div></div>
</div>
<p>The object-oriented programming techniques involved are formally called:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://en.wikipedia.org/wiki/Polymorphism_(computer_science)"><em>Polymorphism</em></a>: Different types can have different implementations of the <code class="docutils literal notranslate"><span class="pre">__add__</span></code> method.</p></li>
<li><p><a class="reference external" href="https://en.wikipedia.org/wiki/Dynamic_dispatch"><em>Single dispatch</em></a>: The implementation is chosen based on one single type at a time.</p></li>
</ul>
<p>Remarks:</p>
<ul class="simple">
<li><p>A method with starting and trailing double underscores in its name is called a <a class="reference external" href="https://dbader.org/blog/meaning-of-underscores-in-python"><em>dunder method</em></a>.</p></li>
<li><p>Dunder methods are not intended to be called directly. E.g., we normally use <code class="docutils literal notranslate"><span class="pre">+</span></code> instead of <code class="docutils literal notranslate"><span class="pre">__add__</span></code>.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/operator.html?highlight=operator">Other operators</a> have their corresponding dunder methods that overloads the operator.</p></li>
</ul>
</div>
</div>
<div class="section" id="object-aliasing">
<h4>Object Aliasing<a class="headerlink" href="#object-aliasing" title="Permalink to this headline">¶</a></h4>
<p><strong>When are two objects identical?</strong></p>
<ul class="simple">
<li><p>Two objects are the same if they occupy the same memory.</p></li>
<li><p>The keyword <code class="docutils literal notranslate"><span class="pre">is</span></code> checks whether two objects are the same object.</p></li>
<li><p>The function <code class="docutils literal notranslate"><span class="pre">id</span></code> returns a unique id number for each object.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">mytutor</span> -h 400
x, y = complex(1,2), complex(1,2)
z = x

for expr in &#39;id(x)&#39;, &#39;id(y)&#39;, &#39;id(z)&#39;, &#39;x == y == z&#39;, &#39;x is y&#39;, &#39;x is z&#39;:
    print(expr,eval(expr))
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<iframe
    width="1100"
    height="400"
    src="https://e-quiz.cs.cityu.edu.hk/opt/cs1302visualize.html#mode=display&code=x%2C%20y%20%3D%20complex%281%2C2%29%2C%20complex%281%2C2%29%0Az%20%3D%20x%0A%0Afor%20expr%20in%20%27id%28x%29%27%2C%20%27id%28y%29%27%2C%20%27id%28z%29%27%2C%20%27x%20%3D%3D%20y%20%3D%3D%20z%27%2C%20%27x%20is%20y%27%2C%20%27x%20is%20z%27%3A%0A%20%20%20%20print%28expr%2Ceval%28expr%29%29%0A"
    frameborder="0"
    allowfullscreen
></iframe>
</div></div>
</div>
<p>As the box-pointer diagram shows:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code> is not <code class="docutils literal notranslate"><span class="pre">y</span></code> because they point to objects at different memory locations,<br />
even though the objects have the same type and value.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code> is <code class="docutils literal notranslate"><span class="pre">z</span></code> because the assignment <code class="docutils literal notranslate"><span class="pre">z</span> <span class="pre">=</span> <span class="pre">x</span></code> binds <code class="docutils literal notranslate"><span class="pre">z</span></code> to the same memory location <code class="docutils literal notranslate"><span class="pre">x</span></code> points to.<br />
<code class="docutils literal notranslate"><span class="pre">z</span></code> is said to be an <em>alias</em> (another name) of <code class="docutils literal notranslate"><span class="pre">x</span></code>.</p></li>
</ul>
<p><strong>Should we use <code class="docutils literal notranslate"><span class="pre">is</span></code> or <code class="docutils literal notranslate"><span class="pre">==</span></code>?</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">is</span></code> is faster but:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="mi">1</span> <span class="ow">is</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span> <span class="ow">is</span> <span class="mf">1.</span><span class="p">,</span> <span class="mi">1</span> <span class="o">==</span> <span class="mf">1.</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(True, False, True)
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">is</span> <span class="pre">1.</span></code> returns false because <code class="docutils literal notranslate"><span class="pre">1</span></code> is <code class="docutils literal notranslate"><span class="pre">int</span></code> but <code class="docutils literal notranslate"><span class="pre">1.</span></code> is <code class="docutils literal notranslate"><span class="pre">float</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">==</span></code> calls the method <code class="docutils literal notranslate"><span class="pre">__eq__</span></code> of <code class="docutils literal notranslate"><span class="pre">float</span></code> which returns mathematical equivalence.</p></li>
</ul>
<p><em>Can we use <code class="docutils literal notranslate"><span class="pre">is</span></code> for integer comparison?</em></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">1234</span><span class="p">,</span> <span class="mi">1234</span>
<span class="mi">1234</span> <span class="ow">is</span> <span class="mi">1234</span><span class="p">,</span> <span class="n">x</span> <span class="ow">is</span> <span class="n">y</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(True, False)
</pre></div>
</div>
</div>
</div>
<p>No. The behavior of <code class="docutils literal notranslate"><span class="pre">is</span></code> is not entirely predictable.</p>
<p><strong>When should we use <code class="docutils literal notranslate"><span class="pre">is</span></code>?</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">is</span></code> can be used for <a class="reference external" href="https://docs.python.org/3/library/constants.html#built-in-constants">built-in constants</a> such as <code class="docutils literal notranslate"><span class="pre">None</span></code> and  <code class="docutils literal notranslate"><span class="pre">NotImplemented</span></code><br />
because there can only be one instance of each of them.</p>
</div>
</div>
<span id="document-Lecture6/More on Functions"></span><div class="section" id="more-on-functions">
<h3>More on Functions<a class="headerlink" href="#more-on-functions" title="Permalink to this headline">¶</a></h3>
<div class="section" id="recursion">
<h4>Recursion<a class="headerlink" href="#recursion" title="Permalink to this headline">¶</a></h4>
<p>Consider computing the <a class="reference external" href="https://en.wikipedia.org/wiki/Fibonacci_number">Fibonacci number</a> of order <span class="math notranslate nohighlight">\(n\)</span>:</p>
<div class="math notranslate nohighlight">
\[\begin{split}
F_n := 
\begin{cases}
F_{n-1}+F_{n-2} &amp; n&gt;1 \kern1em \text{(recurrence)}\\
1 &amp; n=1 \kern1em \text{(base case)}\\
0 &amp; n=0 \kern1em \text{(base case)}.
\end{cases}\end{split}\]</div>
<p>Fibonacci numbers have practical applications in generating <a class="reference external" href="https://en.wikipedia.org/wiki/Lagged_Fibonacci_generator">pseudorandom numbers</a>.</p>
<p><strong>Can we define the function by calling the function itself?</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">mytutor</span> -r -h 450
def fibonacci(n):
    if n &gt; 1:
        return fibonacci(n - 1) + fibonacci(n - 2)  # recursion
    elif n == 1:
        return 1
    else:
        return 0

fibonacci(2)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1
</pre></div>
</div>
<div class="output text_html">
<iframe
    width="1100"
    height="450"
    src="https://e-quiz.cs.cityu.edu.hk/opt/cs1302visualize.html#mode=display&code=def%20fibonacci%28n%29%3A%0A%20%20%20%20if%20n%20%3E%201%3A%0A%20%20%20%20%20%20%20%20return%20fibonacci%28n%20-%201%29%20%2B%20fibonacci%28n%20-%202%29%20%20%23%20recursion%0A%20%20%20%20elif%20n%20%3D%3D%201%3A%0A%20%20%20%20%20%20%20%20return%201%0A%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20return%200%0A%0Afibonacci%282%29%0A"
    frameborder="0"
    allowfullscreen
></iframe>
</div></div>
</div>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Recursion_(computer_science)"><em>Recursion</em></a> is a function that calls itself (<em>recurs</em>).</p>
<p><strong>Exercise</strong> Write a function <code class="docutils literal notranslate"><span class="pre">gcd</span></code> that implements the <a class="reference external" href="https://en.wikipedia.org/wiki/Euclidean_algorithm">Euclidean algorithm for the greatest common divisor</a>:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\operatorname{gcd}(a,b)=\begin{cases}a &amp; b=0\\ \operatorname{gcd}(b, a\operatorname{mod}b) &amp; \text{otherwise} \end{cases}\end{split}\]</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">mytutor</span> -r -h 550
def gcd(a, b):
    ### BEGIN SOLUTION
    return gcd(b, a % b) if b else a
    ### END SOLUTION


gcd(3 * 5, 5 * 7)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>5
</pre></div>
</div>
<div class="output text_html">
<iframe
    width="1100"
    height="550"
    src="https://e-quiz.cs.cityu.edu.hk/opt/cs1302visualize.html#mode=display&code=def%20gcd%28a%2C%20b%29%3A%0A%20%20%20%20%23%23%23%20BEGIN%20SOLUTION%0A%20%20%20%20return%20gcd%28b%2C%20a%20%25%20b%29%20if%20b%20else%20a%0A%20%20%20%20%23%23%23%20END%20SOLUTION%0A%0A%0Agcd%283%20%2A%205%2C%205%20%2A%207%29%0A"
    frameborder="0"
    allowfullscreen
></iframe>
</div></div>
</div>
<p><strong>Is recursion strictly necessary?</strong></p>
<p>No. We can always convert a recursion to an iteration.<br />
E.g., the following computes the Fibonnacci number of order using a while loop instead.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">mytutor</span> -r -h 550
def fibonacci_iteration(n):
    if n &gt; 1:
        _, F = 0, 1  # next two Fibonacci numbers
        while n &gt; 1:
            _, F, n = F, F + _, n - 1
        return F
    elif n == 1:
        return 1
    else:
        return 0
    
fibonacci_iteration(3)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2
</pre></div>
</div>
<div class="output text_html">
<iframe
    width="1100"
    height="550"
    src="https://e-quiz.cs.cityu.edu.hk/opt/cs1302visualize.html#mode=display&code=def%20fibonacci_iteration%28n%29%3A%0A%20%20%20%20if%20n%20%3E%201%3A%0A%20%20%20%20%20%20%20%20_%2C%20F%20%3D%200%2C%201%20%20%23%20next%20two%20Fibonacci%20numbers%0A%20%20%20%20%20%20%20%20while%20n%20%3E%201%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20_%2C%20F%2C%20n%20%3D%20F%2C%20F%20%2B%20_%2C%20n%20-%201%0A%20%20%20%20%20%20%20%20return%20F%0A%20%20%20%20elif%20n%20%3D%3D%201%3A%0A%20%20%20%20%20%20%20%20return%201%0A%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20return%200%0A%20%20%20%20%0Afibonacci_iteration%283%29%0A"
    frameborder="0"
    allowfullscreen
></iframe>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># more tests</span>
<span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
    <span class="k">assert</span> <span class="n">fibonacci</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="o">==</span> <span class="n">fibonacci_iteration</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p><strong>Exercise</strong> Implement <code class="docutils literal notranslate"><span class="pre">gcd_iteration</span></code> using a while loop instead of a recursion.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">mytutor</span> -r -h 550
def gcd_iteration(a, b):
    ### BEGIN SOLUTION
    while b:
        a, b = b, a % b
    return a
    ### END SOLUTION


gcd_iteration(3 * 5, 5 * 7)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>5
</pre></div>
</div>
<div class="output text_html">
<iframe
    width="1100"
    height="550"
    src="https://e-quiz.cs.cityu.edu.hk/opt/cs1302visualize.html#mode=display&code=def%20gcd_iteration%28a%2C%20b%29%3A%0A%20%20%20%20%23%23%23%20BEGIN%20SOLUTION%0A%20%20%20%20while%20b%3A%0A%20%20%20%20%20%20%20%20a%2C%20b%20%3D%20b%2C%20a%20%25%20b%0A%20%20%20%20return%20a%0A%20%20%20%20%23%23%23%20END%20SOLUTION%0A%0A%0Agcd_iteration%283%20%2A%205%2C%205%20%2A%207%29%0A"
    frameborder="0"
    allowfullscreen
></iframe>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># test</span>
<span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
    <span class="k">assert</span> <span class="n">fibonacci</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="o">==</span> <span class="n">fibonacci_iteration</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p><strong>What is the benefit of recursion?</strong></p>
<ul class="simple">
<li><p>Recursion is often shorter and easier to understand.</p></li>
<li><p>It is also easier to write code by <em>wishful thinking</em> or <em><a class="reference external" href="https://en.wikipedia.org/wiki/Declarative_programming">declarative programming</a></em>.</p></li>
</ul>
<p><strong>Is recusion more efficient than iteration?</strong></p>
<p><strong>Exercise</strong> Find the smallest values of <code class="docutils literal notranslate"><span class="pre">n</span></code> for<code class="docutils literal notranslate"><span class="pre">fibonacci(n)</span></code> and <code class="docutils literal notranslate"><span class="pre">fibonacci_iteration(n)</span></code> respectively to run for more than a second.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Assign n</span>
<span class="c1">### BEGIN SOLUTION</span>
<span class="n">n</span> <span class="o">=</span> <span class="mi">33</span>
<span class="c1">### END SOLUTION</span>
<span class="n">fib_recursion</span> <span class="o">=</span> <span class="n">fibonacci</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Assign n</span>
<span class="c1">### BEGIN SOLUTION</span>
<span class="n">n</span> <span class="o">=</span> <span class="mi">300000</span>
<span class="c1">### END SOLUTION</span>
<span class="n">fib_iteration</span> <span class="o">=</span> <span class="n">fibonacci_iteration</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>To see why recursion is slow, we will modify <code class="docutils literal notranslate"><span class="pre">fibonacci</span></code> to print each function call as follows.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">fibonacci</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Returns the Fibonacci number of order n.&#39;&#39;&#39;</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;fibonacci(</span><span class="si">{!r}</span><span class="s1">)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">n</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">fibonacci</span><span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">fibonacci</span><span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">2</span><span class="p">)</span> <span class="k">if</span> <span class="n">n</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="k">else</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">1</span> <span class="k">else</span> <span class="mi">0</span>


<span class="n">fibonacci</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>fibonacci(5)
fibonacci(4)
fibonacci(3)
fibonacci(2)
fibonacci(1)
fibonacci(0)
fibonacci(1)
fibonacci(2)
fibonacci(1)
fibonacci(0)
fibonacci(3)
fibonacci(2)
fibonacci(1)
fibonacci(0)
fibonacci(1)
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>5
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">fibonacci(5)</span></code> calls <code class="docutils literal notranslate"><span class="pre">fibonacci(3)</span></code> and <code class="docutils literal notranslate"><span class="pre">fibonacci(4)</span></code>, which in turn call <code class="docutils literal notranslate"><span class="pre">fibonacci(2)</span></code> and <code class="docutils literal notranslate"><span class="pre">fibonacci(3)</span></code>. <code class="docutils literal notranslate"><span class="pre">fibonacci(3)</span></code> is called twice.</p>
</div>
<div class="section" id="global-variables">
<h4>Global Variables<a class="headerlink" href="#global-variables" title="Permalink to this headline">¶</a></h4>
<p>Consider the problem of generating a sequence of Fibonacci numbers.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">fibonacci_iteration</span><span class="p">(</span><span class="n">n</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0
1
1
2
3
</pre></div>
</div>
</div>
</div>
<p><strong>Is the above loop efficient?</strong></p>
<p>No. Each call to <code class="docutils literal notranslate"><span class="pre">fibonacci_iteration(n)</span></code> recomputes the last two Fibonacci numbers <span class="math notranslate nohighlight">\(F_{n-1}\)</span> and <span class="math notranslate nohighlight">\(F_{n-2}\)</span> for <span class="math notranslate nohighlight">\(n\geq 2\)</span>.</p>
<p><strong>How to avoid redundant computations?</strong></p>
<p>One way is to store the last two computed Fibonacci numbers.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">mytutor</span> -h 600
def next_fibonacci():
    &#39;&#39;&#39;Returns the next Fibonacci number.&#39;&#39;&#39;
    global _Fn, _Fn1, _n  # global declaration
    value = _Fn
    _Fn, _Fn1, _n = _Fn1, _Fn + _Fn1, _n + 1
    return value

def print_fibonacci_state():
    print(&#39;&#39;&#39;States:
    _Fn  : Next Fibonacci number      = {}
    _Fn1 : Next next Fibonacci number = {}
    _n   : Next order                 = {}&#39;&#39;&#39;.format(_Fn,_Fn1,_n))

# global variables for next_fibonacci and print_fibonacci_state
_Fn, _Fn1, _n = 0, 1, 0

for n in range(5):
    print(next_fibonacci())
print_fibonacci_state()
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<iframe
    width="1100"
    height="600"
    src="https://e-quiz.cs.cityu.edu.hk/opt/cs1302visualize.html#mode=display&code=def%20next_fibonacci%28%29%3A%0A%20%20%20%20%27%27%27Returns%20the%20next%20Fibonacci%20number.%27%27%27%0A%20%20%20%20global%20_Fn%2C%20_Fn1%2C%20_n%20%20%23%20global%20declaration%0A%20%20%20%20value%20%3D%20_Fn%0A%20%20%20%20_Fn%2C%20_Fn1%2C%20_n%20%3D%20_Fn1%2C%20_Fn%20%2B%20_Fn1%2C%20_n%20%2B%201%0A%20%20%20%20return%20value%0A%0Adef%20print_fibonacci_state%28%29%3A%0A%20%20%20%20print%28%27%27%27States%3A%0A%20%20%20%20_Fn%20%20%3A%20Next%20Fibonacci%20number%20%20%20%20%20%20%3D%20%7B%7D%0A%20%20%20%20_Fn1%20%3A%20Next%20next%20Fibonacci%20number%20%3D%20%7B%7D%0A%20%20%20%20_n%20%20%20%3A%20Next%20order%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3D%20%7B%7D%27%27%27.format%28_Fn%2C_Fn1%2C_n%29%29%0A%0A%23%20global%20variables%20for%20next_fibonacci%20and%20print_fibonacci_state%0A_Fn%2C%20_Fn1%2C%20_n%20%3D%200%2C%201%2C%200%0A%0Afor%20n%20in%20range%285%29%3A%0A%20%20%20%20print%28next_fibonacci%28%29%29%0Aprint_fibonacci_state%28%29%0A"
    frameborder="0"
    allowfullscreen
></iframe>
</div></div>
</div>
<p>Rules for <a class="reference external" href="https://docs.python.org/3/faq/programming.html#what-are-the-rules-for-local-and-global-variables-in-python"><em>global/local variables</em></a>:</p>
<ol class="simple">
<li><p>A local variable must be defined within a function.</p></li>
<li><p>An assignment defines a local variable except in a <a class="reference external" href="https://docs.python.org/3/reference/simple_stmts.html#the-global-statement"><code class="docutils literal notranslate"><span class="pre">global</span></code> statement</a>.</p></li>
</ol>
<p><strong>Why <code class="docutils literal notranslate"><span class="pre">global</span></code> is NOT needed in <code class="docutils literal notranslate"><span class="pre">print_fibonacci_state</span></code>?</strong></p>
<p>Without ambiguity, <code class="docutils literal notranslate"><span class="pre">_Fn,</span> <span class="pre">_Fn1,</span> <span class="pre">_n</span></code> in <code class="docutils literal notranslate"><span class="pre">print_fibonacci_state</span></code> are not local variables by Rule 1 because they are not defined within the function.</p>
<p><strong>Why <code class="docutils literal notranslate"><span class="pre">global</span></code> is needed in <code class="docutils literal notranslate"><span class="pre">next_fibonacci</span></code>?</strong></p>
<p>What happens otherwise:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">next_fibonacci</span><span class="p">():</span>
    <span class="sd">&#39;&#39;&#39;Returns the next Fibonacci number.&#39;&#39;&#39;</span>
    <span class="c1"># global _Fn, _Fn1, _n</span>
    <span class="n">value</span> <span class="o">=</span> <span class="n">_Fn</span>
    <span class="n">_Fn</span><span class="p">,</span> <span class="n">_Fn1</span><span class="p">,</span> <span class="n">_n</span> <span class="o">=</span> <span class="n">_Fn1</span><span class="p">,</span> <span class="n">_Fn</span> <span class="o">+</span> <span class="n">_Fn1</span><span class="p">,</span> <span class="n">_n</span> <span class="o">+</span> <span class="mi">1</span>
    <span class="k">return</span> <span class="n">value</span>

<span class="n">next_fibonacci</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">UnboundLocalError</span><span class="g g-Whitespace">                         </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">13</span><span class="o">-</span><span class="mi">44</span><span class="n">c8c496bfd8</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="g g-Whitespace">      </span><span class="mi">6</span>     <span class="k">return</span> <span class="n">value</span>
<span class="g g-Whitespace">      </span><span class="mi">7</span> 
<span class="ne">----&gt; </span><span class="mi">8</span> <span class="n">next_fibonacci</span><span class="p">()</span>

<span class="nn">&lt;ipython-input-13-44c8c496bfd8&gt;</span> in <span class="ni">next_fibonacci</span><span class="nt">()</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span>     <span class="sd">&#39;&#39;&#39;Returns the next Fibonacci number.&#39;&#39;&#39;</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span>     <span class="c1"># global _Fn, _Fn1, _n</span>
<span class="ne">----&gt; </span><span class="mi">4</span>     <span class="n">value</span> <span class="o">=</span> <span class="n">_Fn</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span>     <span class="n">_Fn</span><span class="p">,</span> <span class="n">_Fn1</span><span class="p">,</span> <span class="n">_n</span> <span class="o">=</span> <span class="n">_Fn1</span><span class="p">,</span> <span class="n">_Fn</span> <span class="o">+</span> <span class="n">_Fn1</span><span class="p">,</span> <span class="n">_n</span> <span class="o">+</span> <span class="mi">1</span>
<span class="g g-Whitespace">      </span><span class="mi">6</span>     <span class="k">return</span> <span class="n">value</span>

<span class="ne">UnboundLocalError</span>: local variable &#39;_Fn&#39; referenced before assignment
</pre></div>
</div>
</div>
</div>
<p>Why is there an <code class="docutils literal notranslate"><span class="pre">UnboundLocalError</span></code>?</p>
<ul class="simple">
<li><p>The assignment defines <code class="docutils literal notranslate"><span class="pre">_Fn</span></code> as a local variable by Rule 2.</p></li>
<li><p>However, the assignment requires first evaluating <code class="docutils literal notranslate"><span class="pre">_Fn</span></code>, which is not yet defined.</p></li>
</ul>
<p><strong>Are global variables preferred over local ones?</strong></p>
<p>Suppose for aesthetic reasons we remove the underscores in global variable names?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">mytutor</span> -h 600
def next_fibonacci():
    &#39;&#39;&#39;Returns the next Fibonacci number.&#39;&#39;&#39;
    global Fn, Fn1, n
    value = Fn
    Fn, Fn1, n = Fn1, Fn + Fn1, n + 1
    return value

def print_fibonacci_state():
    print(&#39;&#39;&#39;States:
    Fn  : Next Fibonacci number      = {}
    Fn1 : Next next Fibonacci number = {}
    n   : Next order                 = {}&#39;&#39;&#39;.format(Fn,Fn1,n))

# global variables renamed without underscores
Fn, Fn1, n = 0, 1, 0

n = 0
while n &lt; 5:
    print(next_fibonacci())
    n += 1
print_fibonacci_state()
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<iframe
    width="1100"
    height="600"
    src="https://e-quiz.cs.cityu.edu.hk/opt/cs1302visualize.html#mode=display&code=def%20next_fibonacci%28%29%3A%0A%20%20%20%20%27%27%27Returns%20the%20next%20Fibonacci%20number.%27%27%27%0A%20%20%20%20global%20Fn%2C%20Fn1%2C%20n%0A%20%20%20%20value%20%3D%20Fn%0A%20%20%20%20Fn%2C%20Fn1%2C%20n%20%3D%20Fn1%2C%20Fn%20%2B%20Fn1%2C%20n%20%2B%201%0A%20%20%20%20return%20value%0A%0Adef%20print_fibonacci_state%28%29%3A%0A%20%20%20%20print%28%27%27%27States%3A%0A%20%20%20%20Fn%20%20%3A%20Next%20Fibonacci%20number%20%20%20%20%20%20%3D%20%7B%7D%0A%20%20%20%20Fn1%20%3A%20Next%20next%20Fibonacci%20number%20%3D%20%7B%7D%0A%20%20%20%20n%20%20%20%3A%20Next%20order%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3D%20%7B%7D%27%27%27.format%28Fn%2CFn1%2Cn%29%29%0A%0A%23%20global%20variables%20renamed%20without%20underscores%0AFn%2C%20Fn1%2C%20n%20%3D%200%2C%201%2C%200%0A%0An%20%3D%200%0Awhile%20n%20%3C%205%3A%0A%20%20%20%20print%28next_fibonacci%28%29%29%0A%20%20%20%20n%20%2B%3D%201%0Aprint_fibonacci_state%28%29%0A"
    frameborder="0"
    allowfullscreen
></iframe>
</div></div>
</div>
<p><strong>Exercise</strong> Why does the while loop prints only 3 instead of 5 Fibonacci numbers?</p>
<p>There is a name collision. <code class="docutils literal notranslate"><span class="pre">n</span></code> is also incremented by <code class="docutils literal notranslate"><span class="pre">next_fibonacci()</span></code>, and so the while loop is only executed 3 times in total.</p>
<p>With global variables</p>
<ul class="simple">
<li><p>codes are less predictable, more difficult to reuse/extend, and</p></li>
<li><p>tests cannot be isolated, making debugging difficult.</p></li>
</ul>
<p><strong>Is it possible to store the function states without using global variables?</strong></p>
<p>Yes. We can use nested functions and <a class="reference external" href="https://docs.python.org/3/reference/simple_stmts.html#grammar-token-nonlocal-stmt"><code class="docutils literal notranslate"><span class="pre">nonlocal</span></code> variables</a>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">fibonacci_closure</span><span class="p">(</span><span class="n">Fn</span><span class="p">,</span> <span class="n">Fn1</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">next_fibonacci</span><span class="p">():</span>
        <span class="sd">&#39;&#39;&#39;Returns the next (generalized) Fibonacci number starting with </span>
<span class="sd">        Fn and Fn1 as the first two numbers.&#39;&#39;&#39;</span>
        <span class="k">nonlocal</span> <span class="n">Fn</span><span class="p">,</span> <span class="n">Fn1</span><span class="p">,</span> <span class="n">n</span>  <span class="c1"># declare nonlocal variables</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">Fn</span>
        <span class="n">Fn</span><span class="p">,</span> <span class="n">Fn1</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="n">Fn1</span><span class="p">,</span> <span class="n">Fn</span> <span class="o">+</span> <span class="n">Fn1</span><span class="p">,</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="n">value</span>

    <span class="k">def</span> <span class="nf">print_fibonacci_state</span><span class="p">():</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;States:</span>
<span class="s1">        Next Fibonacci number      = </span><span class="si">{}</span><span class="s1"></span>
<span class="s1">        Next next Fibonacci number = </span><span class="si">{}</span><span class="s1"></span>
<span class="s1">        Next order                 = </span><span class="si">{}</span><span class="s1">&#39;&#39;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">Fn</span><span class="p">,</span> <span class="n">Fn1</span><span class="p">,</span> <span class="n">n</span><span class="p">))</span>

    <span class="n">n</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># Fn and Fn1 specified in the function arguments</span>
    <span class="k">return</span> <span class="n">next_fibonacci</span><span class="p">,</span> <span class="n">print_fibonacci_state</span>


<span class="n">next_fibonacci</span><span class="p">,</span> <span class="n">print_fibonacci_state</span> <span class="o">=</span> <span class="n">fibonacci_closure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">n</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">while</span> <span class="n">n</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">next_fibonacci</span><span class="p">())</span>
    <span class="n">n</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">print_fibonacci_state</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0
1
1
2
3
States:
        Next Fibonacci number      = 5
        Next next Fibonacci number = 8
        Next order                 = 5
</pre></div>
</div>
</div>
</div>
<p>The state variables <code class="docutils literal notranslate"><span class="pre">Fn,</span> <span class="pre">Fn1,</span> <span class="pre">n</span></code> are now <em>encapsulated</em>, and so<br />
the functions returned by <code class="docutils literal notranslate"><span class="pre">fibonacci_closure</span></code> no longer depends on any global variables.</p>
<p>Another benefit of using nested functions is that we can also create different Fibonacci sequence with different base cases.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">my_next_fibonacci</span><span class="p">,</span> <span class="n">my_print_fibonacci_state</span> <span class="o">=</span> <span class="n">fibonacci_closure</span><span class="p">(</span><span class="s1">&#39;cs&#39;</span><span class="p">,</span> <span class="s1">&#39;1302&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">my_next_fibonacci</span><span class="p">())</span>
<span class="n">my_print_fibonacci_state</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>cs
1302
cs1302
1302cs1302
cs13021302cs1302
States:
        Next Fibonacci number      = 1302cs1302cs13021302cs1302
        Next next Fibonacci number = cs13021302cs13021302cs1302cs13021302cs1302
        Next order                 = 5
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">next_fibonacci</span></code> and <code class="docutils literal notranslate"><span class="pre">print_fibonacci_state</span></code> are <em>local functions</em> of <code class="docutils literal notranslate"><span class="pre">fibonacci_closure</span></code>.</p>
<ul class="simple">
<li><p>They can access (<em>capture</em>) the other local variables of <code class="docutils literal notranslate"><span class="pre">fibonacci_closure</span></code> by forming the so-called <em>closures</em>.</p></li>
<li><p>Similar to the use of <code class="docutils literal notranslate"><span class="pre">global</span></code> statement, a <a class="reference external" href="https://docs.python.org/3/reference/simple_stmts.html#the-nonlocal-statement"><code class="docutils literal notranslate"><span class="pre">non-local</span></code> statement</a> is needed for assigning nonlocal variables.</p></li>
</ul>
<p>Each local function has an attribute named <code class="docutils literal notranslate"><span class="pre">__closure__</span></code> that stores the captured local variables.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">print_closure</span><span class="p">(</span><span class="n">f</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Print the closure of a function.&#39;&#39;&#39;</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;closure of &#39;</span><span class="p">,</span> <span class="n">f</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">cell</span> <span class="ow">in</span> <span class="n">f</span><span class="o">.</span><span class="vm">__closure__</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;    </span><span class="si">{}</span><span class="s1"> content: </span><span class="si">{!r}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">cell</span><span class="p">,</span> <span class="n">cell</span><span class="o">.</span><span class="n">cell_contents</span><span class="p">))</span>


<span class="n">print_closure</span><span class="p">(</span><span class="n">next_fibonacci</span><span class="p">)</span>
<span class="n">print_closure</span><span class="p">(</span><span class="n">print_fibonacci_state</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>closure of  next_fibonacci
    &lt;cell at 0x7f8df02b1ca8: int object at 0x56459a1724a0&gt; content: 5
    &lt;cell at 0x7f8df02b1d68: int object at 0x56459a172500&gt; content: 8
    &lt;cell at 0x7f8df02b1f78: int object at 0x56459a1724a0&gt; content: 5
closure of  print_fibonacci_state
    &lt;cell at 0x7f8df02b1ca8: int object at 0x56459a1724a0&gt; content: 5
    &lt;cell at 0x7f8df02b1d68: int object at 0x56459a172500&gt; content: 8
    &lt;cell at 0x7f8df02b1f78: int object at 0x56459a1724a0&gt; content: 5
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="generator">
<h4>Generator<a class="headerlink" href="#generator" title="Permalink to this headline">¶</a></h4>
<p>Another way to generate a sequence of objects one-by-one is to write a <em>generator</em>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fibonacci_generator</span> <span class="o">=</span> <span class="p">(</span><span class="n">fibonacci_iteration</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="n">fibonacci_generator</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;generator object &lt;genexpr&gt; at 0x7f8dec94dde0&gt;
</pre></div>
</div>
</div>
</div>
<p>The above uses a <a class="reference external" href="https://docs.python.org/3/reference/expressions.html#grammar-token-generator-expression"><em>generator expression</em></a> to define <code class="docutils literal notranslate"><span class="pre">fibonacci_generator</span></code>.</p>
<p><strong>How to obtain items from a generator?</strong></p>
<p>We can use the <a class="reference external" href="https://docs.python.org/3/library/functions.html#next"><code class="docutils literal notranslate"><span class="pre">next</span></code> function</a>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">while</span> <span class="kc">True</span><span class="p">:</span> 
    <span class="nb">print</span><span class="p">(</span><span class="nb">next</span><span class="p">(</span><span class="n">fibonacci_generator</span><span class="p">))</span> <span class="c1"># raises StopIterationException eventually</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0
1
1
</pre></div>
</div>
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">StopIteration</span><span class="g g-Whitespace">                             </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">19</span><span class="o">-</span><span class="n">e6f031ce2829</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<span class="ne">----&gt; </span><span class="mi">2</span>     <span class="nb">print</span><span class="p">(</span><span class="nb">next</span><span class="p">(</span><span class="n">fibonacci_generator</span><span class="p">))</span> <span class="c1"># raises StopIterationException eventually</span>

<span class="ne">StopIteration</span>: 
</pre></div>
</div>
</div>
</div>
<p>A generator object is <a class="reference external" href="https://www.programiz.com/python-programming/iterator"><em>iterable</em></a>, i.e., it implements both <code class="docutils literal notranslate"><span class="pre">__iter__</span></code> and <code class="docutils literal notranslate"><span class="pre">__next__</span></code> methods that are automatically called in a <code class="docutils literal notranslate"><span class="pre">for</span></code> loop as well as the <code class="docutils literal notranslate"><span class="pre">next</span></code> function.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fibonacci_generator</span> <span class="o">=</span> <span class="p">(</span><span class="n">fibonacci_iteration</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>
<span class="k">for</span> <span class="n">fib</span> <span class="ow">in</span> <span class="n">fibonacci_generator</span><span class="p">:</span>  <span class="c1"># StopIterationException handled by for loop</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">fib</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0
1
1
2
3
</pre></div>
</div>
</div>
</div>
<p><strong>Is <code class="docutils literal notranslate"><span class="pre">fibonacci_generator</span></code> efficient?</strong></p>
<p>No again due to redundant computations.<br />
A better way to define the generator is to use the keyword <a class="reference external" href="https://docs.python.org/3/reference/expressions.html?highlight=yield#yield-expressions"><code class="docutils literal notranslate"><span class="pre">yield</span></code></a>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">mytutor</span> -h 450
def fibonacci_sequence(Fn, Fn1, stop):
    &#39;&#39;&#39;Return a generator that generates Fibonacci numbers
    starting from Fn and Fn1 until stop (exclusive).&#39;&#39;&#39;
    while Fn &lt; stop:
        yield Fn  # return Fn and pause execution
        Fn, Fn1 = Fn1, Fn1 + Fn


for fib in fibonacci_sequence(0, 1, 5):
    print(fib)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<iframe
    width="1100"
    height="450"
    src="https://e-quiz.cs.cityu.edu.hk/opt/cs1302visualize.html#mode=display&code=def%20fibonacci_sequence%28Fn%2C%20Fn1%2C%20stop%29%3A%0A%20%20%20%20%27%27%27Return%20a%20generator%20that%20generates%20Fibonacci%20numbers%0A%20%20%20%20starting%20from%20Fn%20and%20Fn1%20until%20stop%20%28exclusive%29.%27%27%27%0A%20%20%20%20while%20Fn%20%3C%20stop%3A%0A%20%20%20%20%20%20%20%20yield%20Fn%20%20%23%20return%20Fn%20and%20pause%20execution%0A%20%20%20%20%20%20%20%20Fn%2C%20Fn1%20%3D%20Fn1%2C%20Fn1%20%2B%20Fn%0A%0A%0Afor%20fib%20in%20fibonacci_sequence%280%2C%201%2C%205%29%3A%0A%20%20%20%20print%28fib%29%0A"
    frameborder="0"
    allowfullscreen
></iframe>
</div></div>
</div>
<ol class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">yield</span></code> causes the function to return a <em>generator</em> without executing the function body.</p></li>
<li><p>Calling <code class="docutils literal notranslate"><span class="pre">__next__</span></code> resumes the execution, which</p>
<ul class="simple">
<li><p>pauses at the next <code class="docutils literal notranslate"><span class="pre">yield</span></code> expression, or</p></li>
<li><p>raises the <code class="docutils literal notranslate"><span class="pre">StopIterationException</span></code> at the end.</p></li>
</ul>
</li>
</ol>
<p><strong>Exercise</strong> The yield expression <code class="docutils literal notranslate"><span class="pre">yield</span> <span class="pre">...</span></code> is mistaken in [Halterman17] to be a statement. It is actually an expression because</p>
<ul class="simple">
<li><p>The value of a <code class="docutils literal notranslate"><span class="pre">yield</span></code> expression is <code class="docutils literal notranslate"><span class="pre">None</span></code> by default, but</p></li>
<li><p>it can be set by the <code class="docutils literal notranslate"><span class="pre">generator.send</span></code> method.</p></li>
</ul>
<p>Add the document string to the following function. In particular, explain the effect of calling the method <code class="docutils literal notranslate"><span class="pre">send</span></code> on the returned generator.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">mytutor</span> -r -h 500
def fibonacci_sequence(Fn, Fn1, stop):
    ### BEGIN SOLUTION
    &#39;&#39;&#39;Return a generator that generates Fibonacci numbers
    starting from Fn and Fn1 to stop (exclusive). 
    generator.send(value) sets next number to value.&#39;&#39;&#39;
    ### END SOLUTION
    while Fn &lt; stop:
        value = yield Fn
        if value is not None: 
            Fn1 = value  # set next number to the value of yield expression
        Fn, Fn1 = Fn1, Fn1 + Fn 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<iframe
    width="1100"
    height="500"
    src="https://e-quiz.cs.cityu.edu.hk/opt/cs1302visualize.html#mode=display&code=def%20fibonacci_sequence%28Fn%2C%20Fn1%2C%20stop%29%3A%0A%20%20%20%20%23%23%23%20BEGIN%20SOLUTION%0A%20%20%20%20%27%27%27Return%20a%20generator%20that%20generates%20Fibonacci%20numbers%0A%20%20%20%20starting%20from%20Fn%20and%20Fn1%20to%20stop%20%28exclusive%29.%20%0A%20%20%20%20generator.send%28value%29%20sets%20next%20number%20to%20value.%27%27%27%0A%20%20%20%20%23%23%23%20END%20SOLUTION%0A%20%20%20%20while%20Fn%20%3C%20stop%3A%0A%20%20%20%20%20%20%20%20value%20%3D%20yield%20Fn%0A%20%20%20%20%20%20%20%20if%20value%20is%20not%20None%3A%20%0A%20%20%20%20%20%20%20%20%20%20%20%20Fn1%20%3D%20value%20%20%23%20set%20next%20number%20to%20the%20value%20of%20yield%20expression%0A%20%20%20%20%20%20%20%20Fn%2C%20Fn1%20%3D%20Fn1%2C%20Fn1%20%2B%20Fn%20%0A"
    frameborder="0"
    allowfullscreen
></iframe>
</div></div>
</div>
</div>
<div class="section" id="optional-arguments">
<h4>Optional Arguments<a class="headerlink" href="#optional-arguments" title="Permalink to this headline">¶</a></h4>
<p><strong>How to make function arguments optional?</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">fibonacci_sequence</span><span class="p">(</span><span class="n">Fn</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">Fn1</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">stop</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="k">while</span> <span class="n">stop</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">Fn</span> <span class="o">&lt;</span> <span class="n">stop</span><span class="p">:</span>
        <span class="n">value</span> <span class="o">=</span> <span class="k">yield</span> <span class="n">Fn</span>
        <span class="n">Fn</span><span class="p">,</span> <span class="n">Fn1</span> <span class="o">=</span> <span class="n">Fn1</span><span class="p">,</span> <span class="n">Fn1</span> <span class="o">+</span> <span class="n">Fn</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">fib</span> <span class="ow">in</span> <span class="n">fibonacci_sequence</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">fib</span><span class="p">)</span>  <span class="c1"># with all arguments specified</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0
1
1
2
3
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">fib</span> <span class="ow">in</span> <span class="n">fibonacci_sequence</span><span class="p">(</span><span class="n">stop</span><span class="o">=</span><span class="mi">5</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">fib</span><span class="p">)</span>  <span class="c1"># with default Fn=0, Fn1=1</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0
1
1
2
3
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">stop=5</span></code> is called a <a class="reference external" href="https://docs.python.org/3/glossary.html#term-keyword-argument">keyword argument</a>. Unlike <code class="docutils literal notranslate"><span class="pre">positional</span> <span class="pre">arguments</span></code>, it specifies the name of the argument explicitly.</p>
<p><strong>Exercise</strong> <code class="docutils literal notranslate"><span class="pre">stop</span></code> is an <a class="reference external" href="https://docs.python.org/3/tutorial/controlflow.html#default-argument-values">optional argument</a> with the <em>default value</em> <code class="docutils literal notranslate"><span class="pre">None</span></code>. What is the behavior of the following code?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">fib</span> <span class="ow">in</span> <span class="n">fibonacci_sequence</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">fib</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">fib</span> <span class="o">&gt;</span> <span class="mi">10</span><span class="p">:</span>  
        <span class="k">break</span>  <span class="c1"># Will this be executed?</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>5
1
6
7
13
</pre></div>
</div>
</div>
</div>
<p>With the default value of <code class="docutils literal notranslate"><span class="pre">None</span></code>, the while loop becomes an infinite loop. The generator will keep generating the next Fibonacci number without any bound on the order. In particular, <code class="docutils literal notranslate"><span class="pre">fibonacci_sequence(5)</span></code> creates an unstoppable (default) generator with base case <code class="docutils literal notranslate"><span class="pre">Fn=5</span></code> (specified) and <code class="docutils literal notranslate"><span class="pre">Fn1=1</span></code> (default).</p>
<p>Rules for specifying arguments:</p>
<ol class="simple">
<li><p>Keyword arguments must be after all positional arguments.</p></li>
<li><p>Duplicate assignments to an argument are not allowed.</p></li>
</ol>
<p>E.g., the following results in error:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fibonacci_sequence</span><span class="p">(</span><span class="n">stop</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">  File</span><span class="nn"> &quot;&lt;ipython-input-27-c4b4809b18c1&gt;&quot;</span><span class="gt">, line </span><span class="mi">1</span>
    <span class="n">fibonacci_sequence</span><span class="p">(</span><span class="n">stop</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
                               <span class="o">^</span>
<span class="ne">SyntaxError</span>: positional argument follows keyword argument
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fibonacci_sequence</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">Fn</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">TypeError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">28</span><span class="o">-</span><span class="mi">2</span><span class="n">db5e024912c</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">fibonacci_sequence</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">Fn</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="ne">TypeError</span>: fibonacci_sequence() got multiple values for argument &#39;Fn&#39;
</pre></div>
</div>
</div>
</div>
<p>The following shows that the behavior of <code class="docutils literal notranslate"><span class="pre">range</span></code> is different.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">count</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">count</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39; &#39;</span><span class="p">)</span>  <span class="c1"># counts from 1 to 10 in steps of 2</span>
<span class="nb">print</span><span class="p">()</span>
<span class="k">for</span> <span class="n">count</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">count</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39; &#39;</span><span class="p">)</span>  <span class="c1"># default step=1</span>
<span class="nb">print</span><span class="p">()</span>
<span class="k">for</span> <span class="n">count</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">count</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39; &#39;</span><span class="p">)</span>  <span class="c1"># default start=0, step=1</span>
<span class="nb">range</span><span class="p">(</span><span class="n">stop</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>  <span class="c1"># fails</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1 3 5 7 9 
1 2 3 4 5 6 7 8 9 
0 1 2 3 4 5 6 7 8 9 
</pre></div>
</div>
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">TypeError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">29</span><span class="o">-</span><span class="n">f3395132058b</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="g g-Whitespace">      </span><span class="mi">7</span> <span class="k">for</span> <span class="n">count</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
<span class="g g-Whitespace">      </span><span class="mi">8</span>     <span class="nb">print</span><span class="p">(</span><span class="n">count</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39; &#39;</span><span class="p">)</span>  <span class="c1"># default start=0, step=1</span>
<span class="ne">----&gt; </span><span class="mi">9</span> <span class="nb">range</span><span class="p">(</span><span class="n">stop</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>  <span class="c1"># fails</span>

<span class="ne">TypeError</span>: range() takes no keyword arguments
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">range</span></code> takes only positional arguments.<br />
However, the first positional argument has different intepretations (<code class="docutils literal notranslate"><span class="pre">start</span></code> or <code class="docutils literal notranslate"><span class="pre">stop</span></code>) depending on the number of arguments (2 or 1).</p>
<p><code class="docutils literal notranslate"><span class="pre">range</span></code> is indeed NOT a generator.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="nb">range</span><span class="p">),</span><span class="nb">type</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;type&#39;&gt; &lt;class &#39;range&#39;&gt;
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="variable-number-of-arguments">
<h4>Variable number of arguments<a class="headerlink" href="#variable-number-of-arguments" title="Permalink to this headline">¶</a></h4>
<p>We can simulate the behavior of range by having a <a class="reference external" href="https://docs.python.org/3.4/tutorial/controlflow.html#arbitrary-argument-lists">variable number of arguments</a>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">print_arguments</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Take any number of arguments and prints them&#39;&#39;&#39;</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;args (</span><span class="si">{}</span><span class="s1">): </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">args</span><span class="p">),</span><span class="n">args</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;kwargs (</span><span class="si">{}</span><span class="s1">): </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">kwargs</span><span class="p">),</span><span class="n">kwargs</span><span class="p">))</span>

<span class="n">print_arguments</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">stop</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{k}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">greeting</span><span class="o">=</span><span class="s2">&quot;Hello&quot;</span><span class="p">,</span><span class="n">k</span><span class="o">=</span><span class="mi">8</span><span class="p">),</span><span class="s2">&quot;*&quot;</span>  <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>args (&lt;class &#39;tuple&#39;&gt;): (0, 10, 2)
kwargs (&lt;class &#39;dict&#39;&gt;): {&#39;start&#39;: 1, &#39;stop&#39;: 2}
8 *
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">args</span></code> is a tuple of positional arguments.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">kwargs</span></code> is a dictionary of keyword arguments.</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">*</span></code> and <code class="docutils literal notranslate"><span class="pre">**</span></code> are <em>unpacking operators</em> for tuple/list and dictionary respectively:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">args</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;start&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;stop&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
<span class="n">print_arguments</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>args (&lt;class &#39;tuple&#39;&gt;): (0, 10, 2)
kwargs (&lt;class &#39;dict&#39;&gt;): {&#39;start&#39;: 1, &#39;stop&#39;: 2}
</pre></div>
</div>
</div>
</div>
<p>The following function converts all the arguments to a string.<br />
It will be useful later on.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">argument_string</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Return the string representation of the list of arguments.&#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="s1">&#39;(</span><span class="si">{}</span><span class="s1">)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span>
        <span class="o">*</span><span class="p">[</span><span class="s1">&#39;</span><span class="si">{!r}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">args</span><span class="p">],</span>  <span class="c1"># arguments</span>
        <span class="o">*</span><span class="p">[</span><span class="s1">&#39;</span><span class="si">{}</span><span class="s1">=</span><span class="si">{!r}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
          <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">()]</span>  <span class="c1"># keyword arguments</span>
    <span class="p">]))</span>

<span class="n">argument_string</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">stop</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;(0, 10, 2, start=1, stop=2)&#39;
</pre></div>
</div>
</div>
</div>
<p><strong>Exercise</strong> Redefine <code class="docutils literal notranslate"><span class="pre">fibonacci_sequence</span></code> so that the positional arguments depend on the number of arguments:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">fibonacci_sequence</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Return a generator that generates Fibonacci numbers</span>
<span class="sd">    starting from Fn and Fn1 to stop (exclusive). </span>
<span class="sd">    generator.send(value) sets next number to value.</span>
<span class="sd">    </span>
<span class="sd">    fibonacci_sequence(stop)</span>
<span class="sd">    fibonacci_sequence(Fn,Fn1)</span>
<span class="sd">    fibonacci_sequence(Fn,Fn1,stop)</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">Fn</span><span class="p">,</span> <span class="n">Fn1</span><span class="p">,</span> <span class="n">stop</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="kc">None</span>  <span class="c1"># default values</span>

    <span class="c1"># handle different number of arguments</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="ow">is</span> <span class="mi">1</span><span class="p">:</span>
        <span class="c1">### BEGIN SOLUTION</span>
        <span class="n">stop</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="c1">### END SOLUTION</span>
    <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="ow">is</span> <span class="mi">2</span><span class="p">:</span>
        <span class="n">Fn</span><span class="p">,</span> <span class="n">Fn1</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">args</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">:</span>
        <span class="n">Fn</span><span class="p">,</span> <span class="n">Fn1</span><span class="p">,</span> <span class="n">stop</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">args</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">args</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
    
    <span class="k">while</span> <span class="n">stop</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">Fn</span> <span class="o">&lt;</span> <span class="n">stop</span><span class="p">:</span>
        <span class="n">value</span> <span class="o">=</span> <span class="k">yield</span> <span class="n">Fn</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span> 
            <span class="n">Fn1</span> <span class="o">=</span> <span class="n">value</span>  <span class="c1"># set next number to the value of yield expression</span>
        <span class="n">Fn</span><span class="p">,</span> <span class="n">Fn1</span> <span class="o">=</span> <span class="n">Fn1</span><span class="p">,</span> <span class="n">Fn1</span> <span class="o">+</span> <span class="n">Fn</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">fib</span> <span class="ow">in</span> <span class="n">fibonacci_sequence</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span> <span class="c1"># default Fn=0, Fn=1</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">fib</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0
1
1
2
3
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">fib</span> <span class="ow">in</span> <span class="n">fibonacci_sequence</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span> <span class="c1"># default stop=None</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">fib</span><span class="p">)</span>  
    <span class="k">if</span> <span class="n">fib</span><span class="o">&gt;</span><span class="mi">5</span><span class="p">:</span>
        <span class="k">break</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1
2
3
5
8
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">args</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="k">for</span> <span class="n">fib</span> <span class="ow">in</span> <span class="n">fibonacci_sequence</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span> <span class="c1"># default stop=None</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">fib</span><span class="p">)</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1
2
3
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="decorator">
<h4>Decorator<a class="headerlink" href="#decorator" title="Permalink to this headline">¶</a></h4>
<p><strong>What is function decoration?</strong><br />
<strong>Why decorate a function?</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">fibonacci</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Returns the Fibonacci number of order n.&#39;&#39;&#39;</span>
    <span class="k">global</span> <span class="n">count</span><span class="p">,</span> <span class="n">depth</span>
    <span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="n">depth</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:&gt;3}</span><span class="s1">: </span><span class="si">{}</span><span class="s1">fibonacci(</span><span class="si">{!r}</span><span class="s1">)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">count</span><span class="p">,</span> <span class="s1">&#39;|&#39;</span> <span class="o">*</span> <span class="n">depth</span><span class="p">,</span> <span class="n">n</span><span class="p">))</span>
    
    <span class="n">value</span> <span class="o">=</span> <span class="n">fibonacci</span><span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">fibonacci</span><span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">2</span><span class="p">)</span> <span class="k">if</span> <span class="n">n</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="k">else</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">1</span> <span class="k">else</span> <span class="mi">0</span>
    
    <span class="n">depth</span> <span class="o">-=</span> <span class="mi">1</span>
    <span class="k">if</span> <span class="n">depth</span> <span class="ow">is</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>  <span class="c1"># recursion done</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Done&#39;</span><span class="p">)</span>
        <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># reset count for subsequent recursions</span>
    <span class="k">return</span> <span class="n">value</span>


<span class="n">count</span><span class="p">,</span> <span class="n">depth</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span>
<span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">fibonacci</span><span class="p">(</span><span class="n">n</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  1: fibonacci(0)
Done
0
  1: fibonacci(1)
Done
1
  1: fibonacci(2)
  2: |fibonacci(1)
  3: |fibonacci(0)
Done
1
  1: fibonacci(3)
  2: |fibonacci(2)
  3: ||fibonacci(1)
  4: ||fibonacci(0)
  5: |fibonacci(1)
Done
2
  1: fibonacci(4)
  2: |fibonacci(3)
  3: ||fibonacci(2)
  4: |||fibonacci(1)
  5: |||fibonacci(0)
  6: ||fibonacci(1)
  7: |fibonacci(2)
  8: ||fibonacci(1)
  9: ||fibonacci(0)
Done
3
  1: fibonacci(5)
  2: |fibonacci(4)
  3: ||fibonacci(3)
  4: |||fibonacci(2)
  5: ||||fibonacci(1)
  6: ||||fibonacci(0)
  7: |||fibonacci(1)
  8: ||fibonacci(2)
  9: |||fibonacci(1)
 10: |||fibonacci(0)
 11: |fibonacci(3)
 12: ||fibonacci(2)
 13: |||fibonacci(1)
 14: |||fibonacci(0)
 15: ||fibonacci(1)
Done
5
</pre></div>
</div>
</div>
</div>
<p>The code decorates the <code class="docutils literal notranslate"><span class="pre">fibonacci</span></code> function by printing each recursive call and the depth of the call stack.<br />
The decoration is useful in showing the efficiency of the function, but it rewrites the function definition.</p>
<p><strong>How to decorate a function without changing its code?</strong></p>
<ul class="simple">
<li><p>What if the decorations are temporary and should be removed later?</p></li>
<li><p>Go through the source codes of all decorated functions to remove the decorations?</p></li>
<li><p>When updating a piece of code, switch back and forth between original and decorated codes?</p></li>
</ul>
<p>What about defining a new function that calls and decorates the original function?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">fibonacci</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Returns the Fibonacci number of order n.&#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="n">fibonacci</span><span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">fibonacci</span><span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">2</span><span class="p">)</span> <span class="k">if</span> <span class="n">n</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="k">else</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">n</span> <span class="ow">is</span> <span class="mi">1</span> <span class="k">else</span> <span class="mi">0</span>

<span class="k">def</span> <span class="nf">fibonacci_decorated</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Returns the Fibonacci number of order n.&#39;&#39;&#39;</span>
    <span class="k">global</span> <span class="n">count</span><span class="p">,</span> <span class="n">depth</span>
    <span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="n">depth</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:&gt;3}</span><span class="s1">: </span><span class="si">{}</span><span class="s1">fibonacci(</span><span class="si">{!r}</span><span class="s1">)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">count</span><span class="p">,</span> <span class="s1">&#39;|&#39;</span> <span class="o">*</span> <span class="n">depth</span><span class="p">,</span> <span class="n">n</span><span class="p">))</span>
    
    <span class="n">value</span> <span class="o">=</span> <span class="n">fibonacci</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
    
    <span class="n">depth</span> <span class="o">-=</span> <span class="mi">1</span>
    <span class="k">if</span> <span class="n">depth</span> <span class="ow">is</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>  <span class="c1"># recursion done</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Done&#39;</span><span class="p">)</span>
        <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># reset count for subsequent recursions</span>
    <span class="k">return</span> <span class="n">value</span>


<span class="n">count</span><span class="p">,</span> <span class="n">depth</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span>
<span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">fibonacci_decorated</span><span class="p">(</span><span class="n">n</span><span class="p">))</span>    
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  1: fibonacci(0)
Done
0
  1: fibonacci(1)
Done
1
  1: fibonacci(2)
Done
1
  1: fibonacci(3)
Done
2
  1: fibonacci(4)
Done
3
  1: fibonacci(5)
Done
5
</pre></div>
</div>
</div>
</div>
<p>We want <code class="docutils literal notranslate"><span class="pre">fibonacci</span></code> to call <code class="docutils literal notranslate"><span class="pre">fibonacci_decorated</span></code> instead.<br />
What about renaming <code class="docutils literal notranslate"><span class="pre">fibonacci_decorated</span></code> to <code class="docutils literal notranslate"><span class="pre">fibonacci</span></code>?</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">fibonacci</span> <span class="o">=</span> <span class="n">fibonacci_decorated</span>
<span class="n">count</span><span class="p">,</span> <span class="n">depth</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span>
<span class="n">fibonacci_decorated</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
<p>(If you are faint-hearted, don’t run the above code.)</p>
<p>We want <code class="docutils literal notranslate"><span class="pre">fibonacci_decorated</span></code> to call the original <code class="docutils literal notranslate"><span class="pre">fibonacci</span></code>.</p>
<p>The solution is to capture the original <code class="docutils literal notranslate"><span class="pre">fibonacci</span></code> in a closure:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">functools</span>


<span class="k">def</span> <span class="nf">print_function_call</span><span class="p">(</span><span class="n">f</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Return a decorator that prints function calls.&#39;&#39;&#39;</span>
    <span class="nd">@functools</span><span class="o">.</span><span class="n">wraps</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>  <span class="c1"># give wrapper the identity of f and more</span>
    <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">nonlocal</span> <span class="n">count</span><span class="p">,</span> <span class="n">depth</span>
        <span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">depth</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">call</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{}{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">argument_string</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:&gt;3}</span><span class="s1">:</span><span class="si">{}{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">count</span><span class="p">,</span> <span class="s1">&#39;|&#39;</span> <span class="o">*</span> <span class="n">depth</span><span class="p">,</span> <span class="n">call</span><span class="p">))</span>

        <span class="n">value</span> <span class="o">=</span> <span class="n">f</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>  <span class="c1"># wrapper calls f</span>

        <span class="n">depth</span> <span class="o">-=</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="n">depth</span> <span class="ow">is</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Done&#39;</span><span class="p">)</span>
            <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">return</span> <span class="n">value</span>

    <span class="n">count</span><span class="p">,</span> <span class="n">depth</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span>
    <span class="k">return</span> <span class="n">wrapper</span>  <span class="c1"># return the decorated function</span>
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">print_function_call</span></code> takes in <code class="docutils literal notranslate"><span class="pre">f</span></code> and returns <code class="docutils literal notranslate"><span class="pre">wrapper</span></code>, which captures and decorates <code class="docutils literal notranslate"><span class="pre">f</span></code>:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">wrapper</span></code> expects the same set of arguments for <code class="docutils literal notranslate"><span class="pre">f</span></code>,</p></li>
<li><p>returns the same value returned by <code class="docutils literal notranslate"><span class="pre">f</span></code> on the arguments, but</p></li>
<li><p>can execute additional codes before and after calling <code class="docutils literal notranslate"><span class="pre">f</span></code> to print the function call.</p></li>
</ul>
<p>By redefining <code class="docutils literal notranslate"><span class="pre">fibonacci</span></code> as the returned <code class="docutils literal notranslate"><span class="pre">wrapper</span></code>, the original <code class="docutils literal notranslate"><span class="pre">fibonacci</span></code> captured by <code class="docutils literal notranslate"><span class="pre">wrapper</span></code> calls <code class="docutils literal notranslate"><span class="pre">wrapper</span></code> as desired.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">fibonacci</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">fibonacci</span><span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">fibonacci</span><span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">2</span><span class="p">)</span> <span class="k">if</span> <span class="n">n</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="k">else</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">n</span> <span class="ow">is</span> <span class="mi">1</span> <span class="k">else</span> <span class="mi">0</span>


<span class="n">fibonacci</span> <span class="o">=</span> <span class="n">print_function_call</span><span class="p">(</span>
    <span class="n">fibonacci</span><span class="p">)</span>  <span class="c1"># so original fibonnacci calls wrapper</span>
<span class="n">fibonacci</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  1:fibonacci(5)
  2:|fibonacci(4)
  3:||fibonacci(3)
  4:|||fibonacci(2)
  5:||||fibonacci(1)
  6:||||fibonacci(0)
  7:|||fibonacci(1)
  8:||fibonacci(2)
  9:|||fibonacci(1)
 10:|||fibonacci(0)
 11:|fibonacci(3)
 12:||fibonacci(2)
 13:|||fibonacci(1)
 14:|||fibonacci(0)
 15:||fibonacci(1)
Done
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>5
</pre></div>
</div>
</div>
</div>
<p>The redefinition does not change the original <code class="docutils literal notranslate"><span class="pre">fibonacci</span></code> captured by <code class="docutils literal notranslate"><span class="pre">wrapper</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">inspect</span>
<span class="k">for</span> <span class="n">cell</span> <span class="ow">in</span> <span class="n">fibonacci</span><span class="o">.</span><span class="vm">__closure__</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">callable</span><span class="p">(</span><span class="n">cell</span><span class="o">.</span><span class="n">cell_contents</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">inspect</span><span class="o">.</span><span class="n">getsource</span><span class="p">(</span><span class="n">cell</span><span class="o">.</span><span class="n">cell_contents</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>def fibonacci(n):
    return fibonacci(n - 1) + fibonacci(n - 2) if n &gt; 1 else 1 if n is 1 else 0
</pre></div>
</div>
</div>
</div>
<p>Python provides the syntatic sugar below to simplify the redefinition.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nd">@print_function_call</span>
<span class="k">def</span> <span class="nf">fibonacci</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">fibonacci</span><span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">fibonacci</span><span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">2</span><span class="p">)</span> <span class="k">if</span> <span class="n">n</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="k">else</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">n</span> <span class="ow">is</span> <span class="mi">1</span> <span class="k">else</span> <span class="mi">0</span>


<span class="n">fibonacci</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  1:fibonacci(5)
  2:|fibonacci(4)
  3:||fibonacci(3)
  4:|||fibonacci(2)
  5:||||fibonacci(1)
  6:||||fibonacci(0)
  7:|||fibonacci(1)
  8:||fibonacci(2)
  9:|||fibonacci(1)
 10:|||fibonacci(0)
 11:|fibonacci(3)
 12:||fibonacci(2)
 13:|||fibonacci(1)
 14:|||fibonacci(0)
 15:||fibonacci(1)
Done
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>5
</pre></div>
</div>
</div>
</div>
<p>There are many techniques used in the above decorator.</p>
<p><strong>Why use a variable number of arguments in <code class="docutils literal notranslate"><span class="pre">wrapper</span></code></strong></p>
<p>To decorate any function with possibly different number of arguments.</p>
<p><strong>Why decorate the wrapper with <code class="docutils literal notranslate"><span class="pre">&#64;functools.wraps(f)</span></code>?</strong></p>
<ul class="simple">
<li><p>Ensures some attributes (such as <code class="docutils literal notranslate"><span class="pre">__name__</span></code>) of the wrapper function is the same as those of <code class="docutils literal notranslate"><span class="pre">f</span></code>.</p></li>
<li><p>Add useful attributes. E.g., <code class="docutils literal notranslate"><span class="pre">__wrapped__</span></code> stores the original function so we can undo the decoration.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fibonacci</span><span class="p">,</span> <span class="n">fibonacci_decorated</span> <span class="o">=</span> <span class="n">fibonacci</span><span class="o">.</span><span class="n">__wrapped__</span><span class="p">,</span> <span class="n">fibonacci</span>  <span class="c1"># recover</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;original fibonacci:&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">fibonacci</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>

<span class="n">fibonacci</span> <span class="o">=</span> <span class="n">fibonacci_decorated</span>  <span class="c1"># decorate</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;decorated fibonacci:&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">fibonacci</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>original fibonacci:
5
decorated fibonacci:
  1:fibonacci(5)
  2:|fibonacci(4)
  3:||fibonacci(3)
  4:|||fibonacci(2)
  5:||||fibonacci(1)
  6:||||fibonacci(0)
  7:|||fibonacci(1)
  8:||fibonacci(2)
  9:|||fibonacci(1)
 10:|||fibonacci(0)
 11:|fibonacci(3)
 12:||fibonacci(2)
 13:|||fibonacci(1)
 14:|||fibonacci(0)
 15:||fibonacci(1)
Done
5
</pre></div>
</div>
</div>
</div>
<p><strong>How to use decorator to improve recursion?</strong></p>
<p>We can also use a decorator to make recursion more efficient by caching the return values.<br />
<code class="docutils literal notranslate"><span class="pre">cache</span></code> is a dictionary where <code class="docutils literal notranslate"><span class="pre">cache[n]</span></code> stores the computed value of <span class="math notranslate nohighlight">\(F_n\)</span> to avoid redundant computations.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">caching</span><span class="p">(</span><span class="n">f</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Return a decorator that caches a function with a single argument.&#39;&#39;&#39;</span>
    <span class="nd">@functools</span><span class="o">.</span><span class="n">wraps</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">n</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">cache</span><span class="p">:</span>
            <span class="n">cache</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;read from cache&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">cache</span><span class="p">[</span><span class="n">n</span><span class="p">]</span>

    <span class="n">cache</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">wrapper</span><span class="o">.</span><span class="n">clear_cache</span> <span class="o">=</span> <span class="k">lambda</span> <span class="p">:</span> <span class="n">cache</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>  <span class="c1"># add method to clear cache</span>
    <span class="k">return</span> <span class="n">wrapper</span>


<span class="nd">@print_function_call</span>
<span class="nd">@caching</span>
<span class="k">def</span> <span class="nf">fibonacci</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">fibonacci</span><span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">fibonacci</span><span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">2</span><span class="p">)</span> <span class="k">if</span> <span class="n">n</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="k">else</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">1</span> <span class="k">else</span> <span class="mi">0</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fibonacci</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="n">fibonacci</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="n">fibonacci</span><span class="o">.</span><span class="n">clear_cache</span><span class="p">()</span>
<span class="n">fibonacci</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  1:fibonacci(5)
  2:|fibonacci(4)
  3:||fibonacci(3)
  4:|||fibonacci(2)
  5:||||fibonacci(1)
  6:||||fibonacci(0)
  7:|||fibonacci(1)
read from cache
  8:||fibonacci(2)
read from cache
  9:|fibonacci(3)
read from cache
Done
  1:fibonacci(5)
read from cache
Done
  1:fibonacci(5)
  2:|fibonacci(4)
  3:||fibonacci(3)
  4:|||fibonacci(2)
  5:||||fibonacci(1)
  6:||||fibonacci(0)
  7:|||fibonacci(1)
read from cache
  8:||fibonacci(2)
read from cache
  9:|fibonacci(3)
read from cache
Done
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>5
</pre></div>
</div>
</div>
</div>
<p>A method <code class="docutils literal notranslate"><span class="pre">clear_cache</span></code> is added to the wrapper to clear the cache.<br />
<code class="docutils literal notranslate"><span class="pre">lambda</span> <span class="pre">&lt;argument</span> <span class="pre">list&gt;</span> <span class="pre">:</span> <span class="pre">&lt;expression&gt;</span></code>is called a <a class="reference external" href="https://docs.python.org/3/reference/expressions.html#lambda"><em>lambda</em> expression</a>, which conveniently defines an <em>anonymous function</em>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">(</span><span class="n">fibonacci</span><span class="o">.</span><span class="n">clear_cache</span><span class="p">),</span> <span class="n">fibonacci</span><span class="o">.</span><span class="n">clear_cache</span><span class="o">.</span><span class="vm">__name__</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(function, &#39;&lt;lambda&gt;&#39;)
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="module">
<h4>Module<a class="headerlink" href="#module" title="Permalink to this headline">¶</a></h4>
<p><strong>How to create a module?</strong></p>
<p>To create a module, simply put the code in a python source file <code class="docutils literal notranslate"><span class="pre">&lt;module</span> <span class="pre">name&gt;.py</span></code> in</p>
<ul class="simple">
<li><p>the current directory, or</p></li>
<li><p>a python <em>site-packages</em> directory in system path.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="nb">print</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;/home/chungc/cs1302/CS1302ICP/Lecture6&#39;, &#39;/home/chungc/anaconda3/lib/python37.zip&#39;, &#39;/home/chungc/anaconda3/lib/python3.7&#39;, &#39;/home/chungc/anaconda3/lib/python3.7/lib-dynload&#39;, &#39;&#39;, &#39;/home/chungc/anaconda3/lib/python3.7/site-packages&#39;, &#39;/home/chungc/anaconda3/lib/python3.7/site-packages/IPython/extensions&#39;, &#39;/home/chungc/.ipython&#39;]
</pre></div>
</div>
</div>
</div>
<p>For example, to create a module for generating Fibonacci numbers:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">more</span> fibonacci.py
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">fibonacci</span> <span class="k">as</span> <span class="nn">fib</span> <span class="c1"># as statement shortens name</span>
<span class="n">help</span><span class="p">(</span><span class="n">fib</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Help on module fibonacci:

NAME
    fibonacci - Contain functions for generating fibonacci numbers.

FUNCTIONS
    fibonacci(n)
        Returns the Fibonacci number of order n.
    
    fibonacci_iteration(n)
        Returns the Fibonacci number of order n but without recursion.

FILE
    /home/chungc/cs1302/CS1302ICP/Lecture6/fibonacci.py
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">fib</span><span class="o">.</span><span class="n">fibonacci</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">fib</span><span class="o">.</span><span class="n">fibonacci_iteration</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>5
5
</pre></div>
</div>
</div>
</div>
</div>
</div>
<span id="document-Lecture7/Lists and Tuples"></span><div class="section" id="lists-and-tuples">
<h3>Lists and Tuples<a class="headerlink" href="#lists-and-tuples" title="Permalink to this headline">¶</a></h3>
<div class="section" id="motivation-of-composite-data-type">
<h4>Motivation of composite data type<a class="headerlink" href="#motivation-of-composite-data-type" title="Permalink to this headline">¶</a></h4>
<p>The following code calculates the average of five numbers:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">average_five_numbers</span><span class="p">(</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">,</span> <span class="n">n5</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">n1</span> <span class="o">+</span> <span class="n">n2</span> <span class="o">+</span> <span class="n">n3</span> <span class="o">+</span> <span class="n">n4</span> <span class="o">+</span> <span class="n">n5</span><span class="p">)</span> <span class="o">/</span> <span class="mi">5</span>


<span class="n">average_five_numbers</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>3.0
</pre></div>
</div>
</div>
</div>
<p>What about using the above function to compute the average household income in Hong Kong.<br />
The labor size in Hong Kong in 2018 is close to 4 million.</p>
<ul class="simple">
<li><p>Should we create a variable to store the income of each individual?</p></li>
<li><p>Should we recursively apply the function to groups of five numbers?</p></li>
</ul>
<p>What we need is</p>
<ul class="simple">
<li><p>a <em>composite data type</em> that can keep a variable numbers of items, so that</p></li>
<li><p>we can then define a function that takes an object of the <em>composite data type</em>,</p></li>
<li><p>and returns the average of all items in the object.</p></li>
</ul>
<p><strong>How to store a sequence of items in Python?</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">tuple</span></code> and <code class="docutils literal notranslate"><span class="pre">list</span></code> are two built-in classes for ordered collections of objects of possibly different types.</p>
<p>Indeed, we have already used tuples and lists before.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">mytutor</span> -h 300
a_list = &#39;1 2 3&#39;.split()
a_tuple = (lambda *args: args)(1,2,3)
a_list[0] = 0
a_tuple[0] = 0
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<iframe
    width="1100"
    height="300"
    src="https://e-quiz.cs.cityu.edu.hk/opt/cs1302visualize.html#mode=display&code=a_list%20%3D%20%271%202%203%27.split%28%29%0Aa_tuple%20%3D%20%28lambda%20%2Aargs%3A%20args%29%281%2C2%2C3%29%0Aa_list%5B0%5D%20%3D%200%0Aa_tuple%5B0%5D%20%3D%200%0A"
    frameborder="0"
    allowfullscreen
></iframe>
</div></div>
</div>
<p><strong>What is the difference between tuple and list?</strong></p>
<ul class="simple">
<li><p>List is <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#index-21"><em>mutable</em></a> so programmers can change its items.</p></li>
<li><p>Tuple is <a class="reference external" href="https://docs.python.org/3/glossary.html#term-immutable"><em>immutable</em></a> like <code class="docutils literal notranslate"><span class="pre">int</span></code>, <code class="docutils literal notranslate"><span class="pre">float</span></code>, and <code class="docutils literal notranslate"><span class="pre">str</span></code>, so</p>
<ul>
<li><p>programmers can be certain the content stay unchanged, and</p></li>
<li><p>Python can preallocate a fixed amount of memory to store its content.</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="constructing-sequences">
<h4>Constructing sequences<a class="headerlink" href="#constructing-sequences" title="Permalink to this headline">¶</a></h4>
<p><strong>How to create tuple/list?</strong></p>
<p>Mathematicians often represent a set of items in two different ways:</p>
<ol class="simple">
<li><p><a class="reference external" href="https://en.wikipedia.org/wiki/Set_(mathematics)#Roster_notation">Roster notation</a>, which enumerates the elements in the sequence. E.g.,
$<span class="math notranslate nohighlight">\( \{0, 1, 4, 9, 16, 25, 36, 49, 64, 81\} \)</span>$</p></li>
<li><p><a class="reference external" href="https://en.wikipedia.org/wiki/Set-builder_notation">Set-builder notation</a>, which describes the content using a rule for constructing the elements.
$<span class="math notranslate nohighlight">\( \{x^2| x\in \mathbb{N}, x&lt; 10 \}, \)</span>$
namely the set of perfect squares less than 100.</p></li>
</ol>
<p>Python also provides two corresponding ways to create a tuple/list:</p>
<ol class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3/reference/expressions.html?highlight=literals#grammar-token-enclosure">Enclosure</a></p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/reference/expressions.html#index-12">Comprehension</a></p></li>
</ol>
<p><strong>How to create a tuple/list by enumerating its items?</strong></p>
<p>To create a tuple, we enclose a comma separated sequence by parentheses:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">mytutor</span> -h 450
empty_tuple = ()
singleton_tuple = (0,)   # why not (0)?
heterogeneous_tuple = (singleton_tuple,
                       (1, 2.0),
                       print)
enclosed_starred_tuple = (*range(2),
                          *&#39;23&#39;)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<iframe
    width="1100"
    height="450"
    src="https://e-quiz.cs.cityu.edu.hk/opt/cs1302visualize.html#mode=display&code=empty_tuple%20%3D%20%28%29%0Asingleton_tuple%20%3D%20%280%2C%29%20%20%20%23%20why%20not%20%280%29%3F%0Aheterogeneous_tuple%20%3D%20%28singleton_tuple%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%281%2C%202.0%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20print%29%0Aenclosed_starred_tuple%20%3D%20%28%2Arange%282%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2A%2723%27%29%0A"
    frameborder="0"
    allowfullscreen
></iframe>
</div></div>
</div>
<p>Note that:</p>
<ul class="simple">
<li><p>If the enclosed sequence has one term, there must be a comma after the term.</p></li>
<li><p>The elements of a tuple can have different types.</p></li>
<li><p>The unpacking operator <code class="docutils literal notranslate"><span class="pre">*</span></code> can unpack an iterable into a sequence in an enclosure.</p></li>
</ul>
<p>To create a list, we use square brackets to enclose a comma separated sequence of objects.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">mytutor</span> -h 450
empty_list = []
singleton_list = [0]  # no need to write [0,]
heterogeneous_list = [singleton_list, 
                      (1, 2.0), 
                      print]
enclosed_starred_list = [*range(2),
                         *&#39;23&#39;]
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<iframe
    width="1100"
    height="450"
    src="https://e-quiz.cs.cityu.edu.hk/opt/cs1302visualize.html#mode=display&code=empty_list%20%3D%20%5B%5D%0Asingleton_list%20%3D%20%5B0%5D%20%20%23%20no%20need%20to%20write%20%5B0%2C%5D%0Aheterogeneous_list%20%3D%20%5Bsingleton_list%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%281%2C%202.0%29%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20print%5D%0Aenclosed_starred_list%20%3D%20%5B%2Arange%282%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2A%2723%27%5D%0A"
    frameborder="0"
    allowfullscreen
></iframe>
</div></div>
</div>
<p>We can also create a tuple/list from other iterables using the constructors <code class="docutils literal notranslate"><span class="pre">tuple</span></code>/<code class="docutils literal notranslate"><span class="pre">list</span></code> as well as addition and multiplication similar to <code class="docutils literal notranslate"><span class="pre">str</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">mytutor</span> -h 950
str2list = list(&#39;Hello&#39;)
str2tuple = tuple(&#39;Hello&#39;)
range2list = list(range(5))
range2tuple = tuple(range(5))
tuple2list = list((1, 2, 3))
list2tuple = tuple([1, 2, 3])
concatenated_tuple = (1,) + (2, 3)
concatenated_list = [1, 2] + [3]
duplicated_tuple = (1,) * 2
duplicated_list = 2 * [1]
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<iframe
    width="1100"
    height="950"
    src="https://e-quiz.cs.cityu.edu.hk/opt/cs1302visualize.html#mode=display&code=str2list%20%3D%20list%28%27Hello%27%29%0Astr2tuple%20%3D%20tuple%28%27Hello%27%29%0Arange2list%20%3D%20list%28range%285%29%29%0Arange2tuple%20%3D%20tuple%28range%285%29%29%0Atuple2list%20%3D%20list%28%281%2C%202%2C%203%29%29%0Alist2tuple%20%3D%20tuple%28%5B1%2C%202%2C%203%5D%29%0Aconcatenated_tuple%20%3D%20%281%2C%29%20%2B%20%282%2C%203%29%0Aconcatenated_list%20%3D%20%5B1%2C%202%5D%20%2B%20%5B3%5D%0Aduplicated_tuple%20%3D%20%281%2C%29%20%2A%202%0Aduplicated_list%20%3D%202%20%2A%20%5B1%5D%0A"
    frameborder="0"
    allowfullscreen
></iframe>
</div></div>
</div>
<p><strong>Exercise</strong> Explain the difference between following two expressions. Why a singleton tuple must have a comma after the item.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">((</span><span class="mi">1</span><span class="o">+</span><span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="mi">2</span><span class="p">,</span> 
      <span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">2</span><span class="p">,)</span><span class="o">*</span><span class="mi">2</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>6
(3, 3)
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">(1+2)*2</span></code> evaluates to <code class="docutils literal notranslate"><span class="pre">6</span></code> but <code class="docutils literal notranslate"><span class="pre">(1+2,)*2</span></code> evaluates to <code class="docutils literal notranslate"><span class="pre">(3,3)</span></code>.</p>
<ul class="simple">
<li><p>The parentheses in <code class="docutils literal notranslate"><span class="pre">(1+2)</span></code> indicate the addition needs to be performed first, but</p></li>
<li><p>the parentheses in <code class="docutils literal notranslate"><span class="pre">(1+2,)</span></code> creates a tuple.</p></li>
</ul>
<p>Hence, singleton tuple must have a comma after the item to differentiate these two use cases.</p>
<p><strong>How to use a rule to construct a tuple/list?</strong></p>
<p>We can specify the rule using a <a class="reference external" href="https://docs.python.org/3/reference/expressions.html#index-12">comprehension</a>,<br />
which we have used in a generator expression.<br />
E.g., the following is a python one-liner that returns a generator for prime numbers.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>all<span class="o">?</span>
<span class="n">prime_sequence</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">stop</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">stop</span><span class="p">)</span>
                               <span class="k">if</span> <span class="nb">all</span><span class="p">(</span><span class="n">x</span> <span class="o">%</span> <span class="n">divisor</span> <span class="k">for</span> <span class="n">divisor</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">x</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="o">*</span><span class="n">prime_sequence</span><span class="p">(</span><span class="mi">100</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2 3 5 7 11 13 17 19 23 29 31 37 41 43 47 53 59 61 67 71 73 79 83 89 97
</pre></div>
</div>
</div>
</div>
<p>There are two comprehensions used:</p>
<ul class="simple">
<li><p>In <code class="docutils literal notranslate"><span class="pre">all(x</span> <span class="pre">%</span> <span class="pre">divisor</span> <span class="pre">for</span> <span class="pre">divisor</span> <span class="pre">in</span> <span class="pre">range(2,</span> <span class="pre">x))</span></code>, the comprehension creates a generator of remainders to the function <code class="docutils literal notranslate"><span class="pre">all</span></code>, which returns true if all the remainders are <code class="docutils literal notranslate"><span class="pre">True</span></code> in boolean expression.</p></li>
<li><p>In the return value <code class="docutils literal notranslate"><span class="pre">(x</span> <span class="pre">for</span> <span class="pre">x</span> <span class="pre">in</span> <span class="pre">range(2,</span> <span class="pre">stop)</span> <span class="pre">if</span> <span class="pre">...)</span></code> of the anonymous function, the comprehension creates a generator of numbers from 2 to <code class="docutils literal notranslate"><span class="pre">stop-1</span></code> that satisfy the condition of the <code class="docutils literal notranslate"><span class="pre">if</span></code> clause.</p></li>
</ul>
<p><strong>Exercise</strong> Use comprehension to define a function <code class="docutils literal notranslate"><span class="pre">composite_sequence</span></code> that takes a non-negative integer <code class="docutils literal notranslate"><span class="pre">stop</span></code> and returns a generator of composite numbers strictly smaller than <code class="docutils literal notranslate"><span class="pre">stop</span></code>. Use <code class="docutils literal notranslate"><span class="pre">any</span></code> instead of <code class="docutils literal notranslate"><span class="pre">all</span></code> to check if a number is composite.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>any<span class="o">?</span>
<span class="c1">### BEGIN SOLUTION</span>
<span class="n">composite_sequence</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">stop</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">stop</span><span class="p">)</span>
                               <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="n">x</span> <span class="o">%</span> <span class="n">divisor</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">divisor</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">x</span><span class="p">)))</span>
<span class="c1">### END SOLUTION</span>

<span class="nb">print</span><span class="p">(</span><span class="o">*</span><span class="n">composite_sequence</span><span class="p">(</span><span class="mi">100</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>4 6 8 9 10 12 14 15 16 18 20 21 22 24 25 26 27 28 30 32 33 34 35 36 38 39 40 42 44 45 46 48 49 50 51 52 54 55 56 57 58 60 62 63 64 65 66 68 69 70 72 74 75 76 77 78 80 81 82 84 85 86 87 88 90 91 92 93 94 95 96 98 99
</pre></div>
</div>
</div>
</div>
<p>We can construct a list instead of a generator using comprehension:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)))</span>  <span class="c1"># Use the list constructor</span>
<span class="nb">print</span><span class="p">([</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)])</span>      <span class="c1"># Enclose comprehension by brackets</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[0, 1, 4, 9, 16, 25, 36, 49, 64, 81]
[0, 1, 4, 9, 16, 25, 36, 49, 64, 81]
</pre></div>
</div>
</div>
</div>
<p>We can also use comprehension to construct a tuple:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="nb">tuple</span><span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)))</span> <span class="c1"># Use the tuple constructor</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(0, 1, 4, 9, 16, 25, 36, 49, 64, 81)
</pre></div>
</div>
</div>
</div>
<p><strong>Exercise</strong> Explain the difference between the following expressions.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">((</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)),</span>
      <span class="p">(</span><span class="o">*</span><span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)),),</span> <span class="n">sep</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;generator object &lt;genexpr&gt; at 0x7fa6105b7408&gt;
(0, 1, 4, 9, 16, 25, 36, 49, 64, 81)
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>The first is a generator expression, not a tuple.</p></li>
<li><p>The second is a tuple constructed by enclosing the sequence from unpacking the generator.<br />
There must be a comma after the generator since there is only one enclosed term, even though that term generates multiple items.</p></li>
</ul>
<p><strong>Exercise</strong> Explain the difference between the following expressions.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">([</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)],</span>
      <span class="p">[(</span><span class="k">lambda</span> <span class="n">arg</span><span class="p">:</span> <span class="n">arg</span><span class="p">)(</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">))],</span> <span class="n">sep</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
[&lt;generator object &lt;genexpr&gt; at 0x7fa6105b74f8&gt;]
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>In the second expression, the comprehension provided as an argument to a function becomes a generator object,<br />
which is returned by the anonymous function and enclosed to form the singleton list.</p></li>
<li><p>In the first expression, the comprehension is not converted to a generator.</p></li>
</ul>
<p>With list comprehension, we can simulate a sequence of biased coin flips.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">random</span> <span class="kn">import</span> <span class="n">random</span> <span class="k">as</span> <span class="n">rand</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">rand</span><span class="p">()</span>  <span class="c1"># unknown bias</span>
<span class="n">coin_flips</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;H&#39;</span> <span class="k">if</span> <span class="n">rand</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="n">p</span> <span class="k">else</span> <span class="s1">&#39;T&#39;</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1000</span><span class="p">)]</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Chance of head:&#39;</span><span class="p">,</span> <span class="n">p</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Coin flips:&#39;</span><span class="p">,</span><span class="o">*</span><span class="n">coin_flips</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Chance of head: 0.7858876900773327
Coin flips: H T T H H H H H H H H H H H T H H H T H T T T H T H H H H H H H H H H H H H H T T H H H H H H H H H H H H H H H T H H H H H H T T H H T T H H H H H T T H H T T H H H H T H H H H H H H T H H H T T H H H H H H H H H H H H H H H H H T H H H T H H H H H H H H T T H H T H H H H H H H H H T H H H H T H H H H T H H T H H H H T T H H H H H H H H H H H H H H T H H H H T H H H H H T H H H H T T H H H H H H H H T H H T H H H T T T H H H H H H H H H H H H H H T H H T H T T T H H T H H H H H H H H H T T H H H H T H H H T H H H H H H H H H H H H T H H H T H H T H H H H H H H H H H T H H T H H H H H H H T T T H T H T H H H H H T H T T H H H H T H T H H H T T H T H H H T H H H H H H T H H T T H T H H H H T H H H T H T H H H H H H H T H H H H T H T H H H H H H H T H T H T H H H T H H H T T H H T H H T H H H H H H H T T H T H H H H H T H H T H H H H T H H H H T H H H H H H T H T H H T H T T H T H H H H H H T H H H H H H H H H H H H H H T H H H H H H H H H H H H H H T H T H T T H H H H H H T H H H H H H H H T H H H H H T H H H H H T H H T T H H H H H H H H H H H H H H T H T H H H H H H H T H H H H H H T H H H H H H T H H H H H H H H H T H H T H H H H T H T H T T H H H H H H H H H H T T H H H H T H H H H H T H H T T T H H H H H H T H T H H H H H T H H H H H H H H H H H H H H T H H T H H H H T T H H H T T H H H T T T T T H T H H H H H H H H H T T H H H H H H H T H H H H H H H H H H H H H H H H H H H H H H H H T H H T H H H T H H H H T H T T H H H H H T H H H H H H H T H H T H H H H H T H H H H H H H H H H T H T H H H H H H H H H H H H H H H T H H H H H H H H H H T H H T H T H H H H H H H T H H H H H T H H H H T H H H H T H H H T T H H T T H H H H H H H H T H H 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>T H H H H T H T H H H H H H H H T T T H H H H H T H H T H T T H H H H H H T T H H T H T H H H H H H H H T H H H T H H H H H H H H H H H H H H H H H H T H T H H H H T H H H H T H H H H H H H H H T H H H H H H T H T T H H H T H H H H H H H H T H H H H T T H H H T H H H H H H H T H H H H H H H H H H H H T T H T H H H H H H H H H H H
</pre></div>
</div>
</div>
</div>
<p>We can then estimate the bias by the fraction of heads coming up.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">average</span><span class="p">(</span><span class="n">seq</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="n">seq</span><span class="p">)</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">seq</span><span class="p">)</span>

<span class="n">head_indicators</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span> <span class="k">if</span> <span class="n">outcome</span> <span class="o">==</span> <span class="s1">&#39;H&#39;</span> <span class="k">else</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">outcome</span> <span class="ow">in</span> <span class="n">coin_flips</span><span class="p">]</span>
<span class="n">fraction_of_heads</span> <span class="o">=</span> <span class="n">average</span><span class="p">(</span><span class="n">head_indicators</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Fraction of heads:&#39;</span><span class="p">,</span> <span class="n">fraction_of_heads</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Fraction of heads: 0.79
</pre></div>
</div>
</div>
</div>
<p>Note that <code class="docutils literal notranslate"><span class="pre">sum</span></code> and <code class="docutils literal notranslate"><span class="pre">len</span></code> returns the sum and length of the sequence.</p>
<p><strong>Exercise</strong> Define a function <code class="docutils literal notranslate"><span class="pre">variance</span></code> that takes in a sequence <code class="docutils literal notranslate"><span class="pre">seq</span></code> and returns the <a class="reference external" href="https://en.wikipedia.org/wiki/Variance">variance</a> of the sequence.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">variance</span><span class="p">(</span><span class="n">seq</span><span class="p">):</span>
    <span class="c1">### BEGIN SOLUTION</span>
    <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="n">i</span><span class="o">**</span><span class="mi">2</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">seq</span><span class="p">)</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">seq</span><span class="p">)</span> <span class="o">-</span> <span class="n">average</span><span class="p">(</span><span class="n">seq</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span>
    <span class="c1">### END SOLUTION</span>

<span class="n">delta</span> <span class="o">=</span> <span class="p">(</span><span class="n">variance</span><span class="p">(</span><span class="n">head_indicators</span><span class="p">)</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">head_indicators</span><span class="p">))</span><span class="o">**</span><span class="mf">0.5</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;95</span><span class="si">% c</span><span class="s1">onfidence interval: [</span><span class="si">{:.2f}</span><span class="s1">,</span><span class="si">{:.2f}</span><span class="s1">]&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">p</span><span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="n">delta</span><span class="p">,</span><span class="n">p</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">delta</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>95% confidence interval: [0.76,0.81]
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="selecting-items-in-a-sequence">
<h4>Selecting items in a sequence<a class="headerlink" href="#selecting-items-in-a-sequence" title="Permalink to this headline">¶</a></h4>
<p><strong>How to traverse a tuple/list?</strong></p>
<p>Instead of calling the dunder method directly, we can use a for loop to iterate over all the items in order.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="p">(</span><span class="o">*</span><span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">),)</span>
<span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">a</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39; &#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0 1 2 3 4 
</pre></div>
</div>
</div>
</div>
<p>To do it in reverse, we can use the <code class="docutils literal notranslate"><span class="pre">reversed</span></code> function.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>reversed<span class="o">?</span>
<span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="o">*</span><span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)]</span>
<span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="nb">reversed</span><span class="p">(</span><span class="n">a</span><span class="p">):</span> <span class="nb">print</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39; &#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>4 3 2 1 0 
</pre></div>
</div>
</div>
</div>
<p>We can also traverse multiple tuples/lists simultaneously by <code class="docutils literal notranslate"><span class="pre">zip</span></code>ping them.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>zip<span class="o">?</span>
<span class="n">a</span> <span class="o">=</span> <span class="p">(</span><span class="o">*</span><span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">),)</span>
<span class="n">b</span> <span class="o">=</span> <span class="nb">reversed</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="k">for</span> <span class="n">item1</span><span class="p">,</span> <span class="n">item2</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">item1</span><span class="p">,</span><span class="n">item2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0 4
1 3
2 2
3 1
4 0
</pre></div>
</div>
</div>
</div>
<p><strong>How to select an item in a sequence?</strong></p>
<p>Sequence objects such as <code class="docutils literal notranslate"><span class="pre">str</span></code>/<code class="docutils literal notranslate"><span class="pre">tuple</span></code>/<code class="docutils literal notranslate"><span class="pre">list</span></code> implements the <a class="reference external" href="https://docs.python.org/3/reference/datamodel.html#object.__getitem__"><em>getter method</em> <code class="docutils literal notranslate"><span class="pre">__getitem__</span></code></a> to return their items.</p>
<p>We can select an item by <a class="reference external" href="https://docs.python.org/3/reference/expressions.html#subscriptions">subscription</a></p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">a</span></code> is a list and <code class="docutils literal notranslate"><span class="pre">i</span></code> is an integer index.</p>
<p>A non-negative index indicates the distance from the beginning.</p>
<div class="math notranslate nohighlight">
\[\boldsymbol{a} = (a_0, ... , a_{n-1})\]</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="p">(</span><span class="o">*</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">),)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Length:&#39;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">a</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;First element:&#39;</span><span class="p">,</span><span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Second element:&#39;</span><span class="p">,</span><span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Last element:&#39;</span><span class="p">,</span><span class="n">a</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">a</span><span class="p">)])</span> <span class="c1"># IndexError</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(0, 1, 2, 3, 4, 5, 6, 7, 8, 9)
Length: 10
First element: 0
Second element: 1
Last element: 9
</pre></div>
</div>
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">IndexError</span><span class="g g-Whitespace">                                </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">20</span><span class="o">-</span><span class="mi">8793</span><span class="n">aa5ed482</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span> <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Second element:&#39;</span><span class="p">,</span><span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="g g-Whitespace">      </span><span class="mi">6</span> <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Last element:&#39;</span><span class="p">,</span><span class="n">a</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="ne">----&gt; </span><span class="mi">7</span> <span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">a</span><span class="p">)])</span> <span class="c1"># IndexError</span>

<span class="ne">IndexError</span>: tuple index out of range
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">a[i]</span></code> with <code class="docutils literal notranslate"><span class="pre">i</span> <span class="pre">&gt;=</span> <span class="pre">len(a)</span></code> results in an <code class="docutils literal notranslate"><span class="pre">IndexError</span></code>.</p>
<p>A negative index represents a negative offset from an imaginary element one past the end of the sequence.</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{aligned} \boldsymbol{a} &amp;= (a_0, ... , a_{n-1})\\
&amp; = (a_{-n}, ..., a_{-1})
\end{aligned}\end{split}\]</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="o">*</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Last element:&#39;</span><span class="p">,</span><span class="n">a</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Second last element:&#39;</span><span class="p">,</span><span class="n">a</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;First element:&#39;</span><span class="p">,</span><span class="n">a</span><span class="p">[</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">a</span><span class="p">)])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span> <span class="c1"># IndexError</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
Last element: 9
Second last element: 8
First element: 0
</pre></div>
</div>
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">IndexError</span><span class="g g-Whitespace">                                </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">21</span><span class="o">-</span><span class="mi">6</span><span class="n">f6376dfba21</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span> <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Second last element:&#39;</span><span class="p">,</span><span class="n">a</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">])</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span> <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;First element:&#39;</span><span class="p">,</span><span class="n">a</span><span class="p">[</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">a</span><span class="p">)])</span>
<span class="ne">----&gt; </span><span class="mi">6</span> <span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span> <span class="c1"># IndexError</span>

<span class="ne">IndexError</span>: list index out of range
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">a[i]</span></code> with <code class="docutils literal notranslate"><span class="pre">i</span> <span class="pre">&lt;</span> <span class="pre">-len(a)</span></code> results in an <code class="docutils literal notranslate"><span class="pre">IndexError</span></code>.</p>
<p><strong>How to select multiple items?</strong></p>
<p>We can use a <a class="reference external" href="https://docs.python.org/3/reference/expressions.html#slicings">slicing</a> to select a range of items:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">a</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">stop</span><span class="p">]</span>
<span class="n">a</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">stop</span><span class="p">:</span><span class="n">step</span><span class="p">]</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">a</span></code> is a list;</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">start</span></code> is an integer representing the index of the starting item in the selection;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">stop</span></code> is an integer that is one larger than the index of the last item in the selection; and</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">step</span></code> is an integer that specifies the step/stride size through the list.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="p">(</span><span class="o">*</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">),)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">:</span><span class="mi">2</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(1, 2, 3)
(1, 3)
</pre></div>
</div>
</div>
</div>
<p>The parameters take their default values if missing or equal to None.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="o">*</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">[:</span><span class="mi">4</span><span class="p">])</span>   <span class="c1"># start defaults to 0</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>   <span class="c1"># stop defaults to len(a)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">:])</span> <span class="c1"># step defaults to 1</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[0, 1, 2, 3]
[1, 2, 3, 4, 5, 6, 7, 8, 9]
[1, 2, 3]
</pre></div>
</div>
</div>
</div>
<p>They can take negative values.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">:])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>  
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[9]
[0, 1, 2, 3, 4, 5, 6, 7, 8]
[9, 8, 7, 6, 5, 4, 3, 2, 1, 0]
</pre></div>
</div>
</div>
</div>
<p>They can also take a mixture of negative and postive values.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span><span class="mi">1</span><span class="p">])</span>      <span class="c1"># equal [a[-1], a[0]]?</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>      <span class="c1"># equal []?</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>   <span class="c1"># equal [a[1], a[0]]?</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="o">-</span><span class="mi">100</span><span class="p">:</span><span class="mi">100</span><span class="p">])</span>  <span class="c1"># result in IndexError like subscription?</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[]
[1, 2, 3, 4, 5, 6, 7, 8]
[]
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
</pre></div>
</div>
</div>
</div>
<p>We can now implement a practical sorting algorithm called <a class="reference external" href="https://en.wikipedia.org/wiki/Quicksort">quicksort</a> to sort a sequence.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">random</span>


<span class="k">def</span> <span class="nf">quicksort</span><span class="p">(</span><span class="n">seq</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Return a sorted list of items from seq.&#39;&#39;&#39;</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">seq</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">seq</span><span class="p">)</span>
    <span class="n">i</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">seq</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">pivot</span><span class="p">,</span> <span class="n">others</span> <span class="o">=</span> <span class="n">seq</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="p">[</span><span class="o">*</span><span class="n">seq</span><span class="p">[:</span><span class="n">i</span><span class="p">],</span> <span class="o">*</span><span class="n">seq</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:]]</span>
    <span class="n">left</span> <span class="o">=</span> <span class="n">quicksort</span><span class="p">([</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">others</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="n">pivot</span><span class="p">])</span>
    <span class="n">right</span> <span class="o">=</span> <span class="n">quicksort</span><span class="p">([</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">others</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;=</span> <span class="n">pivot</span><span class="p">])</span>
    <span class="k">return</span> <span class="p">[</span><span class="o">*</span><span class="n">left</span><span class="p">,</span> <span class="n">pivot</span><span class="p">,</span> <span class="o">*</span><span class="n">right</span><span class="p">]</span>


<span class="n">seq</span> <span class="o">=</span> <span class="p">[</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">99</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">seq</span><span class="p">,</span> <span class="n">quicksort</span><span class="p">(</span><span class="n">seq</span><span class="p">),</span> <span class="n">sep</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[9, 68, 98, 38, 25, 2, 95, 81, 53, 36]
[2, 9, 25, 36, 38, 53, 68, 81, 95, 98]
</pre></div>
</div>
</div>
</div>
<p>The above recursion creates a sorted list as <code class="docutils literal notranslate"><span class="pre">[*left,</span> <span class="pre">pivot,</span> <span class="pre">*right]</span></code> where</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">pivot</span></code> is a randomly picked an item in <code class="docutils literal notranslate"><span class="pre">seq</span></code>,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">left</span></code> is the sorted list of items smaller than <code class="docutils literal notranslate"><span class="pre">pivot</span></code>, and</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">right</span></code> is the sorted list of items no smaller than <code class="docutils literal notranslate"><span class="pre">pivot</span></code>.</p></li>
</ul>
<p>The base case happens when <code class="docutils literal notranslate"><span class="pre">seq</span></code> contains at most one item, in which case <code class="docutils literal notranslate"><span class="pre">seq</span></code> is already sorted.</p>
<p>There is a built-in function <code class="docutils literal notranslate"><span class="pre">sorted</span></code> for sorting a sequence. It uses the <a class="reference external" href="https://en.wikipedia.org/wiki/Timsort">Timsort</a> algorithm.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>sorted<span class="o">?</span>
<span class="nb">sorted</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">seq</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[2, 9, 25, 36, 38, 53, 68, 81, 95, 98]
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="mutating-a-list">
<h4>Mutating a list<a class="headerlink" href="#mutating-a-list" title="Permalink to this headline">¶</a></h4>
<p>For list (but not tuple), subscription and slicing can also be used as the target of an assignment operation to mutate the list.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">mytutor</span> -h 300
b = [*range(10)]  # aliasing
b[::2] = b[:5]
b[0:1] = b[:5]
b[::2] = b[:5]  # fails
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<iframe
    width="1100"
    height="300"
    src="https://e-quiz.cs.cityu.edu.hk/opt/cs1302visualize.html#mode=display&code=b%20%3D%20%5B%2Arange%2810%29%5D%20%20%23%20aliasing%0Ab%5B%3A%3A2%5D%20%3D%20b%5B%3A5%5D%0Ab%5B0%3A1%5D%20%3D%20b%5B%3A5%5D%0Ab%5B%3A%3A2%5D%20%3D%20b%5B%3A5%5D%20%20%23%20fails%0A"
    frameborder="0"
    allowfullscreen
></iframe>
</div></div>
</div>
<p>Last assignment fails because <code class="docutils literal notranslate"><span class="pre">[::2]</span></code> with step size not equal to <code class="docutils literal notranslate"><span class="pre">1</span></code> is an <em>extended slice</em>, which can only be assigned to a list of equal size.</p>
<p><strong>What is the difference between mutation and aliasing?</strong></p>
<p>In the previous code:</p>
<ul class="simple">
<li><p>The first assignment <code class="docutils literal notranslate"><span class="pre">b</span> <span class="pre">=</span> <span class="pre">[*range(10)]</span></code> is aliasing, which gives the list the target name/identifier <code class="docutils literal notranslate"><span class="pre">b</span></code>.</p></li>
<li><p>Other assignments such as <code class="docutils literal notranslate"><span class="pre">b[::2]</span> <span class="pre">=</span> <span class="pre">b[:5]</span></code> are mutations that <a class="reference external" href="https://docs.python.org/3/reference/simple_stmts.html#assignment-statements">calls <code class="docutils literal notranslate"><span class="pre">__setitem__</span></code></a> because the target <code class="docutils literal notranslate"><span class="pre">b[::2]</span></code> is not an identifier.</p></li>
</ul>
<p><strong>Exercise</strong> Explain the outcome of the following checks of equivalence?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">mytutor</span> -h 400
a = [10, 20, 30, 40]
b = a
print(&#39;a is b? {}&#39;.format(a is b))
print(&#39;{} == {}? {}&#39;.format(a, b, a == b))
b[1:3] = b[2:0:-1]
print(&#39;{} == {}? {}&#39;.format(a, b, a == b))
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<iframe
    width="1100"
    height="400"
    src="https://e-quiz.cs.cityu.edu.hk/opt/cs1302visualize.html#mode=display&code=a%20%3D%20%5B10%2C%2020%2C%2030%2C%2040%5D%0Ab%20%3D%20a%0Aprint%28%27a%20is%20b%3F%20%7B%7D%27.format%28a%20is%20b%29%29%0Aprint%28%27%7B%7D%20%3D%3D%20%7B%7D%3F%20%7B%7D%27.format%28a%2C%20b%2C%20a%20%3D%3D%20b%29%29%0Ab%5B1%3A3%5D%20%3D%20b%5B2%3A0%3A-1%5D%0Aprint%28%27%7B%7D%20%3D%3D%20%7B%7D%3F%20%7B%7D%27.format%28a%2C%20b%2C%20a%20%3D%3D%20b%29%29%0A"
    frameborder="0"
    allowfullscreen
></iframe>
</div></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">is</span> <span class="pre">b</span></code> and <code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">==</span> <span class="pre">b</span></code> returns <code class="docutils literal notranslate"><span class="pre">True</span></code> because the assignment <code class="docutils literal notranslate"><span class="pre">b</span> <span class="pre">=</span> <span class="pre">a</span></code> makes <code class="docutils literal notranslate"><span class="pre">b</span></code> an alias of the same object <code class="docutils literal notranslate"><span class="pre">a</span></code> points to.</p></li>
<li><p>In particular, the operation<code class="docutils literal notranslate"><span class="pre">b[1:3]</span> <span class="pre">=</span> <span class="pre">b[2:0:-1]</span></code> affects the same list <code class="docutils literal notranslate"><span class="pre">a</span></code> points to.</p></li>
</ul>
<p><strong>Why mutate a list?</strong></p>
<p>The following is another implementation of <code class="docutils literal notranslate"><span class="pre">composite_sequence</span></code> that takes advantage of the mutability of list.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">sieve_composite_sequence</span><span class="p">(</span><span class="n">stop</span><span class="p">):</span>
    <span class="n">is_composite</span> <span class="o">=</span> <span class="p">[</span><span class="kc">False</span><span class="p">]</span> <span class="o">*</span> <span class="n">stop</span>  <span class="c1"># initialization</span>
    <span class="k">for</span> <span class="n">factor</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="n">stop</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">is_composite</span><span class="p">[</span><span class="n">factor</span><span class="p">]:</span> <span class="k">continue</span>
        <span class="k">for</span> <span class="n">multiple</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">factor</span><span class="o">*</span><span class="mi">2</span><span class="p">,</span><span class="n">stop</span><span class="p">,</span><span class="n">factor</span><span class="p">):</span>
            <span class="n">is_composite</span><span class="p">[</span><span class="n">multiple</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="n">stop</span><span class="p">)</span> <span class="k">if</span> <span class="n">is_composite</span><span class="p">[</span><span class="n">x</span><span class="p">])</span>

<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">sieve_composite_sequence</span><span class="p">(</span><span class="mi">100</span><span class="p">):</span> <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39; &#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>4 6 8 9 10 12 14 15 16 18 20 21 22 24 25 26 27 28 30 32 33 34 35 36 38 39 40 42 44 45 46 48 49 50 51 52 54 55 56 57 58 60 62 63 64 65 66 68 69 70 72 74 75 76 77 78 80 81 82 84 85 86 87 88 90 91 92 93 94 95 96 98 99 
</pre></div>
</div>
</div>
</div>
<p>The algorithm</p>
<ol class="simple">
<li><p>changes <code class="docutils literal notranslate"><span class="pre">is_composite[x]</span></code> from <code class="docutils literal notranslate"><span class="pre">False</span></code> to <code class="docutils literal notranslate"><span class="pre">True</span></code> if <code class="docutils literal notranslate"><span class="pre">x</span></code> is a multiple of a smaller number <code class="docutils literal notranslate"><span class="pre">factor</span></code>, and</p></li>
<li><p>returns a generator that generates composite numbers according to <code class="docutils literal notranslate"><span class="pre">is_composite</span></code>.</p></li>
</ol>
<p><strong>Exercise</strong> Is <code class="docutils literal notranslate"><span class="pre">sieve_composite_sequence</span></code> more efficient than your solution <code class="docutils literal notranslate"><span class="pre">composite_sequence</span></code>? Why?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">composite_sequence</span><span class="p">(</span><span class="mi">10000</span><span class="p">):</span> <span class="k">pass</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">sieve_composite_sequence</span><span class="p">(</span><span class="mi">1000000</span><span class="p">):</span> <span class="k">pass</span>
</pre></div>
</div>
</div>
</div>
<p>The line <code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">is_composite[factor]:</span> <span class="pre">continue</span></code> avoids the redundant computations of checking composite factors.</p>
<p><strong>Exercise</strong> Note that the multiplication operation <code class="docutils literal notranslate"><span class="pre">*</span></code> is the most efficient way to <a class="reference external" href="https://www.geeksforgeeks.org/python-which-is-faster-to-initialize-lists/">initialize a 1D list with a specified size</a>, but we should not use it to initialize a 2D list. Fix the following code so that <code class="docutils literal notranslate"><span class="pre">a</span></code> becomes <code class="docutils literal notranslate"><span class="pre">[[1,</span> <span class="pre">0],</span> <span class="pre">[0,</span> <span class="pre">1]]</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">mytutor</span> -h 250
a = [[0] * 2] * 2
a[0][0] = a[1][1] = 1
print(a)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<iframe
    width="1100"
    height="250"
    src="https://e-quiz.cs.cityu.edu.hk/opt/cs1302visualize.html#mode=display&code=a%20%3D%20%5B%5B0%5D%20%2A%202%5D%20%2A%202%0Aa%5B0%5D%5B0%5D%20%3D%20a%5B1%5D%5B1%5D%20%3D%201%0Aprint%28a%29%0A"
    frameborder="0"
    allowfullscreen
></iframe>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">### BEGIN SOLUTION</span>
<span class="n">a</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="mi">2</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">)]</span>
<span class="c1">### END SOLUTION</span>
<span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[[1, 0], [0, 1]]
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="different-methods-to-operate-on-a-sequence">
<h4>Different methods to operate on a sequence<a class="headerlink" href="#different-methods-to-operate-on-a-sequence" title="Permalink to this headline">¶</a></h4>
<p>The following compares the lists of public attributes for <code class="docutils literal notranslate"><span class="pre">tuple</span></code> and <code class="docutils literal notranslate"><span class="pre">list</span></code>.</p>
<ul class="simple">
<li><p>We determine membership using the <a class="reference external" href="https://docs.python.org/3/reference/expressions.html#membership-test-operations">operator <code class="docutils literal notranslate"><span class="pre">in</span></code> or <code class="docutils literal notranslate"><span class="pre">not</span> <span class="pre">in</span></code></a>.</p></li>
<li><p>Different from the <a class="reference external" href="https://docs.python.org/3/reference/compound_stmts.html#the-for-statement">keyword <code class="docutils literal notranslate"><span class="pre">in</span></code> in a for loop</a>, operator <code class="docutils literal notranslate"><span class="pre">in</span></code> calls the method <code class="docutils literal notranslate"><span class="pre">__contains__</span></code>.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">list_attributes</span> <span class="o">=</span> <span class="nb">dir</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>
<span class="n">tuple_attributes</span> <span class="o">=</span> <span class="nb">dir</span><span class="p">(</span><span class="nb">tuple</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span>
    <span class="s1">&#39;Common attributes:&#39;</span><span class="p">,</span> <span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span>
        <span class="n">attr</span> <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="n">list_attributes</span>
        <span class="k">if</span> <span class="n">attr</span> <span class="ow">in</span> <span class="n">tuple_attributes</span> <span class="ow">and</span> <span class="n">attr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;_&#39;</span>
    <span class="p">]))</span>

<span class="nb">print</span><span class="p">(</span>
    <span class="s1">&#39;Tuple-specific attributes:&#39;</span><span class="p">,</span> <span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span>
        <span class="n">attr</span> <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="n">tuple_attributes</span>
        <span class="k">if</span> <span class="n">attr</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">list_attributes</span> <span class="ow">and</span> <span class="n">attr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;_&#39;</span>
    <span class="p">]))</span>

<span class="nb">print</span><span class="p">(</span>
    <span class="s1">&#39;List-specific attributes:&#39;</span><span class="p">,</span> <span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span>
        <span class="n">attr</span> <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="n">list_attributes</span>
        <span class="k">if</span> <span class="n">attr</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">tuple_attributes</span> <span class="ow">and</span> <span class="n">attr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;_&#39;</span>
    <span class="p">]))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Common attributes: count, index
Tuple-specific attributes: 
List-specific attributes: append, clear, copy, extend, insert, pop, remove, reverse, sort
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>There are no public tuple-specific attributes, and</p></li>
<li><p>all the list-specific attributes are methods that mutate the list, except <code class="docutils literal notranslate"><span class="pre">copy</span></code>.</p></li>
</ul>
<p>The common attributes</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">count</span></code> method returns the number of occurrences of a value in a tuple/list, and</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">index</span></code> method returns the index of the first occurrence of a value in a tuple/list.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">mytutor</span> -h 300
a = (1,2,2,4,5)
print(a.index(2))
print(a.count(2))
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<iframe
    width="1100"
    height="300"
    src="https://e-quiz.cs.cityu.edu.hk/opt/cs1302visualize.html#mode=display&code=a%20%3D%20%281%2C2%2C2%2C4%2C5%29%0Aprint%28a.index%282%29%29%0Aprint%28a.count%282%29%29%0A"
    frameborder="0"
    allowfullscreen
></iframe>
</div></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">reverse</span></code> method reverses the list instead of returning a reversed list.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">mytutor</span> -h 300
a = [*range(10)]
print(reversed(a))
print(*reversed(a))
print(a.reverse())
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<iframe
    width="1100"
    height="300"
    src="https://e-quiz.cs.cityu.edu.hk/opt/cs1302visualize.html#mode=display&code=a%20%3D%20%5B%2Arange%2810%29%5D%0Aprint%28reversed%28a%29%29%0Aprint%28%2Areversed%28a%29%29%0Aprint%28a.reverse%28%29%29%0A"
    frameborder="0"
    allowfullscreen
></iframe>
</div></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">copy</span></code> method returns a copy of a list.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tuple</span></code> does not have the <code class="docutils literal notranslate"><span class="pre">copy</span></code> method but it is easy to create a copy by slicing.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">mytutor</span> -h 400
a = [*range(10)]
b = tuple(a)
a_reversed = a.copy()
a_reversed.reverse()
b_reversed = b[::-1]
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<iframe
    width="1100"
    height="400"
    src="https://e-quiz.cs.cityu.edu.hk/opt/cs1302visualize.html#mode=display&code=a%20%3D%20%5B%2Arange%2810%29%5D%0Ab%20%3D%20tuple%28a%29%0Aa_reversed%20%3D%20a.copy%28%29%0Aa_reversed.reverse%28%29%0Ab_reversed%20%3D%20b%5B%3A%3A-1%5D%0A"
    frameborder="0"
    allowfullscreen
></iframe>
</div></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">sort</span></code> method sorts the list <em>in place</em> instead of returning a sorted list.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">mytutor</span> -h 300
import random
a = [random.randint(0,10) for i in range(10)]
print(sorted(a))
print(a.sort())
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<iframe
    width="1100"
    height="300"
    src="https://e-quiz.cs.cityu.edu.hk/opt/cs1302visualize.html#mode=display&code=import%20random%0Aa%20%3D%20%5Brandom.randint%280%2C10%29%20for%20i%20in%20range%2810%29%5D%0Aprint%28sorted%28a%29%29%0Aprint%28a.sort%28%29%29%0A"
    frameborder="0"
    allowfullscreen
></iframe>
</div></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">extend</span></code> method that extends a list instead of creating a new concatenated list.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">append</span></code> method adds an object to the end of a list.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">insert</span></code> method insert an object to a specified location.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">mytutor</span> -h 300
a = b = [*range(5)]
print(a + b)
print(a.extend(b))
print(a.append(&#39;stop&#39;))
print(a.insert(0,&#39;start&#39;))
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<iframe
    width="1100"
    height="300"
    src="https://e-quiz.cs.cityu.edu.hk/opt/cs1302visualize.html#mode=display&code=a%20%3D%20b%20%3D%20%5B%2Arange%285%29%5D%0Aprint%28a%20%2B%20b%29%0Aprint%28a.extend%28b%29%29%0Aprint%28a.append%28%27stop%27%29%29%0Aprint%28a.insert%280%2C%27start%27%29%29%0A"
    frameborder="0"
    allowfullscreen
></iframe>
</div></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">pop</span></code> method deletes and return the last item of the list.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">remove</span></code> method removes the first occurrence of a value in the list.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">clear</span></code> method clears the entire list.</p></li>
</ul>
<p>We can also use the function <code class="docutils literal notranslate"><span class="pre">del</span></code> to delete a selection of a list.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">mytutor</span> -h 300
a = [*range(10)]
del a[::2]
print(a.pop())
print(a.remove(5))
print(a.clear())
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<iframe
    width="1100"
    height="300"
    src="https://e-quiz.cs.cityu.edu.hk/opt/cs1302visualize.html#mode=display&code=a%20%3D%20%5B%2Arange%2810%29%5D%0Adel%20a%5B%3A%3A2%5D%0Aprint%28a.pop%28%29%29%0Aprint%28a.remove%285%29%29%0Aprint%28a.clear%28%29%29%0A"
    frameborder="0"
    allowfullscreen
></iframe>
</div></div>
</div>
</div>
</div>
<span id="document-Lecture8/Dictionaries and Sets"></span><div class="section" id="dictionaries-and-sets">
<h3>Dictionaries and Sets<a class="headerlink" href="#dictionaries-and-sets" title="Permalink to this headline">¶</a></h3>
<div class="section" id="motivation-for-associative-container">
<h4>Motivation for associative container<a class="headerlink" href="#motivation-for-associative-container" title="Permalink to this headline">¶</a></h4>
<p>The following code simulates the outcomes from rolling a dice multiple times.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">random</span>

<span class="n">dice_rolls</span> <span class="o">=</span> <span class="p">[</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)]</span>
<span class="nb">print</span><span class="p">(</span><span class="o">*</span><span class="n">dice_rolls</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>4 3 5 6 6 4 4 6 3 2
</pre></div>
</div>
</div>
</div>
<p><strong>What is the distribution, i.e., fractional counts?</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">distribution</span> <span class="o">=</span> <span class="p">[</span><span class="n">dice_rolls</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">dice_rolls</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">7</span><span class="p">)]</span>

<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="n">plt</span><span class="o">.</span><span class="n">stem</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">7</span><span class="p">),</span> <span class="n">distribution</span><span class="p">,</span> <span class="n">use_line_collection</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Outcomes&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Distribution&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(0.0, 1.0)
</pre></div>
</div>
<img alt="_images/Dictionaries and Sets_7_1.png" src="_images/Dictionaries and Sets_7_1.png" />
</div>
</div>
<p>In the above code, <code class="docutils literal notranslate"><span class="pre">distribution[i]</span></code> stores the fractional count of outcome <code class="docutils literal notranslate"><span class="pre">i</span></code>.</p>
<p>However, <code class="docutils literal notranslate"><span class="pre">distribution[0]</span></code> is <code class="docutils literal notranslate"><span class="pre">0</span></code> because a dice does not have outcome <code class="docutils literal notranslate"><span class="pre">0</span></code>. Can we avoid such redundancy?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">distinct_outcomes</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">outcome</span> <span class="k">for</span> <span class="n">outcome</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span> <span class="k">if</span> <span class="n">dice_rolls</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">outcome</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span>
<span class="p">]</span>
<span class="n">distribution</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">dice_rolls</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">distinct_outcomes</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">dice_rolls</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">distinct_outcomes</span><span class="p">))</span>
<span class="p">]</span>

<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="n">plt</span><span class="o">.</span><span class="n">stem</span><span class="p">(</span><span class="n">distinct_outcomes</span><span class="p">,</span> <span class="n">distribution</span><span class="p">,</span> <span class="n">use_line_collection</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Outcomes&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Distribution&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(0.0, 1.0)
</pre></div>
</div>
<img alt="_images/Dictionaries and Sets_10_1.png" src="_images/Dictionaries and Sets_10_1.png" />
</div>
</div>
<p>In the above code,</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">distinct_outcomes</span></code> stores the list of distinct outcomes, and</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">distribution[distinct_outcomes[i]]</span></code> stores the fractional count of the <code class="docutils literal notranslate"><span class="pre">i</span></code>-th distinct outcome.</p></li>
</ul>
<p>What about finding the distribution of characters in an article?<br />
There are 1,112,064 unicode characters.</p>
<ul class="simple">
<li><p>How obtain the distribution efficiently without creating an entry for each unicode character?</p></li>
<li><p>How to compute the set of distinct characters efficiently without iterating over the set of all unicode characters?</p></li>
<li><p>Can we index <code class="docutils literal notranslate"><span class="pre">distribution</span></code> directly by the set of distinct characters?</p></li>
</ul>
<p>What we need is a composite data type that</p>
<ul class="simple">
<li><p>can keep a set of <em>unique keys of different types</em> (such as the characters in our example), and</p></li>
<li><p>associate to different keys possibly different <em>values of any types</em> such as (the fractional counts of the characters).</p></li>
</ul>
<p>Such data structure is called an <a class="reference external" href="https://en.wikipedia.org/wiki/Associative_containers">associative container</a>.</p>
<p><strong>How to use associative containers in Python?</strong></p>
<p>There are two built-in classes for associative containers:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">set</span></code> can store a set of unique keys of possibly different types.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dict</span></code>ionary can store a set of key-value pairs.</p></li>
</ul>
<p>We have already used sets and dictionaries before.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">mytutor</span> -h 400
a = (lambda **kwargs: kwargs)(start=0, stop=5, step=1)
b = set([1,1,2,3,3,3])
assert len(a) == len(b)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<iframe
    width="1100"
    height="400"
    src="https://e-quiz.cs.cityu.edu.hk/opt/cs1302visualize.html#mode=display&code=a%20%3D%20%28lambda%20%2A%2Akwargs%3A%20kwargs%29%28start%3D0%2C%20stop%3D5%2C%20step%3D1%29%0Ab%20%3D%20set%28%5B1%2C1%2C2%2C3%2C3%2C3%5D%29%0Aassert%20len%28a%29%20%3D%3D%20len%28b%29%0A"
    frameborder="0"
    allowfullscreen
></iframe>
</div></div>
</div>
<p>Both <code class="docutils literal notranslate"><span class="pre">set</span></code> and <code class="docutils literal notranslate"><span class="pre">dict</span></code></p>
<ul class="simple">
<li><p>implement <code class="docutils literal notranslate"><span class="pre">len</span></code> method that returns the number of keys, and</p></li>
<li><p>are mutable, so we can mutate their keys and values.</p></li>
</ul>
</div>
<div class="section" id="constructing-associative-containers">
<h4>Constructing associative containers<a class="headerlink" href="#constructing-associative-containers" title="Permalink to this headline">¶</a></h4>
<p><strong>How to create set/dictionary?</strong></p>
<p>Similar to tuple/list, we can use enclosure, constructors, and comprehension.</p>
<p><strong>How to create a set/dict by enumerating its keys/values?</strong></p>
<p>For <code class="docutils literal notranslate"><span class="pre">dict</span></code>, enclose a comma-separated sequence of <code class="docutils literal notranslate"><span class="pre">key</span> <span class="pre">:</span> <span class="pre">value</span></code> pairs by braces <code class="docutils literal notranslate"><span class="pre">{</span></code> and <code class="docutils literal notranslate"><span class="pre">}</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">mytutor</span> -h 350
empty_dictionary = {}
a = {&#39;a&#39;: 0, &#39;b&#39;: 1}
b = {**a, &#39;c&#39;: 0, &#39;d&#39;: 1}
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<iframe
    width="1100"
    height="350"
    src="https://e-quiz.cs.cityu.edu.hk/opt/cs1302visualize.html#mode=display&code=empty_dictionary%20%3D%20%7B%7D%0Aa%20%3D%20%7B%27a%27%3A%200%2C%20%27b%27%3A%201%7D%0Ab%20%3D%20%7B%2A%2Aa%2C%20%27c%27%3A%200%2C%20%27d%27%3A%201%7D%0A"
    frameborder="0"
    allowfullscreen
></iframe>
</div></div>
</div>
<p>For <code class="docutils literal notranslate"><span class="pre">set</span></code>, omit <code class="docutils literal notranslate"><span class="pre">:</span> <span class="pre">value</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">mytutor</span> -h 300
a = {(1, 2.0), print, *range(2), *&#39;23&#39;}
empty_set = {*()}  # Why not use {}?
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<iframe
    width="1100"
    height="300"
    src="https://e-quiz.cs.cityu.edu.hk/opt/cs1302visualize.html#mode=display&code=a%20%3D%20%7B%281%2C%202.0%29%2C%20print%2C%20%2Arange%282%29%2C%20%2A%2723%27%7D%0Aempty_set%20%3D%20%7B%2A%28%29%7D%20%20%23%20Why%20not%20use%20%7B%7D%3F%0A"
    frameborder="0"
    allowfullscreen
></iframe>
</div></div>
</div>
<p>We can also create a set/dictionary from other objects using their constructors <code class="docutils literal notranslate"><span class="pre">set</span></code>/<code class="docutils literal notranslate"><span class="pre">dict</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">mytutor</span> -h 550
empty_set = set()
string2set = set(&#39;abc&#39;)
range2set = set(range(2))
list2set = set([&#39;abc&#39;,range(2)])
set2set = set(list2set)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<iframe
    width="1100"
    height="550"
    src="https://e-quiz.cs.cityu.edu.hk/opt/cs1302visualize.html#mode=display&code=empty_set%20%3D%20set%28%29%0Astring2set%20%3D%20set%28%27abc%27%29%0Arange2set%20%3D%20set%28range%282%29%29%0Alist2set%20%3D%20set%28%5B%27abc%27%2Crange%282%29%5D%29%0Aset2set%20%3D%20set%28list2set%29%0A"
    frameborder="0"
    allowfullscreen
></iframe>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">mytutor</span> -h 650
empty_dict = dict()
enumerate2dict = dict(enumerate(&#39;abc&#39;))
zip2dict = dict(zip(&#39;abc&#39;,&#39;123&#39;))
kwargs2dict = dict(one=1,two=2)
dict2dict = dict(kwargs2dict)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<iframe
    width="1100"
    height="650"
    src="https://e-quiz.cs.cityu.edu.hk/opt/cs1302visualize.html#mode=display&code=empty_dict%20%3D%20dict%28%29%0Aenumerate2dict%20%3D%20dict%28enumerate%28%27abc%27%29%29%0Azip2dict%20%3D%20dict%28zip%28%27abc%27%2C%27123%27%29%29%0Akwargs2dict%20%3D%20dict%28one%3D1%2Ctwo%3D2%29%0Adict2dict%20%3D%20dict%28kwargs2dict%29%0A"
    frameborder="0"
    allowfullscreen
></iframe>
</div></div>
</div>
<p><strong>Exercise</strong> <code class="docutils literal notranslate"><span class="pre">dict</span></code> also has a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict.fromkeys"><em>class method</em> <code class="docutils literal notranslate"><span class="pre">fromkeys</span></code></a> to construct a dictionary with keys from iterable pointing to a default value. Create a dictionary using <code class="docutils literal notranslate"><span class="pre">fromkeys</span></code> with keys being the non-negative integers smaller than <code class="docutils literal notranslate"><span class="pre">100</span></code> and values being <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p>
<p><em>Hint:</em> Use <code class="docutils literal notranslate"><span class="pre">dict.fromkeys</span></code> since a class method is bound to the class rather than an object of the class.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>dict.fromkeys<span class="o">?</span>
<span class="c1">### BEGIN SOLUTION</span>
<span class="n">fromkeys_dict</span> <span class="o">=</span> <span class="nb">dict</span><span class="o">.</span><span class="n">fromkeys</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">),</span><span class="mi">0</span><span class="p">)</span>
<span class="c1">### END SOLUTION</span>

<span class="c1"># test</span>
<span class="k">assert</span> <span class="nb">all</span><span class="p">(</span><span class="n">fromkeys_dict</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">fromkeys_dict</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p><strong>How to use a rule to construct a set/dictionary?</strong></p>
<p>The following function uses a one-line dictionary comprehension to return the distribution of items in a sequence:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">distribute</span><span class="p">(</span><span class="n">seq</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">{</span><span class="n">k</span> <span class="p">:</span> <span class="n">seq</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">k</span><span class="p">)</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">seq</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">set</span><span class="p">(</span><span class="n">seq</span><span class="p">)}</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="k">def</span> <span class="nf">plot_distribution</span><span class="p">(</span><span class="n">seq</span><span class="p">):</span>
    <span class="n">dist</span> <span class="o">=</span> <span class="n">distribute</span><span class="p">(</span><span class="n">seq</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">stem</span><span class="p">(</span><span class="n">dist</span><span class="o">.</span><span class="n">keys</span><span class="p">(),</span>   <span class="c1"># set-like view of the keys</span>
             <span class="n">dist</span><span class="o">.</span><span class="n">values</span><span class="p">(),</span> <span class="c1"># view of the values</span>
             <span class="n">use_line_collection</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Items&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Distribution&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    
<span class="n">plot_distribution</span><span class="p">(</span><span class="s1">&#39;What is the distribution of different characters?&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/Dictionaries and Sets_35_0.png" src="_images/Dictionaries and Sets_35_0.png" />
</div>
</div>
<ul class="simple">
<li><p>The object methods <code class="docutils literal notranslate"><span class="pre">keys</span></code> and <code class="docutils literal notranslate"><span class="pre">values</span></code> provide a dynamic <a class="reference external" href="https://docs.python.org/3/glossary.html#term-dictionary-view">view</a> of the keys.</p></li>
<li><p>Unlike a copy, subsequent changes to the dictionary are also reflected in a previously returned view.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">items</span></code> provides a set-like view of the key-value pairs.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">mytutor</span> -h 500
a = dict(enumerate(&#39;abc&#39;))
views = a.keys(), a.values(), a.items()
a.pop(1)    # remove the key 1 and its associated value
a.popitem() # remove and return a key-value pair
a.clear()   # clear the dictionary
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<iframe
    width="1100"
    height="500"
    src="https://e-quiz.cs.cityu.edu.hk/opt/cs1302visualize.html#mode=display&code=a%20%3D%20dict%28enumerate%28%27abc%27%29%29%0Aviews%20%3D%20a.keys%28%29%2C%20a.values%28%29%2C%20a.items%28%29%0Aa.pop%281%29%20%20%20%20%23%20remove%20the%20key%201%20and%20its%20associated%20value%0Aa.popitem%28%29%20%23%20remove%20and%20return%20a%20key-value%20pair%0Aa.clear%28%29%20%20%20%23%20clear%20the%20dictionary%0A"
    frameborder="0"
    allowfullscreen
></iframe>
</div></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">set</span></code> has <code class="docutils literal notranslate"><span class="pre">pop</span></code> and <code class="docutils literal notranslate"><span class="pre">clear</span></code> but not <code class="docutils literal notranslate"><span class="pre">popitem</span></code>. However, <code class="docutils literal notranslate"><span class="pre">set.pop</span></code> behaves like <code class="docutils literal notranslate"><span class="pre">dict.popitem</span></code> instead of <code class="docutils literal notranslate"><span class="pre">dict.pop</span></code>. (Why?)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">mytutor</span> -h 250
a = set(&#39;abc&#39;)
a.pop()     # remove and return an element
a.clear()   # clear the set
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<iframe
    width="1100"
    height="250"
    src="https://e-quiz.cs.cityu.edu.hk/opt/cs1302visualize.html#mode=display&code=a%20%3D%20set%28%27abc%27%29%0Aa.pop%28%29%20%20%20%20%20%23%20remove%20and%20return%20an%20element%0Aa.clear%28%29%20%20%20%23%20clear%20the%20set%0A"
    frameborder="0"
    allowfullscreen
></iframe>
</div></div>
</div>
<p><strong>Exercise</strong> Use one-line comprehension to return a set of composite numbers smaller than <code class="docutils literal notranslate"><span class="pre">stop</span></code>.</p>
<p><em>Hint:</em> You do not need to worry about duplicate elements for <code class="docutils literal notranslate"><span class="pre">set</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">composite_set</span><span class="p">(</span><span class="n">stop</span><span class="p">):</span>
    <span class="c1">### BEGIN SOLUTION</span>
    <span class="k">return</span> <span class="p">{</span><span class="n">x</span> <span class="k">for</span> <span class="n">factor</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="n">stop</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">factor</span><span class="o">*</span><span class="mi">2</span><span class="p">,</span><span class="n">stop</span><span class="p">,</span><span class="n">factor</span><span class="p">)}</span>
    <span class="c1">### END SOLUTION</span>
    
<span class="nb">print</span><span class="p">(</span><span class="o">*</span><span class="nb">sorted</span><span class="p">(</span><span class="n">composite_set</span><span class="p">(</span><span class="mi">100</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>4 6 8 9 10 12 14 15 16 18 20 21 22 24 25 26 27 28 30 32 33 34 35 36 38 39 40 42 44 45 46 48 49 50 51 52 54 55 56 57 58 60 62 63 64 65 66 68 69 70 72 74 75 76 77 78 80 81 82 84 85 86 87 88 90 91 92 93 94 95 96 98 99
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="hashability">
<h4>Hashability<a class="headerlink" href="#hashability" title="Permalink to this headline">¶</a></h4>
<p>For <code class="docutils literal notranslate"><span class="pre">set</span></code> and <code class="docutils literal notranslate"><span class="pre">dict</span></code>,</p>
<ul class="simple">
<li><p>identical keys are merged to the same entry even though</p></li>
<li><p>values associated with different keys can be the same.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">mytutor</span> -h 350
a = {0: &#39;a&#39;, 0.0: &#39;b&#39;, 2: &#39;b&#39;}
b = {0j, 0, 0.0, &#39;&#39;, False}
assert 0 == 0.0 == 0j == False != &#39;&#39;
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<iframe
    width="1100"
    height="350"
    src="https://e-quiz.cs.cityu.edu.hk/opt/cs1302visualize.html#mode=display&code=a%20%3D%20%7B0%3A%20%27a%27%2C%200.0%3A%20%27b%27%2C%202%3A%20%27b%27%7D%0Ab%20%3D%20%7B0j%2C%200%2C%200.0%2C%20%27%27%2C%20False%7D%0Aassert%200%20%3D%3D%200.0%20%3D%3D%200j%20%3D%3D%20False%20%21%3D%20%27%27%0A"
    frameborder="0"
    allowfullscreen
></iframe>
</div></div>
</div>
<p>This is implemented efficiently by <a class="reference external" href="https://docs.python.org/3/glossary.html#term-hashable"><em>hashing</em></a>. A key must be a hashable object which:</p>
<ul class="simple">
<li><p>has a hash value (returned by <code class="docutils literal notranslate"><span class="pre">__hash__</span></code> method) that never changes during its lifetime, and</p></li>
<li><p>can be compared (using <code class="docutils literal notranslate"><span class="pre">__eq__</span></code> method) to other objects.<br />
<em>Hashable objects which compare equal must have the same hash value.</em></p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">collections</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mi">0</span><span class="n">j</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="p">(),</span> <span class="p">[],</span> <span class="p">{},</span> <span class="nb">set</span><span class="p">(),</span> <span class="nb">frozenset</span><span class="p">():</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">abc</span><span class="o">.</span><span class="n">Hashable</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{}</span><span class="s1"> is hashable. E.g., hash(</span><span class="si">{!r}</span><span class="s1">) == </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">i</span><span class="p">),</span><span class="n">i</span><span class="p">,</span><span class="nb">hash</span><span class="p">(</span><span class="n">i</span><span class="p">)))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{}</span><span class="s1"> is NOT hashable.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">i</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;int&#39;&gt; is hashable. E.g., hash(0) == 0
&lt;class &#39;float&#39;&gt; is hashable. E.g., hash(0.0) == 0
&lt;class &#39;complex&#39;&gt; is hashable. E.g., hash(0j) == 0
&lt;class &#39;str&#39;&gt; is hashable. E.g., hash(&#39;&#39;) == 0
&lt;class &#39;bool&#39;&gt; is hashable. E.g., hash(False) == 0
&lt;class &#39;tuple&#39;&gt; is hashable. E.g., hash(()) == 3527539
&lt;class &#39;list&#39;&gt; is NOT hashable.
&lt;class &#39;dict&#39;&gt; is NOT hashable.
&lt;class &#39;set&#39;&gt; is NOT hashable.
&lt;class &#39;frozenset&#39;&gt; is hashable. E.g., hash(frozenset()) == 133146708735736
</pre></div>
</div>
</div>
</div>
<p><strong>Why the key should be hashable?</strong><br />
<strong>What is the use of a hash value?</strong></p>
<p>Associative containers are implemented as <em>hash tables</em> for efficient lookup of key values.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%html</span>
<span class="p">&lt;</span><span class="nt">iframe</span> <span class="na">width</span><span class="o">=</span><span class="s">&quot;912&quot;</span> <span class="na">height</span><span class="o">=</span><span class="s">&quot;513&quot;</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;https://www.youtube.com/embed/LPzN8jgbnvA&quot;</span> <span class="na">frameborder</span><span class="o">=</span><span class="s">&quot;0&quot;</span> <span class="na">allow</span><span class="o">=</span><span class="s">&quot;accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture&quot;</span> <span class="na">allowfullscreen</span><span class="p">&gt;&lt;/</span><span class="nt">iframe</span><span class="p">&gt;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><iframe width="912" height="513" src="https://www.youtube.com/embed/LPzN8jgbnvA" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
</div></div>
</div>
<p>Most mutable objects are not hashable. Why?<br />
Mutating a key makes it a different key, which is <a class="reference external" href="https://hynek.me/articles/hashes-and-equality/">hard to track</a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">set</span></code> has an immutable counterpart called <code class="docutils literal notranslate"><span class="pre">frozenset</span></code>, but <code class="docutils literal notranslate"><span class="pre">dict</span></code> does not have any immutable counterpart. Why?<br />
While elements of a set must be hashable and therefore mostly immutable, dictionary values may be of mutable types.</p>
<p>Python also uses dictionary for its global/local frames.<br />
Indeed, <a class="reference external" href="https://stackoverflow.com/questions/8271139/why-is-early-return-slower-than-else">hash collisions can slow down the lookup process</a>.</p>
<p><strong>Exercise</strong> Why equal objects must have the same hash but different objects may have the same hash? An example is given below:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">assert</span> <span class="nb">hash</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">==</span> <span class="nb">hash</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)</span> <span class="o">==</span> <span class="nb">hash</span><span class="p">(</span><span class="mi">0</span><span class="n">j</span><span class="p">)</span> <span class="o">==</span> <span class="nb">hash</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span> <span class="o">==</span> <span class="nb">hash</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="kc">False</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span>
</pre></div>
</div>
</div>
</div>
<ol class="simple">
<li><p>To avoid duplicate keys occupying different entries in a hash table.</p></li>
<li><p>Hash collision can be detected by <code class="docutils literal notranslate"><span class="pre">==</span></code> and handled by <a class="reference external" href="https://en.wikipedia.org/wiki/Hash_table#Collision_resolution">collision resolution</a> techniques. To keep the hash table small, hash collision is unavoidable.</p></li>
</ol>
</div>
<div class="section" id="accessing-keys-values">
<h4>Accessing keys/values<a class="headerlink" href="#accessing-keys-values" title="Permalink to this headline">¶</a></h4>
<p><strong>How to traverse a set/dictionary?</strong></p>
<p>Set and dictionaries are iterable.<br />
The for loop iterates over the keys.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="s1">&#39;abcde&#39;</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">enumerate</span><span class="p">(</span><span class="s1">&#39;abcde&#39;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="o">*</span><span class="p">(</span><span class="n">element</span> <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">a</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="o">*</span><span class="p">((</span><span class="n">key</span><span class="p">,</span><span class="n">b</span><span class="p">[</span><span class="n">key</span><span class="p">])</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">b</span><span class="p">))</span>
<span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># TypeError</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>e d a c b
(0, &#39;a&#39;) (1, &#39;b&#39;) (2, &#39;c&#39;) (3, &#39;d&#39;) (4, &#39;e&#39;)
</pre></div>
</div>
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">TypeError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">20</span><span class="o">-</span><span class="mi">6702302</span><span class="n">c4a5e</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span> <span class="nb">print</span><span class="p">(</span><span class="o">*</span><span class="p">(</span><span class="n">element</span> <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">a</span><span class="p">))</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span> <span class="nb">print</span><span class="p">(</span><span class="o">*</span><span class="p">((</span><span class="n">key</span><span class="p">,</span><span class="n">b</span><span class="p">[</span><span class="n">key</span><span class="p">])</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">b</span><span class="p">))</span>
<span class="ne">----&gt; </span><span class="mi">5</span> <span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># TypeError</span>

<span class="ne">TypeError</span>: &#39;set&#39; object is not subscriptable
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>For the dictionary <code class="docutils literal notranslate"><span class="pre">b</span></code>, we used subscription <code class="docutils literal notranslate"><span class="pre">b[key]</span></code> to access the value associated with <code class="docutils literal notranslate"><span class="pre">key</span></code>.</p></li>
<li><p>Unlike dictionary, set does not implement <a class="reference external" href="https://docs.python.org/3/reference/datamodel.html#object.__getitem__"><code class="docutils literal notranslate"><span class="pre">__getitem__</span></code></a> and is therefore not subscriptable.</p></li>
</ul>
<p>Unlike tuple/list, <code class="docutils literal notranslate"><span class="pre">b[-1]</span></code> does not refer to the value of the last entry. (Dictionary is not ordered.)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">b</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>  <span class="c1"># KeyError</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">KeyError</span><span class="g g-Whitespace">                                  </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">21</span><span class="o">-</span><span class="mi">784624678</span><span class="n">be8</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">b</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>  <span class="c1"># KeyError</span>

<span class="ne">KeyError</span>: -1
</pre></div>
</div>
</div>
</div>
<p>The above raises a key error because <code class="docutils literal notranslate"><span class="pre">-1</span></code> is not a key in the dictionary <code class="docutils literal notranslate"><span class="pre">b</span></code>.</p>
<p>Dictionary implements the <a class="reference external" href="https://docs.python.org/3/reference/simple_stmts.html#assignment-statements"><code class="docutils literal notranslate"><span class="pre">__setitem__</span></code></a> method so we can enter a key value pair to a dictionary using the assignment operator.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">b</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;f&#39;</span>
<span class="n">b</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;f&#39;
</pre></div>
</div>
</div>
</div>
<p>To delete a key, we can use the function <code class="docutils literal notranslate"><span class="pre">del</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">del</span> <span class="n">b</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">b</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">KeyError</span><span class="g g-Whitespace">                                  </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">23</span><span class="o">-</span><span class="n">a57f788767eb</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="k">del</span> <span class="n">b</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="ne">----&gt; </span><span class="mi">2</span> <span class="n">b</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

<span class="ne">KeyError</span>: -1
</pre></div>
</div>
</div>
</div>
<p>To avoid key error, we can check if a key is in a dictionary efficiently (due to hashing) using the <code class="docutils literal notranslate"><span class="pre">in</span></code> operator.<br />
The following is a different implementation of <code class="docutils literal notranslate"><span class="pre">distribute</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">distribute</span><span class="p">(</span><span class="n">seq</span><span class="p">):</span>
    <span class="n">dist</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">seq</span><span class="p">:</span> 
        <span class="n">dist</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">dist</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">if</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">dist</span> <span class="k">else</span> <span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">seq</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">dist</span>

<span class="n">plot_distribution</span><span class="p">(</span><span class="s1">&#39;What is the distribution of different characters?&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/Dictionaries and Sets_69_0.png" src="_images/Dictionaries and Sets_69_0.png" />
</div>
</div>
<p><strong>Exercise</strong> Unlike the previous implementation using one-line dictionary comprehension, the above alternative implementation uses multiple lines of code to build the dictionary incrementally starting from an empty dictionary.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">distribution</span><span class="p">(</span><span class="n">seq</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">{</span><span class="n">k</span> <span class="p">:</span> <span class="n">seq</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">k</span><span class="p">)</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">seq</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">set</span><span class="p">(</span><span class="n">seq</span><span class="p">)}</span>
</pre></div>
</div>
<p>Explain whether the alternative is more efficient.</p>
<p>It is more efficient because</p>
<ul class="simple">
<li><p>the alternative implementation traverses <code class="docutils literal notranslate"><span class="pre">seq</span></code> once with near constant time lookup of the key, but</p></li>
<li><p>the list comprehension can traverse <code class="docutils literal notranslate"><span class="pre">seq</span></code> a multiple times linear in <code class="docutils literal notranslate"><span class="pre">len(seq)</span></code>, since every call to <code class="docutils literal notranslate"><span class="pre">seq.count</span></code> has to traverse <code class="docutils literal notranslate"><span class="pre">seq</span></code> once.</p></li>
</ul>
<p>Shorter code needs not be more efficient.</p>
<p><strong>Exercise</strong> <code class="docutils literal notranslate"><span class="pre">dict</span></code> also has a getter method <code class="docutils literal notranslate"><span class="pre">get</span></code> that conveniently returns a default value if the key does not exist. Rewrite the alternative implementation of <code class="docutils literal notranslate"><span class="pre">distribute</span></code> to use <code class="docutils literal notranslate"><span class="pre">get</span></code> instead of <code class="docutils literal notranslate"><span class="pre">in</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>dict.get<span class="o">?</span>
<span class="k">def</span> <span class="nf">distribute</span><span class="p">(</span><span class="n">seq</span><span class="p">):</span>
    <span class="n">dist</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">seq</span><span class="p">:</span> 
        <span class="c1">### BEGIN SOLUTION</span>
        <span class="n">dist</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">dist</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">seq</span><span class="p">)</span>
        <span class="c1">### END SOLUTION</span>
    <span class="k">return</span> <span class="n">dist</span>

<span class="n">plot_distribution</span><span class="p">(</span><span class="s1">&#39;What is the distribution of different characters?&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/Dictionaries and Sets_73_0.png" src="_images/Dictionaries and Sets_73_0.png" />
</div>
</div>
<p><strong>How to traverse in ascending order of the keys?</strong></p>
<p>We can apply the function <code class="docutils literal notranslate"><span class="pre">sorted</span></code> to a set/dictionary to return a sorted list of the keys.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">mytutor</span> -h 600
a = set(reversed(&#39;abcde&#39;))
b = dict(reversed([*enumerate(&#39;abcde&#39;)]))
sorted_elements = sorted(a)
sorted_keys = sorted(b)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<iframe
    width="1100"
    height="600"
    src="https://e-quiz.cs.cityu.edu.hk/opt/cs1302visualize.html#mode=display&code=a%20%3D%20set%28reversed%28%27abcde%27%29%29%0Ab%20%3D%20dict%28reversed%28%5B%2Aenumerate%28%27abcde%27%29%5D%29%29%0Asorted_elements%20%3D%20sorted%28a%29%0Asorted_keys%20%3D%20sorted%28b%29%0A"
    frameborder="0"
    allowfullscreen
></iframe>
</div></div>
</div>
<p><strong>Exercise</strong> Re-implement <code class="docutils literal notranslate"><span class="pre">plot_distribution</span></code> to plot the distribution in ascending order of the keys.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">plot_distribution</span><span class="p">(</span><span class="n">seq</span><span class="p">):</span>
    <span class="n">dist</span> <span class="o">=</span> <span class="n">distribution</span><span class="p">(</span><span class="n">seq</span><span class="p">)</span>
    <span class="c1"># pyplot.stem(dist.keys(), dist.values(), use_line_collection=True)</span>
    <span class="c1">### BEGIN SOLUTION</span>
    <span class="n">dist_list</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">dist</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span> <span class="n">key</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">p</span><span class="p">:</span> <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">pyplot</span><span class="o">.</span><span class="n">stem</span><span class="p">([</span><span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">dist_list</span><span class="p">],</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">dist_list</span><span class="p">],</span> <span class="n">use_line_collection</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="c1">### END SOLUTION</span>
    <span class="n">pyplot</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Items&#39;</span><span class="p">)</span>
    <span class="n">pyplot</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Distribution&#39;</span><span class="p">)</span>
    <span class="n">pyplot</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    
<span class="n">plot_distribution</span><span class="p">(</span><span class="s1">&#39;What is the distribution of different characters?&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">TypeError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">27</span><span class="o">-</span><span class="mi">7</span><span class="n">ea0ff37fbdc</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="g g-Whitespace">     </span><span class="mi">10</span>     <span class="n">pyplot</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">11</span> 
<span class="ne">---&gt; </span><span class="mi">12</span> <span class="n">plot_distribution</span><span class="p">(</span><span class="s1">&#39;What is the distribution of different characters?&#39;</span><span class="p">)</span>

<span class="nn">&lt;ipython-input-27-7ea0ff37fbdc&gt;</span> in <span class="ni">plot_distribution</span><span class="nt">(seq)</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="k">def</span> <span class="nf">plot_distribution</span><span class="p">(</span><span class="n">seq</span><span class="p">):</span>
<span class="ne">----&gt; </span><span class="mi">2</span>     <span class="n">dist</span> <span class="o">=</span> <span class="n">distribution</span><span class="p">(</span><span class="n">seq</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span>     <span class="c1"># pyplot.stem(dist.keys(), dist.values(), use_line_collection=True)</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span>     <span class="c1">### BEGIN SOLUTION</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span>     <span class="n">dist_list</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">dist</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span> <span class="n">key</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">p</span><span class="p">:</span> <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

<span class="ne">TypeError</span>: &#39;list&#39; object is not callable
</pre></div>
</div>
</div>
</div>
<p><strong>How to add an element to a set and remove an element from it?</strong></p>
<p>Instead of subscription, <code class="docutils literal notranslate"><span class="pre">set</span></code> has the <code class="docutils literal notranslate"><span class="pre">add</span></code>/<code class="docutils literal notranslate"><span class="pre">discard</span></code>/<code class="docutils literal notranslate"><span class="pre">remove</span></code> methods for adding/removing elements.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">mytutor</span> -h 400
a = set(&#39;abc&#39;)
a.add(&#39;d&#39;)      
a.discard(&#39;a&#39;)  
a.remove(&#39;b&#39;)
a.clear()
a.discard(&#39;a&#39;)  # no error
a.remove(&#39;b&#39;)   # KeyError
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<iframe
    width="1100"
    height="400"
    src="https://e-quiz.cs.cityu.edu.hk/opt/cs1302visualize.html#mode=display&code=a%20%3D%20set%28%27abc%27%29%0Aa.add%28%27d%27%29%20%20%20%20%20%20%0Aa.discard%28%27a%27%29%20%20%0Aa.remove%28%27b%27%29%0Aa.clear%28%29%0Aa.discard%28%27a%27%29%20%20%23%20no%20error%0Aa.remove%28%27b%27%29%20%20%20%23%20KeyError%0A"
    frameborder="0"
    allowfullscreen
></iframe>
</div></div>
</div>
</div>
<div class="section" id="other-operators-and-methods">
<h4>Other operators and methods<a class="headerlink" href="#other-operators-and-methods" title="Permalink to this headline">¶</a></h4>
<p>Unlike <code class="docutils literal notranslate"><span class="pre">str</span></code>/<code class="docutils literal notranslate"><span class="pre">tuple</span></code>/<code class="docutils literal notranslate"><span class="pre">list</span></code>, <code class="docutils literal notranslate"><span class="pre">set</span></code> and <code class="docutils literal notranslate"><span class="pre">dict</span></code> do not implement addition <code class="docutils literal notranslate"><span class="pre">+</span></code> and multiplication <code class="docutils literal notranslate"><span class="pre">*</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">any</span><span class="p">(</span><span class="nb">hasattr</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">attr</span><span class="p">)</span> <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;__add__&#39;</span><span class="p">,</span> <span class="s1">&#39;__mult__&#39;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">container</span> <span class="ow">in</span> <span class="p">(</span><span class="nb">dict</span><span class="p">,</span> <span class="nb">set</span><span class="p">,</span> <span class="nb">frozenset</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>False
</pre></div>
</div>
</div>
</div>
<p><strong>Exercise</strong> Use the unpacking operators <code class="docutils literal notranslate"><span class="pre">*</span></code> and <code class="docutils literal notranslate"><span class="pre">**</span></code> to concatenate two sets/dictionaries below into a new set/dictionary.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">set1</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="s1">&#39;abc&#39;</span><span class="p">)</span>
<span class="n">set2</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="s1">&#39;cde&#39;</span><span class="p">)</span>
<span class="c1">### BEGIN SOLUTION</span>
<span class="n">concatenated_set</span> <span class="o">=</span> <span class="p">{</span><span class="o">*</span><span class="n">set1</span><span class="p">,</span><span class="o">*</span><span class="n">set2</span><span class="p">}</span>
<span class="c1">### END SOLUTION</span>
<span class="n">concatenated_set</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dict1</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">enumerate</span><span class="p">(</span><span class="s1">&#39;abc&#39;</span><span class="p">))</span>
<span class="n">dict2</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">enumerate</span><span class="p">(</span><span class="s1">&#39;def&#39;</span><span class="p">,</span><span class="n">start</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>
<span class="c1">### BEGIN SOLUTION</span>
<span class="n">concatenated_dict</span> <span class="o">=</span> <span class="p">{</span><span class="o">**</span><span class="n">dict1</span><span class="p">,</span><span class="o">**</span><span class="n">dict2</span><span class="p">}</span>
<span class="c1">### END SOLUTION</span>
<span class="n">concatenated_dict</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{0: &#39;a&#39;, 1: &#39;b&#39;, 2: &#39;d&#39;, 3: &#39;e&#39;, 4: &#39;f&#39;}
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">set</span></code> overloads many other operators:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">mytutor</span> -h 550
a, b = {1,2}, {2,3}

union = a | b
assert all(i in union for i in a) and all(i in union for i in b)

intersection = a &amp; b
assert all(i in a and i in b for i in intersection)

assert intersection &lt;= a &lt;= union  # subset
assert union &gt; b &gt; intersection    # proper superset
assert len(a) + len(b) == len(intersection) + len(union) 

symmetric_difference = a ^ b
assert all((i in a or i in b) and not (i in a and i in b) 
           for i in symmetric_difference)
assert symmetric_difference == union - intersection
assert set.isdisjoint(intersection, symmetric_difference)
assert len(union) == len(intersection) + len(symmetric_difference)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<iframe
    width="1100"
    height="550"
    src="https://e-quiz.cs.cityu.edu.hk/opt/cs1302visualize.html#mode=display&code=a%2C%20b%20%3D%20%7B1%2C2%7D%2C%20%7B2%2C3%7D%0A%0Aunion%20%3D%20a%20%7C%20b%0Aassert%20all%28i%20in%20union%20for%20i%20in%20a%29%20and%20all%28i%20in%20union%20for%20i%20in%20b%29%0A%0Aintersection%20%3D%20a%20%26%20b%0Aassert%20all%28i%20in%20a%20and%20i%20in%20b%20for%20i%20in%20intersection%29%0A%0Aassert%20intersection%20%3C%3D%20a%20%3C%3D%20union%20%20%23%20subset%0Aassert%20union%20%3E%20b%20%3E%20intersection%20%20%20%20%23%20proper%20superset%0Aassert%20len%28a%29%20%2B%20len%28b%29%20%3D%3D%20len%28intersection%29%20%2B%20len%28union%29%20%0A%0Asymmetric_difference%20%3D%20a%20%5E%20b%0Aassert%20all%28%28i%20in%20a%20or%20i%20in%20b%29%20and%20not%20%28i%20in%20a%20and%20i%20in%20b%29%20%0A%20%20%20%20%20%20%20%20%20%20%20for%20i%20in%20symmetric_difference%29%0Aassert%20symmetric_difference%20%3D%3D%20union%20-%20intersection%0Aassert%20set.isdisjoint%28intersection%2C%20symmetric_difference%29%0Aassert%20len%28union%29%20%3D%3D%20len%28intersection%29%20%2B%20len%28symmetric_difference%29%0A"
    frameborder="0"
    allowfullscreen
></iframe>
</div></div>
</div>
<p>The following uses <code class="docutils literal notranslate"><span class="pre">&amp;</span></code> and <code class="docutils literal notranslate"><span class="pre">-</span></code> to compare the sets of public attributes for <code class="docutils literal notranslate"><span class="pre">set</span></code> and <code class="docutils literal notranslate"><span class="pre">dict</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">set_attributes</span> <span class="o">=</span> <span class="p">{</span><span class="n">attr</span> <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="nb">dir</span><span class="p">(</span><span class="nb">set</span><span class="p">)</span> <span class="k">if</span> <span class="n">attr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;_&#39;</span><span class="p">}</span>
<span class="n">dict_attributes</span> <span class="o">=</span> <span class="p">{</span><span class="n">attr</span> <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="nb">dir</span><span class="p">(</span><span class="nb">dict</span><span class="p">)</span> <span class="k">if</span> <span class="n">attr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;_&#39;</span><span class="p">}</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Common attributes:&#39;</span><span class="p">,</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">set_attributes</span> <span class="o">&amp;</span> <span class="n">dict_attributes</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;dict-specific attributes:&#39;</span><span class="p">,</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">dict_attributes</span> <span class="o">-</span> <span class="n">set_attributes</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;set-specific attributes:&#39;</span><span class="p">,</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">set_attributes</span> <span class="o">-</span> <span class="n">dict_attributes</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Common attributes: copy, clear, update, pop
dict-specific attributes: items, keys, setdefault, fromkeys, values, get, popitem
set-specific attributes: union, intersection, difference_update, symmetric_difference_update, symmetric_difference, issuperset, difference, discard, isdisjoint, remove, issubset, intersection_update, add
</pre></div>
</div>
</div>
</div>
<p>For <code class="docutils literal notranslate"><span class="pre">set</span></code>, the intersection operation <code class="docutils literal notranslate"><span class="pre">&amp;</span></code> can also be performed by</p>
<ul class="simple">
<li><p>the class method <code class="docutils literal notranslate"><span class="pre">intersection</span></code> which returns the intersection of its arguments, and</p></li>
<li><p>the object method <code class="docutils literal notranslate"><span class="pre">intersection_update</span></code> which mutates a set object by intersecting the set with the arguments.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">mytutor</span> -h 300
a = {0,1,2}
b = {1,2,3}
c = set.intersection(a,b,{2,3,4})
a.intersection_update(b,c)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<iframe
    width="1100"
    height="300"
    src="https://e-quiz.cs.cityu.edu.hk/opt/cs1302visualize.html#mode=display&code=a%20%3D%20%7B0%2C1%2C2%7D%0Ab%20%3D%20%7B1%2C2%2C3%7D%0Ac%20%3D%20set.intersection%28a%2Cb%2C%7B2%2C3%2C4%7D%29%0Aa.intersection_update%28b%2Cc%29%0A"
    frameborder="0"
    allowfullscreen
></iframe>
</div></div>
</div>
<ul class="simple">
<li><p>All other set-specific methods have an associated operator except <code class="docutils literal notranslate"><span class="pre">isdisjoint</span></code> as shown below.</p></li>
<li><p>The object method for <code class="docutils literal notranslate"><span class="pre">union</span></code> is <code class="docutils literal notranslate"><span class="pre">update</span></code> not <code class="docutils literal notranslate"><span class="pre">union_update</span></code>.</p></li>
</ul>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>class method</p></th>
<th class="head"><p>object method</p></th>
<th class="head"><p>operator</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">union</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">update</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">\|</span> </code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">intersection</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">intersection_update</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">&amp;</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">symmetric_difference</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">symmetric_difference_update</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">^</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">issubset</span></code></p></td>
<td><p></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">&lt;=</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">issuperset</span></code></p></td>
<td><p></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">&gt;=</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">isdisjoint</span></code></p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
<p><code class="docutils literal notranslate"><span class="pre">dict</span></code> also has an <code class="docutils literal notranslate"><span class="pre">update</span></code> method that can update a dictionary using dictionary, iterables and keyword arguments:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">mytutor</span> -h 300
a = {}
a.update(enumerate(&#39;a&#39;),b=2)
b = a.copy()
a.update(b,c=3)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<iframe
    width="1100"
    height="300"
    src="https://e-quiz.cs.cityu.edu.hk/opt/cs1302visualize.html#mode=display&code=a%20%3D%20%7B%7D%0Aa.update%28enumerate%28%27a%27%29%2Cb%3D2%29%0Ab%20%3D%20a.copy%28%29%0Aa.update%28b%2Cc%3D3%29%0A"
    frameborder="0"
    allowfullscreen
></iframe>
</div></div>
</div>
<p><strong>Exercise</strong> For <code class="docutils literal notranslate"><span class="pre">dict</span></code>, there is also a method called <a class="reference external" href="https://stackoverflow.com/questions/3483520/use-cases-for-the-setdefault-dict-method"><code class="docutils literal notranslate"><span class="pre">setdefault</span></code></a>. Use it to define a function <code class="docutils literal notranslate"><span class="pre">group_by_type</span></code> that</p>
<ul class="simple">
<li><p>takes a sequence <code class="docutils literal notranslate"><span class="pre">seq</span></code> of objects and</p></li>
<li><p>returns a dictionary <code class="docutils literal notranslate"><span class="pre">d</span></code> such that <code class="docutils literal notranslate"><span class="pre">d[repr(t)]</span></code> returns the list of objects in <code class="docutils literal notranslate"><span class="pre">seq</span></code> of type <code class="docutils literal notranslate"><span class="pre">t</span></code></p></li>
</ul>
<p>If there is no objects of type <code class="docutils literal notranslate"><span class="pre">t</span></code>, raise a key error.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">group_by_type</span><span class="p">(</span><span class="n">seq</span><span class="p">):</span>
    <span class="n">group</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">seq</span><span class="p">:</span>
        <span class="c1">### BEGIN SOLUTION</span>
        <span class="n">group</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">i</span><span class="p">)),[])</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
        <span class="c1">### END SOLUTION</span>
    <span class="k">return</span> <span class="n">group</span>

<span class="n">group_by_type</span><span class="p">([</span><span class="o">*</span><span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span>
               <span class="o">*</span><span class="s1">&#39;abc&#39;</span><span class="p">,</span>
               <span class="o">*</span><span class="p">[</span><span class="n">i</span><span class="o">/</span><span class="mi">2</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)],</span>
               <span class="o">*</span><span class="p">[(</span><span class="n">i</span><span class="p">,)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)],</span>
               <span class="o">*</span><span class="p">[[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)],</span>
               <span class="o">*</span><span class="p">[{</span><span class="n">i</span><span class="p">}</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)],</span>
               <span class="o">*</span><span class="p">[{</span><span class="n">i</span><span class="p">:</span><span class="n">i</span><span class="p">}</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)],</span>
               <span class="nb">print</span><span class="p">,</span><span class="nb">hash</span><span class="p">,</span>
               <span class="nb">int</span><span class="p">,</span><span class="nb">str</span><span class="p">,</span><span class="nb">float</span><span class="p">,</span><span class="nb">set</span><span class="p">,</span><span class="nb">dict</span><span class="p">,</span>
               <span class="p">(</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)),</span> 
               <span class="nb">enumerate</span><span class="p">(</span><span class="s1">&#39;abc&#39;</span><span class="p">),</span> 
               <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span>
               <span class="nb">zip</span><span class="p">(),</span>
               <span class="nb">set</span><span class="o">.</span><span class="n">add</span><span class="p">,</span>
               <span class="nb">dict</span><span class="o">.</span><span class="n">copy</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&quot;&lt;class &#39;int&#39;&gt;&quot;: [0, 1, 2],
 &quot;&lt;class &#39;str&#39;&gt;&quot;: [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;],
 &quot;&lt;class &#39;float&#39;&gt;&quot;: [0.0, 0.5, 1.0],
 &quot;&lt;class &#39;tuple&#39;&gt;&quot;: [(0,), (1,), (2,)],
 &quot;&lt;class &#39;list&#39;&gt;&quot;: [[0], [1], [2]],
 &quot;&lt;class &#39;set&#39;&gt;&quot;: [{0}, {1}, {2}],
 &quot;&lt;class &#39;dict&#39;&gt;&quot;: [{0: 0}, {1: 1}, {2: 2}],
 &quot;&lt;class &#39;builtin_function_or_method&#39;&gt;&quot;: [&lt;function print&gt;,
  &lt;function hash(obj, /)&gt;],
 &quot;&lt;class &#39;type&#39;&gt;&quot;: [int, str, float, set, dict],
 &quot;&lt;class &#39;generator&#39;&gt;&quot;: [&lt;generator object &lt;genexpr&gt; at 0x7fc4341da9a8&gt;],
 &quot;&lt;class &#39;enumerate&#39;&gt;&quot;: [&lt;enumerate at 0x7fc4340e47e0&gt;],
 &quot;&lt;class &#39;range&#39;&gt;&quot;: [range(0, 3)],
 &quot;&lt;class &#39;zip&#39;&gt;&quot;: [&lt;zip at 0x7fc4340e36c8&gt;],
 &quot;&lt;class &#39;method_descriptor&#39;&gt;&quot;: [&lt;method &#39;add&#39; of &#39;set&#39; objects&gt;,
  &lt;method &#39;copy&#39; of &#39;dict&#39; objects&gt;]}
</pre></div>
</div>
</div>
</div>
</div>
</div>
<span id="document-Lecture9/Monte Carlo Simulation and Linear Algebra"></span><div class="section" id="monte-carlo-simulation-and-linear-algebra">
<h3>Monte Carlo Simulation and Linear Algebra<a class="headerlink" href="#monte-carlo-simulation-and-linear-algebra" title="Permalink to this headline">¶</a></h3>
<div class="section" id="monte-carlo-simulation">
<h4>Monte Carlo simulation<a class="headerlink" href="#monte-carlo-simulation" title="Permalink to this headline">¶</a></h4>
<p><strong>What is Monte Carlo simulation?</strong></p>
<blockquote>
<div><p>The name Monte Carlo refers to the <a class="reference external" href="https://en.wikipedia.org/wiki/Monte_Carlo_Casino">Monte Carlo Casino in Monaco</a> where Ulam’s uncle would borrow money from relatives to gamble.</p>
</div></blockquote>
<p>It would be nice to simulate the casino, so Ulam’s uncle did not need to borrow money to go.<br />
Actually…,</p>
<ul class="simple">
<li><p>Monte Carlo is the code name of the secret project for creating the <a class="reference external" href="https://en.wikipedia.org/wiki/Monte_Carlo_method">hydrogen bomb</a>.</p></li>
<li><p><a class="reference external" href="https://en.wikipedia.org/wiki/Stanislaw_Ulam">Ulam</a> worked with <a class="reference external" href="https://en.wikipedia.org/wiki/John_von_Neumann">John von Neumann</a> to program the first electronic computer ENIAC to simulate a computational model of a thermonuclear reaction.</p></li>
</ul>
<p>(See also <a class="reference external" href="https://permalink.lanl.gov/object/tr?what=info:lanl-repo/lareport/LA-UR-88-9067">The Beginning of the Monte Carlo Method</a> for a more detailed account.)</p>
<p><strong>How to compute the value of <span class="math notranslate nohighlight">\(\pi\)</span></strong>?</p>
<p>An application of Monte Carlo simulation is in approximating <span class="math notranslate nohighlight">\(\pi\)</span> using
the <a class="reference external" href="https://en.wikipedia.org/wiki/Buffon%27s_needle_problem">Buffon’s needle</a>.<br />
There is <a class="reference external" href="https://www.khanacademy.org/computer-programming/pi-by-buffons-needle/6695500989890560">a program</a> written in javascript to do this.</p>
<p>The javascript program a bit long to digest, so we will use an alternative simulation that is easier to understand/program.</p>
<p>If we uniformly randomly pick a point in a square. What is the chance it is in the inscribed circle, i.e., the biggest circle inside the square?</p>
<p>The chance is the area of the circle divided by the area of the square. Suppose the square has length <span class="math notranslate nohighlight">\(\ell\)</span>, then the chance is</p>
<div class="math notranslate nohighlight">
\[ \frac{\pi (\ell /2)^2}{ (\ell)^2 } = \frac{\pi}4 \]</div>
<p>independent of the length <span class="math notranslate nohighlight">\(\ell\)</span>.</p>
<p><strong>Exercise</strong> Complete the following function to return an approximation of <span class="math notranslate nohighlight">\(\pi\)</span> as follows:</p>
<ol class="simple">
<li><p>Simulate the random process of picking a point from a square repeatedly <code class="docutils literal notranslate"><span class="pre">n</span></code> times by<br />
generating the <span class="math notranslate nohighlight">\(x\)</span> and <span class="math notranslate nohighlight">\(y\)</span> coordinates uniformly randomly from a unit interval <span class="math notranslate nohighlight">\([0,1)\)</span>.</p></li>
<li><p>Compute the fraction of times the point is in the first quadrant of the inscribed circle as shown in the figure below.</p></li>
<li><p>Return <span class="math notranslate nohighlight">\(4\)</span> times the fraction as the approximation.</p></li>
</ol>
<p><a href="https://commons.wikimedia.org/wiki/File:Pi_30K.gif#/media/File:Pi_30K.gif"><img src="https://upload.wikimedia.org/wikipedia/commons/8/84/Pi_30K.gif" alt="Pi 30K.gif"></a></p><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">random</span><span class="o">,</span> <span class="nn">math</span>

<span class="k">def</span> <span class="nf">approximate_pi</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="c1">### BEGIN SOLUTION</span>
     <span class="k">return</span> <span class="mi">4</span><span class="o">*</span><span class="nb">len</span><span class="p">([</span><span class="kc">True</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> 
                   <span class="k">if</span> <span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span><span class="o">**</span><span class="mi">2</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">])</span><span class="o">/</span><span class="n">n</span>
    <span class="c1">### END SOLUTION</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Approximate: </span><span class="si">{</span><span class="n">approximate_pi</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="mf">1e7</span><span class="p">))</span><span class="si">}</span><span class="se">\n</span><span class="s1">Ground truth: </span><span class="si">{</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Approximate: 3.1416368
Ground truth: 3.141592653589793
</pre></div>
</div>
</div>
</div>
<p><strong>How accurate is the approximation?</strong></p>
<p>The following uses a powerful library <code class="docutils literal notranslate"><span class="pre">numpy</span></code> for computing to return a <a class="reference external" href="http://onlinestatbook.com/2/estimation/mean.html#:~:text=To%20compute%20the%2095%25%20confidence,be%20between%20the%20cutoff%20points."><span class="math notranslate nohighlight">\(95\%\)</span>-confidence interval</a>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="k">def</span> <span class="nf">np_approximate_pi</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="n">in_circle</span> <span class="o">=</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">((</span><span class="n">n</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">1</span>
    <span class="n">mean</span> <span class="o">=</span> <span class="mi">4</span> <span class="o">*</span> <span class="n">in_circle</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
    <span class="n">std</span> <span class="o">=</span> <span class="mi">4</span> <span class="o">*</span> <span class="n">in_circle</span><span class="o">.</span><span class="n">std</span><span class="p">()</span> <span class="o">/</span> <span class="n">n</span><span class="o">**</span><span class="mf">0.5</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">mean</span> <span class="o">-</span> <span class="mi">2</span><span class="o">*</span><span class="n">std</span><span class="p">,</span> <span class="n">mean</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">std</span><span class="p">])</span>

<span class="n">interval</span> <span class="o">=</span> <span class="n">np_approximate_pi</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="mf">1e7</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;&#39;&#39;95%-confidence interval: </span><span class="si">{</span><span class="n">interval</span><span class="si">}</span><span class="s1"></span>
<span class="s1">Estimate: </span><span class="si">{</span><span class="n">interval</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="si">:</span><span class="s1">.4f</span><span class="si">}</span><span class="s1"> ± </span><span class="si">{</span><span class="p">(</span><span class="n">interval</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">interval</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">/</span><span class="mi">2</span><span class="si">:</span><span class="s1">.4f</span><span class="si">}</span><span class="s1"></span>
<span class="s1">Ground truth: </span><span class="si">{</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="si">}</span><span class="s1">&#39;&#39;&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>95%-confidence interval: [3.13999475 3.14207245]
Estimate: 3.1410 ± 0.0010
Ground truth: 3.141592653589793
</pre></div>
</div>
</div>
</div>
<p>Note that the computation done using <code class="docutils literal notranslate"><span class="pre">numpy</span></code> is over <span class="math notranslate nohighlight">\(5\)</span> times faster despite the additional computation of the standard deviation.</p>
<p>There are faster methods to approximate <span class="math notranslate nohighlight">\(\pi\)</span> such as the <a class="reference external" href="https://en.wikipedia.org/wiki/Chudnovsky_algorithm">Chudnovsky_algorithm</a>, but Monte-Carlo method is still useful in more complicated situations.<br />
E.g., see the Monte Carlo simulation of a <a class="reference external" href="https://www.youtube.com/watch?v=-fCVxTTAtFQ">real-life situation</a> in playing basketball:</p>
<blockquote>
<div><p>“When down by three and left with only 30 seconds is it better to attempt a hard 3-point shot or an easy 2-point shot and get another possession?”   –LeBron James</p>
</div></blockquote>
</div>
<div class="section" id="linear-algebra">
<h4>Linear Algebra<a class="headerlink" href="#linear-algebra" title="Permalink to this headline">¶</a></h4>
<p><strong>How to solve a linear equation?</strong></p>
<p>Given the following linear equation in variable <span class="math notranslate nohighlight">\(x\)</span> with real-valued coefficient <span class="math notranslate nohighlight">\(a\)</span> and <span class="math notranslate nohighlight">\(b\)</span>,</p>
<div class="math notranslate nohighlight">
\[ a x = b,\]</div>
<p>what is the value of <span class="math notranslate nohighlight">\(x\)</span> that satisfies the equation?</p>
<p><strong>Exercise</strong> Complete the following function to return either the unique solution of <span class="math notranslate nohighlight">\(x\)</span> or <code class="docutils literal notranslate"><span class="pre">None</span></code> if a unique solution does not exist.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">solve_linear_equation</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">):</span>
    <span class="c1">### BEGIN SOLUTION</span>
    <span class="k">return</span> <span class="n">b</span><span class="o">/</span><span class="n">a</span> <span class="k">if</span> <span class="n">a</span> <span class="o">!=</span> <span class="mi">0</span> <span class="k">else</span> <span class="kc">None</span>
    <span class="c1">### END SOLUTION</span>

<span class="kn">import</span> <span class="nn">ipywidgets</span> <span class="k">as</span> <span class="nn">widgets</span>
<span class="nd">@widgets</span><span class="o">.</span><span class="n">interact</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="n">b</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
<span class="k">def</span> <span class="nf">linear_equation_solver</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">3</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;&#39;&#39;linear equation: </span><span class="si">{</span><span class="n">a</span><span class="si">}</span><span class="s1">x = </span><span class="si">{</span><span class="n">b</span><span class="si">}</span><span class="s1"></span>
<span class="s1">       solution: x = </span><span class="si">{</span><span class="n">solve_linear_equation</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;&#39;&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">
{"version_major": 2, "version_minor": 0, "model_id": "e53272d5b8ca44d9ba22249db0107222"}
</script></div>
</div>
<p><strong>How to solve multiple linear equations?</strong></p>
<p>In the general case, we have a system of <span class="math notranslate nohighlight">\(m\)</span> linear equations and <span class="math notranslate nohighlight">\(n\)</span> variables:</p>
<div class="math notranslate nohighlight">
\[\begin{split} \begin{aligned}
a_{00} x_0 + a_{01} x_1 + \dots + a_{0(n-1)} x_{n-1} &amp;= b_0\\
a_{10} x_0 + a_{11} x_1 + \dots + a_{1(n-1)} x_{n-1} &amp;= b_1\\
\vdots\kern2em &amp;= \vdots\\
a_{(m-1)0} x_0 + a_{(m-1)1} x_1 + \dots + a_{(m-1)(n-1)} x_{n-1} &amp;= b_{m-1}\\
\end{aligned}
\end{split}\]</div>
<p>where</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(x_j\)</span> for <span class="math notranslate nohighlight">\(j\in \{0,\dots,n-1\}\)</span> are the variables, and</p></li>
<li><p><span class="math notranslate nohighlight">\(a_{ij}\)</span> and <span class="math notranslate nohighlight">\(b_j\)</span> for <span class="math notranslate nohighlight">\(i\in \{0,\dots,m-1\}\)</span> and <span class="math notranslate nohighlight">\(j\in \{0,\dots,n-1\}\)</span> are the coefficients.</p></li>
</ul>
<p>A fundamental problem in linear algebra is to compute the unique solution to the system if it exists.</p>
<p>We will consider the simpler 2-by-2 system with 2 variables and 2 equations:</p>
<div class="math notranslate nohighlight">
\[\begin{split} \begin{aligned}
a_{00} x_0 + a_{01} x_1 &amp;= b_0\\
a_{10} x_0 + a_{11} x_1 &amp;= b_1.
\end{aligned}
\end{split}\]</div>
<p>To get an idea of the solution, suppose</p>
<div class="math notranslate nohighlight">
\[a_{00}=a_{11}=1, a_{01} = a_{10} = 0.\]</div>
<p>The system of equations become</p>
<div class="math notranslate nohighlight">
\[\begin{split} \begin{aligned}
x_0 \hphantom{+ x_1} &amp;= b_0\\
\hphantom{x_0 +}  x_1 &amp;= b_1,
\end{aligned}
\end{split}\]</div>
<p>which gives the solution directly.</p>
<p>What about <span class="math notranslate nohighlight">\(a_{00}=a_{11}=2\)</span> instead?</p>
<div class="math notranslate nohighlight">
\[\begin{split} \begin{aligned}
2x_0 \hphantom{+ x_1} &amp;= b_0\\
\hphantom{2x_0 +}  2x_1 &amp;= b_1,
\end{aligned}\end{split}\]</div>
<p>To obtain the solution, we simply divide both equations by 2:</p>
<div class="math notranslate nohighlight">
\[\begin{split} \begin{aligned}
x_0 \hphantom{+ x_1} &amp;= \frac{b_0}2\\
\hphantom{x_0 +}  x_1 &amp;= \frac{b_1}2.
\end{aligned}
\end{split}\]</div>
<p>What if <span class="math notranslate nohighlight">\(a_{01}=2\)</span> instead?</p>
<div class="math notranslate nohighlight">
\[\begin{split} \begin{aligned}
2x_0 + 2x_1 &amp;= b_0\\
\hphantom{2x_0 +}  2x_1 &amp;= b_1\\
\end{aligned}
\end{split}\]</div>
<p>The second equation gives the solution of <span class="math notranslate nohighlight">\(x_1\)</span>, and we can use the solution in the first equation to solve for <span class="math notranslate nohighlight">\(x_0\)</span>. More precisely:</p>
<ul class="simple">
<li><p>Subtract the second equation from the first one:</p></li>
</ul>
<div class="math notranslate nohighlight">
\[\begin{split} \begin{aligned}
2x_0 \hphantom{+2x_1} &amp;= b_0 - b_1\\
\hphantom{2x_0 +}  2x_1 &amp;= b_1\\
\end{aligned}
\end{split}\]</div>
<ul class="simple">
<li><p>Divide both equation by 2:</p></li>
</ul>
<div class="math notranslate nohighlight">
\[\begin{split} \begin{aligned}
x_0 \hphantom{+ x_1} &amp;= \frac{b_0 - b_1}2\\
\hphantom{x_0 +}  x_1 &amp;= \frac{b_1}2\\
\end{aligned}
\end{split}\]</div>
<p>The above operations are called <em>row operations</em> in linear algebra: each row is an equation.<br />
A system of linear equations can be solved by the linear operations of</p>
<ol class="simple">
<li><p>multiplying an equation by a constant, and</p></li>
<li><p>subtracting one equation from another.</p></li>
</ol>
<p>How to write a program to solve a general 2-by-2 system? We will use the <code class="docutils literal notranslate"><span class="pre">numpy</span></code> library.</p>
<div class="section" id="creating-numpy-arrays">
<h5>Creating <code class="docutils literal notranslate"><span class="pre">numpy</span></code> arrays<a class="headerlink" href="#creating-numpy-arrays" title="Permalink to this headline">¶</a></h5>
<p><strong>How to store the coefficients?</strong></p>
<p>In linear algebra, a system of equations such as</p>
<div class="math notranslate nohighlight">
\[\begin{split} \begin{aligned}
a_{00} x_0 + a_{01} x_1 &amp;= b_0\\
a_{10} x_0 + a_{11} x_1 &amp;= b_1
\end{aligned}
\end{split}\]</div>
<p>is written concisely in <em>matrix</em> form as <span class="math notranslate nohighlight">\( \mathbf{A} \mathbf{x} = \mathbf{b} \)</span>:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\overbrace{\begin{bmatrix}
a_{00} &amp; a_{01}\\
a_{10} &amp; a_{11}
\end{bmatrix}}^{\mathbf{A}}
\overbrace{
\begin{bmatrix}
x_0\\
x_1
\end{bmatrix}}
^{\mathbf{x}}
= \overbrace{\begin{bmatrix}
b_0\\
b_1
\end{bmatrix}}^{\mathbf{b}},
\end{split}\]</div>
<p>where
<span class="math notranslate nohighlight">\( \mathbf{A} \mathbf{x}\)</span> is the <em>matrix multiplication</em></p>
<div class="math notranslate nohighlight">
\[\begin{split} \mathbf{A} \mathbf{x} = \begin{bmatrix}
a_{00} x_0 + a_{01} x_1\\
a_{10} x_0 + a_{11} x_1
\end{bmatrix}.
\end{split}\]</div>
<p>We say that <span class="math notranslate nohighlight">\(\mathbf{A}\)</span> is a <a class="reference external" href="https://en.wikipedia.org/wiki/Matrix_(mathematics)"><em>matrix</em></a> and its dimension/shape is <span class="math notranslate nohighlight">\(2\)</span>-by-<span class="math notranslate nohighlight">\(2\)</span>:</p>
<ul class="simple">
<li><p>The first dimension/axis has size <span class="math notranslate nohighlight">\(2\)</span>. We also say that the matrix has <span class="math notranslate nohighlight">\(2\)</span> rows.</p></li>
<li><p>The second dimension/axis has size <span class="math notranslate nohighlight">\(2\)</span>. We also say that the matrix has <span class="math notranslate nohighlight">\(2\)</span> columns.
<span class="math notranslate nohighlight">\(\mathbf{x}\)</span> and <span class="math notranslate nohighlight">\(\mathbf{b}\)</span> are called column vectors, which are matrices with one column.</p></li>
</ul>
<p>Consider the example
$<span class="math notranslate nohighlight">\( \begin{aligned}
2x_0 + 2x_1 &amp;= 1\\
\hphantom{2x_0 +}  2x_1 &amp;= 1,
\end{aligned}\)</span><span class="math notranslate nohighlight">\(
or in matrix form with
\)</span><span class="math notranslate nohighlight">\( \begin{aligned}
\mathbf{A}&amp;=\begin{bmatrix}
a_{00} &amp; a_{01} \\
a_{10} &amp; a_{11} 
\end{bmatrix} 
= \begin{bmatrix}
2 &amp; 2 \\
0 &amp; 2 
\end{bmatrix}\\
\mathbf{b}&amp;=\begin{bmatrix}
b_0\\
b_1
\end{bmatrix} = \begin{bmatrix}
1\\
1
\end{bmatrix}\end{aligned}\)</span>$</p>
<p>Instead of using <code class="docutils literal notranslate"><span class="pre">list</span></code> to store the matrix, we will use a <code class="docutils literal notranslate"><span class="pre">numpy</span></code> array.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">2.</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">]])</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">1.</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="n">A</span><span class="p">,</span> <span class="n">b</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(array([[2., 2.],
        [0., 2.]]),
 array([1., 1.]))
</pre></div>
</div>
</div>
</div>
<p>Compared to <code class="docutils literal notranslate"><span class="pre">list</span></code>, <code class="docutils literal notranslate"><span class="pre">numpy</span></code> array is often more efficient and has more useful attributes.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">array_attributes</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">attr</span> <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="nb">dir</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([]))</span> <span class="k">if</span> <span class="n">attr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">!=</span><span class="s1">&#39;_&#39;</span><span class="p">)</span>
<span class="n">list_attributes</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">attr</span> <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="nb">dir</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span> <span class="k">if</span> <span class="n">attr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">!=</span><span class="s1">&#39;_&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Common attributes:</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span><span class="o">*</span><span class="p">(</span><span class="n">array_attributes</span> <span class="o">&amp;</span> <span class="n">list_attributes</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Array-specific attributes:</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="o">*</span><span class="p">(</span><span class="n">array_attributes</span> <span class="o">-</span> <span class="n">list_attributes</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">List-specific attributes:</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span><span class="o">*</span><span class="p">(</span><span class="n">list_attributes</span> <span class="o">-</span> <span class="n">array_attributes</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Common attributes:
 sort copy

Array-specific attributes:
 size squeeze mean strides data dtype itemset repeat take choose getfield item nbytes view argsort byteswap round real flatten tobytes flat all tofile dumps diagonal tolist flags reshape partition setfield cumsum argmin tostring base cumprod ctypes any shape min fill argpartition ndim ptp ravel setflags prod put compress dump clip max var resize conjugate sum nonzero swapaxes dot transpose std astype newbyteorder itemsize T trace imag searchsorted conj argmax

List-specific attributes:
 remove reverse clear pop extend append insert index count
</pre></div>
</div>
</div>
</div>
<p>The following attributes give the dimension/shape, number of dimensions, size, and datatype.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">array</span> <span class="ow">in</span> <span class="n">A</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;&#39;&#39;</span><span class="si">{</span><span class="n">array</span><span class="si">}</span><span class="s1"></span>
<span class="s1">    shape: </span><span class="si">{</span><span class="n">array</span><span class="o">.</span><span class="n">shape</span><span class="si">}</span><span class="s1"></span>
<span class="s1">    ndim: </span><span class="si">{</span><span class="n">array</span><span class="o">.</span><span class="n">ndim</span><span class="si">}</span><span class="s1"></span>
<span class="s1">    size: </span><span class="si">{</span><span class="n">array</span><span class="o">.</span><span class="n">size</span><span class="si">}</span><span class="s1"></span>
<span class="s1">    dtype: </span><span class="si">{</span><span class="n">array</span><span class="o">.</span><span class="n">dtype</span><span class="si">}</span><span class="s1"></span>
<span class="s1">    &#39;&#39;&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[[2. 2.]
 [0. 2.]]
    shape: (2, 2)
    ndim: 2
    size: 4
    dtype: float64
    
[1. 1.]
    shape: (2,)
    ndim: 1
    size: 2
    dtype: float64
    
</pre></div>
</div>
</div>
</div>
<p>Note that the function <code class="docutils literal notranslate"><span class="pre">len</span></code> only returns the size of the first dimension:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">assert</span> <span class="n">A</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="nb">len</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2
</pre></div>
</div>
</div>
</div>
<p>Unlike <code class="docutils literal notranslate"><span class="pre">list</span></code>, every <code class="docutils literal notranslate"><span class="pre">numpy</span></code> array has a data type. For efficient computation/storage, numpy implements different data types with different storage sizes:</p>
<ul class="simple">
<li><p>integer: <code class="docutils literal notranslate"><span class="pre">int8</span></code>, <code class="docutils literal notranslate"><span class="pre">int16</span></code>, <code class="docutils literal notranslate"><span class="pre">int32</span></code>, <code class="docutils literal notranslate"><span class="pre">int64</span></code>, <code class="docutils literal notranslate"><span class="pre">uint8</span></code>, …</p></li>
<li><p>float: <code class="docutils literal notranslate"><span class="pre">float16</span></code>, <code class="docutils literal notranslate"><span class="pre">float32</span></code>, <code class="docutils literal notranslate"><span class="pre">float64</span></code>, …</p></li>
<li><p>complex: <code class="docutils literal notranslate"><span class="pre">complex64</span></code>, <code class="docutils literal notranslate"><span class="pre">complex128</span></code>, …</p></li>
<li><p>boolean: <code class="docutils literal notranslate"><span class="pre">bool8</span></code></p></li>
<li><p>Unicode: <code class="docutils literal notranslate"><span class="pre">string</span></code></p></li>
<li><p>Object: <code class="docutils literal notranslate"><span class="pre">object</span></code></p></li>
</ul>
<p>E.g., <code class="docutils literal notranslate"><span class="pre">int64</span></code> is the 64-bit integer. Unlike <code class="docutils literal notranslate"><span class="pre">int</span></code>, <code class="docutils literal notranslate"><span class="pre">int64</span></code> has a range.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>np.int64<span class="o">?</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;range: </span><span class="si">{</span><span class="n">np</span><span class="o">.</span><span class="n">int64</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="o">**</span><span class="mi">63</span><span class="p">)</span><span class="si">}</span><span class="s1"> to </span><span class="si">{</span><span class="n">np</span><span class="o">.</span><span class="n">int64</span><span class="p">(</span><span class="mi">2</span><span class="o">**</span><span class="mi">63</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">np</span><span class="o">.</span><span class="n">int64</span><span class="p">(</span><span class="mi">2</span><span class="o">**</span><span class="mi">63</span><span class="p">)</span>   <span class="c1"># overflow error</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>range: -9223372036854775808 to 9223372036854775807
</pre></div>
</div>
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">OverflowError</span><span class="g g-Whitespace">                             </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">9</span><span class="o">-</span><span class="n">b5ecbde7f9e9</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="n">get_ipython</span><span class="p">()</span><span class="o">.</span><span class="n">run_line_magic</span><span class="p">(</span><span class="s1">&#39;pinfo&#39;</span><span class="p">,</span> <span class="s1">&#39;np.int64&#39;</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;range: </span><span class="si">{</span><span class="n">np</span><span class="o">.</span><span class="n">int64</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="o">**</span><span class="mi">63</span><span class="p">)</span><span class="si">}</span><span class="s1"> to </span><span class="si">{</span><span class="n">np</span><span class="o">.</span><span class="n">int64</span><span class="p">(</span><span class="mi">2</span><span class="o">**</span><span class="mi">63</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="ne">----&gt; </span><span class="mi">3</span> <span class="n">np</span><span class="o">.</span><span class="n">int64</span><span class="p">(</span><span class="mi">2</span><span class="o">**</span><span class="mi">63</span><span class="p">)</span>   <span class="c1"># overflow error</span>

<span class="ne">OverflowError</span>: Python int too large to convert to C long
</pre></div>
</div>
</div>
</div>
<p>We can use the <code class="docutils literal notranslate"><span class="pre">astype</span></code> method to convert the data type:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">A_int64</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>       <span class="c1"># converts to int64 by default</span>
<span class="n">A_float32</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>  <span class="c1"># converts to float32</span>
<span class="k">for</span> <span class="n">array</span> <span class="ow">in</span> <span class="n">A_int64</span><span class="p">,</span> <span class="n">A_float32</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">array</span><span class="p">,</span> <span class="n">array</span><span class="o">.</span><span class="n">dtype</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[[2 2]
 [0 2]] int64
[[2. 2.]
 [0. 2.]] float32
</pre></div>
</div>
</div>
</div>
<p>We have to be careful about assigning items of different types to an array.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">A_int64</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="nb">print</span><span class="p">(</span><span class="n">A_int64</span><span class="p">)</span>
<span class="n">A_int64</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.5</span>
<span class="nb">print</span><span class="p">(</span><span class="n">A_int64</span><span class="p">)</span>                <span class="c1"># intended assignment fails</span>
<span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="nb">int</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="nb">float</span><span class="p">(</span><span class="mi">1</span><span class="p">)])</span>  <span class="c1"># will be all floating point numbers</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[[1 2]
 [0 2]]
[[0 2]
 [0 2]]
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([1., 1.])
</pre></div>
</div>
</div>
</div>
<p><strong>Exercise</strong> Create a heterogeneous numpy array to store both integer and strings:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p><em>Hint:</em> There is an numpy data type called <code class="docutils literal notranslate"><span class="pre">object</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>np.object<span class="o">?</span>
<span class="c1">### BEGIN SOLUTION</span>
<span class="n">heterogeneous_np_array</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">*</span><span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span><span class="o">*</span><span class="s1">&#39;abc&#39;</span><span class="p">],</span><span class="n">dtype</span><span class="o">=</span><span class="nb">object</span><span class="p">)</span>
<span class="c1">### END SOLUTION</span>
<span class="n">heterogeneous_np_array</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([0, 1, 2, &#39;a&#39;, &#39;b&#39;, &#39;c&#39;], dtype=object)
</pre></div>
</div>
</div>
</div>
<p>Be careful when creating arrays of <code class="docutils literal notranslate"><span class="pre">tuple</span></code>/<code class="docutils literal notranslate"><span class="pre">list</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">array</span> <span class="ow">in</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">]],</span><span class="n">dtype</span><span class="o">=</span><span class="nb">object</span><span class="p">),</span>
              <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]],</span><span class="n">dtype</span><span class="o">=</span><span class="nb">object</span><span class="p">)):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">array</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">shape:&#39;</span><span class="p">,</span> <span class="n">array</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="s1">&#39;length:&#39;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">array</span><span class="p">),</span> <span class="s1">&#39;size:&#39;</span><span class="p">,</span> <span class="n">array</span><span class="o">.</span><span class="n">size</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[(1, 2) list([3, 4, 5])] 
shape: (2,) length: 2 size: 2
[[1 2]
 [3 4]] 
shape: (2, 2) length: 2 size: 4
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">numpy</span></code> provides many functions to create an array:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>np.zeros<span class="o">?</span>
<span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>  <span class="c1"># Dimension can be higher than 2</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(array([], dtype=float64),
 array([0.]),
 array([[[0., 0., 0., 0.],
         [0., 0., 0., 0.],
         [0., 0., 0., 0.]],
 
        [[0., 0., 0., 0.],
         [0., 0., 0., 0.],
         [0., 0., 0., 0.]]]))
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>np.ones<span class="o">?</span>
<span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">)</span>  <span class="c1"># initialize values to int 1</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(array([], dtype=int64),
 array([[[1, 1, 1, 1],
         [1, 1, 1, 1],
         [1, 1, 1, 1]],
 
        [[1, 1, 1, 1],
         [1, 1, 1, 1],
         [1, 1, 1, 1]]]))
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>np.eye<span class="o">?</span>
<span class="n">np</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>  <span class="c1"># identity matrices</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(array([], shape=(0, 0), dtype=float64),
 array([[1.]]),
 array([[1., 0.],
        [0., 1.]]),
 array([[1., 0., 0.],
        [0., 1., 0.],
        [0., 0., 1.]]))
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>np.diag<span class="o">?</span>
<span class="n">np</span><span class="o">.</span><span class="n">diag</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">)),</span> <span class="n">np</span><span class="o">.</span><span class="n">diag</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">)),</span> <span class="n">np</span><span class="o">.</span><span class="n">diag</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span><span class="n">k</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># diagonal matrices</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(array([[0]]),
 array([[0, 0],
        [0, 1]]),
 array([[0., 1., 0., 0.],
        [0., 0., 1., 0.],
        [0., 0., 0., 1.],
        [0., 0., 0., 0.]]))
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>np.empty<span class="o">?</span>
<span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">)</span>  <span class="c1"># create array faster without initialization</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(array([], dtype=float64),
 array([[[ 94329707910272,               0, 139821503778352,
          139821501381800],
         [139821389842840, 139821389842896, 139821491668656,
          139821405629048],
         [139821405629664, 139821405629720, 139821405629440,
          139821474286312]],
 
        [[139821405637168, 139821389758256, 139821491446816,
          139821389758320],
         [139821501983408, 139821405643056, 139821491660816,
          139821405631736],
         [139821405637488, 139821389757808, 139821389758000,
          139821414459856]]]))
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">numpy</span></code> also provides functions to build an array using rules.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>np.arange<span class="o">?</span>
<span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">4.5</span><span class="p">,</span><span class="mf">5.5</span><span class="p">,</span><span class="mf">0.5</span><span class="p">)</span>  <span class="c1"># like range but allow non-integer parameters</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(array([0, 1, 2, 3, 4]), array([4]), array([4.5, 5. ]))
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>np.linspace<span class="o">?</span>
<span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">11</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">11</span><span class="p">)</span>  <span class="c1"># can specify number of points instead of step</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(array([4.        , 4.02040816, 4.04081633, 4.06122449, 4.08163265,
        4.10204082, 4.12244898, 4.14285714, 4.16326531, 4.18367347,
        4.20408163, 4.2244898 , 4.24489796, 4.26530612, 4.28571429,
        4.30612245, 4.32653061, 4.34693878, 4.36734694, 4.3877551 ,
        4.40816327, 4.42857143, 4.44897959, 4.46938776, 4.48979592,
        4.51020408, 4.53061224, 4.55102041, 4.57142857, 4.59183673,
        4.6122449 , 4.63265306, 4.65306122, 4.67346939, 4.69387755,
        4.71428571, 4.73469388, 4.75510204, 4.7755102 , 4.79591837,
        4.81632653, 4.83673469, 4.85714286, 4.87755102, 4.89795918,
        4.91836735, 4.93877551, 4.95918367, 4.97959184, 5.        ]),
 array([4. , 4.1, 4.2, 4.3, 4.4, 4.5, 4.6, 4.7, 4.8, 4.9, 5. ]),
 array([4. , 4.1, 4.2, 4.3, 4.4, 4.5, 4.6, 4.7, 4.8, 4.9, 5. ]))
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>np.fromfunction<span class="o">?</span>
<span class="n">np</span><span class="o">.</span><span class="n">fromfunction</span><span class="p">(</span><span class="k">lambda</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">:</span> <span class="n">i</span> <span class="o">*</span> <span class="n">j</span><span class="p">,</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>  <span class="c1"># can initialize using a function</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([[0., 0., 0., 0.],
       [0., 1., 2., 3.],
       [0., 2., 4., 6.]])
</pre></div>
</div>
</div>
</div>
<p>We can also reshape an array using the <code class="docutils literal notranslate"><span class="pre">reshape</span></code> method/function:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">array</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="mi">3</span><span class="o">*</span><span class="mi">4</span><span class="p">)</span>
array.reshape<span class="o">?</span>
<span class="p">(</span><span class="n">array</span><span class="p">,</span> 
 <span class="n">array</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span>      <span class="c1"># last axis index changes fastest</span>
 <span class="n">array</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span>     <span class="c1"># size of last axis calculated automatically</span>
 <span class="n">array</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span> <span class="n">order</span><span class="o">=</span><span class="s1">&#39;F&#39;</span><span class="p">))</span> <span class="c1"># first axis index changes fastest</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(array([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16,
        17, 18, 19, 20, 21, 22, 23]),
 array([[[ 0,  1,  2,  3],
         [ 4,  5,  6,  7],
         [ 8,  9, 10, 11]],
 
        [[12, 13, 14, 15],
         [16, 17, 18, 19],
         [20, 21, 22, 23]]]),
 array([[[ 0,  1,  2,  3],
         [ 4,  5,  6,  7],
         [ 8,  9, 10, 11]],
 
        [[12, 13, 14, 15],
         [16, 17, 18, 19],
         [20, 21, 22, 23]]]),
 array([[[ 0,  6, 12, 18],
         [ 2,  8, 14, 20],
         [ 4, 10, 16, 22]],
 
        [[ 1,  7, 13, 19],
         [ 3,  9, 15, 21],
         [ 5, 11, 17, 23]]]))
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">flatten</span></code> is a special case of reshaping an array to one dimension.<br />
(Indeed, <code class="docutils literal notranslate"><span class="pre">flatten</span></code> returns a copy of the array but <code class="docutils literal notranslate"><span class="pre">reshape</span></code> returns a dynamic view whenever possible.)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">array</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="mi">3</span><span class="o">*</span><span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
<span class="n">array</span><span class="p">,</span> <span class="n">array</span><span class="o">.</span><span class="n">flatten</span><span class="p">(),</span> <span class="n">array</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="n">array</span><span class="o">.</span><span class="n">flatten</span><span class="p">(</span><span class="n">order</span><span class="o">=</span><span class="s1">&#39;F&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(array([[[ 0,  1,  2,  3],
         [ 4,  5,  6,  7],
         [ 8,  9, 10, 11]],
 
        [[12, 13, 14, 15],
         [16, 17, 18, 19],
         [20, 21, 22, 23]]]),
 array([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16,
        17, 18, 19, 20, 21, 22, 23]),
 array([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16,
        17, 18, 19, 20, 21, 22, 23]),
 array([ 0, 12,  4, 16,  8, 20,  1, 13,  5, 17,  9, 21,  2, 14,  6, 18, 10,
        22,  3, 15,  7, 19, 11, 23]))
</pre></div>
</div>
</div>
</div>
<p><strong>Exercise</strong> Correct the following function to print every element of an array line-by-line.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">print_array_entries_line_by_line</span><span class="p">(</span><span class="n">array</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">array</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</pre></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">print_array_entries_line_by_line</span><span class="p">(</span><span class="n">array</span><span class="p">):</span>
    <span class="c1">### BEGIN SOLUTION</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">array</span><span class="o">.</span><span class="n">flatten</span><span class="p">():</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="c1">### END SOLUTION</span>
    
<span class="n">print_array_entries_line_by_line</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="mi">3</span><span class="o">*</span><span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="operating-on-numpy-arrays">
<h5>Operating on <code class="docutils literal notranslate"><span class="pre">numpy</span></code> arrays<a class="headerlink" href="#operating-on-numpy-arrays" title="Permalink to this headline">¶</a></h5>
<p><strong>How to verify the solution of a system of linear equations?</strong></p>
<p>Before solving the system of linear equations, let us try to verify a solution to the equations:</p>
<div class="math notranslate nohighlight">
\[\begin{split} \begin{aligned}
2x_0 + 2x_1 &amp;= 1\\
\hphantom{2x_0 +}  2x_1 &amp;= 1
\end{aligned}
\end{split}\]</div>
<p><code class="docutils literal notranslate"><span class="pre">numpy</span></code> provides the function <code class="docutils literal notranslate"><span class="pre">matmul</span></code> and the operator <code class="docutils literal notranslate"><span class="pre">&#64;</span></code> for matrix multiplication.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">matmul</span><span class="p">(</span><span class="n">A</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]))</span> <span class="o">==</span> <span class="n">b</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">A</span> <span class="o">@</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.5</span><span class="p">])</span> <span class="o">==</span> <span class="n">b</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[False False]
[ True  True]
</pre></div>
</div>
</div>
</div>
<p>Note that the comparison on <code class="docutils literal notranslate"><span class="pre">numpy</span></code> arrays returns a boolean array instead of a boolean value, unlike the comparison operations on lists.</p>
<p>To check whether all items are true, we use the <code class="docutils literal notranslate"><span class="pre">all</span></code> method.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">((</span><span class="n">np</span><span class="o">.</span><span class="n">matmul</span><span class="p">(</span><span class="n">A</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]))</span> <span class="o">==</span> <span class="n">b</span><span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">())</span>
<span class="nb">print</span><span class="p">((</span><span class="n">A</span> <span class="o">@</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.5</span><span class="p">])</span> <span class="o">==</span> <span class="n">b</span><span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>False
True
</pre></div>
</div>
</div>
</div>
<p><strong>How to concatenate arrays?</strong></p>
<p>We will operate on an augmented matrix of the coefficients:</p>
<div class="math notranslate nohighlight">
\[\begin{split} \begin{aligned} \mathbf{C} &amp;= \begin{bmatrix}
\mathbf{A} &amp; \mathbf{b}
\end{bmatrix}\\
&amp;= \begin{bmatrix}
a_{00} &amp; a_{01} &amp; b_0 \\
a_{10} &amp; a_{11} &amp; b_1
\end{bmatrix} 
\end{aligned}
\end{split}\]</div>
<p><code class="docutils literal notranslate"><span class="pre">numpy</span></code> provides functions to create block matrices:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>np.block<span class="o">?</span>
<span class="n">C</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">block</span><span class="p">([</span><span class="n">A</span><span class="p">,</span><span class="n">b</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)])</span>  <span class="c1"># reshape to ensure same ndim</span>
<span class="n">C</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([[2., 2., 1.],
       [0., 2., 1.]])
</pre></div>
</div>
</div>
</div>
<p>To stack an array along different axes:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">array</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="o">*</span><span class="mi">2</span><span class="o">*</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="k">for</span> <span class="n">concat_array</span> <span class="ow">in</span> <span class="p">[</span><span class="n">array</span><span class="p">,</span>
                     <span class="n">np</span><span class="o">.</span><span class="n">hstack</span><span class="p">((</span><span class="n">array</span><span class="p">,</span><span class="n">array</span><span class="p">)),</span>   <span class="c1"># stack along the first axis</span>
                     <span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">((</span><span class="n">array</span><span class="p">,</span><span class="n">array</span><span class="p">)),</span>                  <span class="c1"># second axis</span>
                     <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">((</span><span class="n">array</span><span class="p">,</span><span class="n">array</span><span class="p">),</span> <span class="n">axis</span><span class="o">=-</span><span class="mi">1</span><span class="p">),</span>    <span class="c1"># last axis</span>
                     <span class="n">np</span><span class="o">.</span><span class="n">stack</span><span class="p">((</span><span class="n">array</span><span class="p">,</span><span class="n">array</span><span class="p">),</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)]:</span>          <span class="c1"># new axis</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">concat_array</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">shape:&#39;</span><span class="p">,</span> <span class="n">concat_array</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[[[0 1 2]
  [3 4 5]]] 
shape: (1, 2, 3)
[[[0 1 2]
  [3 4 5]
  [0 1 2]
  [3 4 5]]] 
shape: (1, 4, 3)
[[[0 1 2]
  [3 4 5]]

 [[0 1 2]
  [3 4 5]]] 
shape: (2, 2, 3)
[[[0 1 2 0 1 2]
  [3 4 5 3 4 5]]] 
shape: (1, 2, 6)
[[[[0 1 2]
   [3 4 5]]]


 [[[0 1 2]
   [3 4 5]]]] 
shape: (2, 1, 2, 3)
</pre></div>
</div>
</div>
</div>
<p><strong>How to perform arithmetic operations on a <code class="docutils literal notranslate"><span class="pre">numpy</span></code> array?</strong></p>
<p>To divide all the coefficients by <span class="math notranslate nohighlight">\(2\)</span>, we can simply write:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">D</span> <span class="o">=</span> <span class="n">C</span> <span class="o">/</span> <span class="mi">2</span>
<span class="n">D</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([[1. , 1. , 0.5],
       [0. , 1. , 0.5]])
</pre></div>
</div>
</div>
</div>
<p>Note that the above does not work for <code class="docutils literal notranslate"><span class="pre">list</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">C</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span> <span class="o">/</span> <span class="mi">2</span> <span class="c1"># deep convert to list</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">TypeError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">30</span><span class="o">-</span><span class="mi">7</span><span class="n">f30faff9f2c</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">C</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span> <span class="o">/</span> <span class="mi">2</span> <span class="c1"># deep convert to list</span>

<span class="ne">TypeError</span>: unsupported operand type(s) for /: &#39;list&#39; and &#39;int&#39;
</pre></div>
</div>
</div>
</div>
<p>Arithmetic operations on <code class="docutils literal notranslate"><span class="pre">numpy</span></code> arrays apply if the arrays have compatible dimensions. Two dimensions are compatible when</p>
<ul class="simple">
<li><p>they are equal, except for</p></li>
<li><p>components equal to 1.</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">numpy</span></code> uses <a class="reference external" href="https://numpy.org/doc/stable/user/basics.broadcasting.html#general-broadcasting-rules">broadcasting rules</a> to stretch the axis of size 1 up to match the corresponding axis in other arrays.<br />
<code class="docutils literal notranslate"><span class="pre">C</span> <span class="pre">/</span> <span class="pre">2</span></code> is a example where the second operand <span class="math notranslate nohighlight">\(2\)</span> is broadcasted to a <span class="math notranslate nohighlight">\(2\)</span>-by-<span class="math notranslate nohighlight">\(2\)</span> matrix before the elementwise division. Another example is as follows.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">three_by_one</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="n">one_by_four</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;&#39;&#39;</span>
<span class="si">{</span><span class="n">three_by_one</span><span class="si">}</span><span class="s1"></span>
<span class="s1">*</span>
<span class="si">{</span><span class="n">one_by_four</span><span class="si">}</span><span class="s1"></span>
<span class="s1">==</span>
<span class="si">{</span><span class="n">three_by_one</span> <span class="o">*</span> <span class="n">one_by_four</span><span class="si">}</span><span class="s1"></span>
<span class="s1">&#39;&#39;&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[[0]
 [1]
 [2]]
*
[[0 1 2 3]]
==
[[0 0 0 0]
 [0 1 2 3]
 [0 2 4 6]]
</pre></div>
</div>
</div>
</div>
<p>Next, to subtract the second row of the coefficients from the first row:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">D</span><span class="p">[</span><span class="mi">0</span><span class="p">,:]</span> <span class="o">=</span> <span class="n">D</span><span class="p">[</span><span class="mi">0</span><span class="p">,:]</span> <span class="o">-</span> <span class="n">D</span><span class="p">[</span><span class="mi">1</span><span class="p">,:]</span>
<span class="n">D</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([[1. , 0. , 0. ],
       [0. , 1. , 0.5]])
</pre></div>
</div>
</div>
</div>
<p>Notice the use of commas to index different dimensions instead of using multiple brackets:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">assert</span> <span class="p">(</span><span class="n">D</span><span class="p">[</span><span class="mi">0</span><span class="p">][:]</span> <span class="o">==</span> <span class="n">D</span><span class="p">[</span><span class="mi">0</span><span class="p">,:])</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>Using this indexing technique, it is easy extract the last column as the solution to the system of linear equations:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">D</span><span class="p">[:,</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">x</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([0. , 0.5])
</pre></div>
</div>
</div>
</div>
<p>This gives the desired solution <span class="math notranslate nohighlight">\(x_0=0\)</span> and <span class="math notranslate nohighlight">\(x_1=0.5\)</span> for
$<span class="math notranslate nohighlight">\( \begin{aligned}
2x_0 + 2x_1 &amp;= 1\\
\hphantom{2x_0 +}  2x_1 &amp;= 1\\
\end{aligned}\)</span>$</p>
<p><code class="docutils literal notranslate"><span class="pre">numpy</span></code> provides many <a class="reference external" href="https://numpy.org/doc/stable/reference/arrays.indexing.html#advanced-indexing">convenient ways</a> to index an array.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="n">B</span><span class="p">,</span> <span class="n">B</span><span class="p">[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">)]</span>  <span class="c1"># selecting the corners using integer array</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(array([[0, 1, 2],
        [3, 4, 5]]),
 array([2, 3]))
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="mi">3</span><span class="o">*</span><span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
<span class="n">B</span><span class="p">,</span> <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)],</span> <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)],</span> <span class="n">B</span><span class="p">[:,(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)]</span>  <span class="c1"># pay attention to the last two cases</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(array([[[ 0,  1,  2,  3],
         [ 4,  5,  6,  7],
         [ 8,  9, 10, 11]],
 
        [[12, 13, 14, 15],
         [16, 17, 18, 19],
         [20, 21, 22, 23]]]),
 array([[ 0,  1,  2,  3],
        [ 4,  5,  6,  7],
        [ 8,  9, 10, 11]]),
 array([[ 4,  5,  6,  7],
        [ 8,  9, 10, 11]]),
 array([ 6, 11]),
 array([[ 6, 11],
        [18, 23]]))
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">assert</span> <span class="p">(</span><span class="n">B</span><span class="p">[</span><span class="o">...</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">B</span><span class="p">[:,:,</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
<span class="n">B</span><span class="p">[</span><span class="o">...</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>  <span class="c1"># ... expands to selecting all elements of all previous dimensions</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([[ 3,  7, 11],
       [15, 19, 23]])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">B</span><span class="p">[</span><span class="n">B</span><span class="o">&gt;</span><span class="mi">5</span><span class="p">]</span>  <span class="c1"># indexing using boolean array</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([ 6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22,
       23])
</pre></div>
</div>
</div>
</div>
<p>Finally, the following function solves a system of 2 linear equations with 2 variables.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">solve_2_by_2_system</span><span class="p">(</span><span class="n">A</span><span class="p">,</span><span class="n">b</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Returns the unique solution of the linear system, if exists, </span>
<span class="sd">    else returns None.&#39;&#39;&#39;</span>
    <span class="n">C</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">hstack</span><span class="p">((</span><span class="n">A</span><span class="p">,</span><span class="n">b</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)))</span>
    <span class="k">if</span> <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> <span class="n">C</span> <span class="o">=</span> <span class="n">C</span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">),:]</span>
    <span class="k">if</span> <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> <span class="k">return</span> <span class="kc">None</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,:]</span> <span class="o">=</span> <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,:]</span> <span class="o">/</span> <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,:]</span> <span class="o">=</span> <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,:]</span> <span class="o">-</span> <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,:]</span> <span class="o">*</span> <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> <span class="k">return</span> <span class="kc">None</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,:]</span> <span class="o">=</span> <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,:]</span> <span class="o">/</span> <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,:]</span> <span class="o">=</span> <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,:]</span> <span class="o">-</span> <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,:]</span> <span class="o">*</span> <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">C</span><span class="p">[:,</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># tests</span>
<span class="k">for</span> <span class="n">A</span> <span class="ow">in</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span>
          <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">)),</span>
          <span class="n">np</span><span class="o">.</span><span class="n">stack</span><span class="p">((</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">2</span><span class="p">))),</span>
          <span class="n">np</span><span class="o">.</span><span class="n">stack</span><span class="p">((</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">2</span><span class="p">)),</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;A=</span><span class="si">{</span><span class="n">A</span><span class="si">}</span><span class="se">\n</span><span class="s1">b=</span><span class="si">{</span><span class="n">b</span><span class="si">}</span><span class="se">\n</span><span class="s1">x=</span><span class="si">{</span><span class="n">solve_2_by_2_system</span><span class="p">(</span><span class="n">A</span><span class="p">,</span><span class="n">b</span><span class="p">)</span><span class="si">}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>A=[[1. 0.]
 [0. 1.]]
b=[1. 1.]
x=[1. 1.]

A=[[1. 1.]
 [1. 1.]]
b=[1. 1.]
x=None

A=[[1. 1.]
 [0. 0.]]
b=[1. 1.]
x=None

A=[[1. 0.]
 [1. 0.]]
b=[1. 1.]
x=None
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="universal-functions">
<h5>Universal functions<a class="headerlink" href="#universal-functions" title="Permalink to this headline">¶</a></h5>
<p>Why does the first line of code below return two arrays but the second code return only one array? Shouldn’t the first line of code return the following?</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">)],</span>
       <span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">)]])</span>
</pre></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">fromfunction</span><span class="p">(</span><span class="k">lambda</span> <span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">:(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">fromfunction</span><span class="p">(</span><span class="k">lambda</span> <span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">:(</span><span class="n">i</span><span class="o">*</span><span class="n">j</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(array([[0, 0, 0],
       [1, 1, 1]]), array([[0, 1, 2],
       [0, 1, 2]]))
[[0 0 0]
 [0 1 2]]
</pre></div>
</div>
</div>
</div>
<p>From the documentation, <code class="docutils literal notranslate"><span class="pre">fromfunction</span></code> applies the given function to the two arrays as arguments.</p>
<ul class="simple">
<li><p>The first line of code returns a tuple of the arrays.</p></li>
<li><p>The second line of code multiplies the two arrays to give one array, according to how multiplication works for numpy arrays.</p></li>
</ul>
<p>Indeed, <code class="docutils literal notranslate"><span class="pre">numpy</span></code> implements <a class="reference external" href="https://numpy.org/doc/stable/reference/ufuncs.html">universal/vectorized functions/operators</a> that take arrays as arguments and perform operations with appropriate broadcasting rules. The following is an example that uses the universal function <code class="docutils literal notranslate"><span class="pre">np.sin</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="nd">@widgets</span><span class="o">.</span><span class="n">interact</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="n">b</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mf">0.1</span><span class="p">))</span>
<span class="k">def</span> <span class="nf">plot_sin</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">b</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="o">*</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">a</span><span class="o">*</span><span class="n">x</span><span class="o">+</span><span class="n">b</span><span class="o">*</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="p">))</span>  <span class="c1"># np.sin, *, + are universal functions</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;$\sin(ax+b\pi)$&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;$x$ (radian)&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">
{"version_major": 2, "version_minor": 0, "model_id": "9bfafbbedda84442b1b7ef7d5f4e3403"}
</script></div>
</div>
<p>In addition to making the code shorter, universal functions are both efficient and flexible. (Recall the Monte Carlo simulation to approximate <span class="math notranslate nohighlight">\(\pi\)</span>.)</p>
<p><strong>Exercise</strong> Explain how the Monte Carlo simulation work using universal functions:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">np_approximate_pi</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="n">in_circle</span> <span class="o">=</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">((</span><span class="n">n</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">1</span>
    <span class="n">mean</span> <span class="o">=</span> <span class="mi">4</span> <span class="o">*</span> <span class="n">in_circle</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
    <span class="n">std</span> <span class="o">=</span> <span class="mi">4</span> <span class="o">*</span> <span class="n">in_circle</span><span class="o">.</span><span class="n">std</span><span class="p">()</span> <span class="o">/</span> <span class="n">n</span><span class="o">**</span><span class="mf">0.5</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">mean</span> <span class="o">-</span> <span class="mi">2</span><span class="o">*</span><span class="n">std</span><span class="p">,</span> <span class="n">mean</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">std</span><span class="p">])</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">random.random</span></code> generates a numpy array for <span class="math notranslate nohighlight">\(n\)</span> points in the unit square randomly.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sum</span></code> sums up the element along the last axis to give the squared distance.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;</span></code> returns the boolean array indicating whether each point is in the first quadrant of the inscribed circle.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mean</span></code> and <code class="docutils literal notranslate"><span class="pre">std</span></code> returns the mean and standard deviation of the boolean array with True and False interpreted as 1 and 0 respectively.</p></li>
</ul>
</div>
</div>
</div>


<script type="application/vnd.jupyter.widget-state+json">
{"state": {"39e47debd19d48e086cee5bc86d08b66": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "e53272d5b8ca44d9ba22249db0107222": {"model_name": "VBoxModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": ["widget-interact"], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "VBoxModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "VBoxView", "box_style": "", "children": ["IPY_MODEL_0f6ec4c6ac70417ea3200fb335eec360", "IPY_MODEL_f4fce5ddb38c4064996aeb20b11f650f", "IPY_MODEL_3a6a9ba48bde494383180994a5193184"], "layout": "IPY_MODEL_39e47debd19d48e086cee5bc86d08b66"}}, "b4a48725e3244c109266a3d82c2b2584": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "a58e6dcc6b4c4ed3874de8af910f31ec": {"model_name": "SliderStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "SliderStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": "", "handle_color": null}}, "0f6ec4c6ac70417ea3200fb335eec360": {"model_name": "IntSliderModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "IntSliderModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "IntSliderView", "continuous_update": true, "description": "a", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_b4a48725e3244c109266a3d82c2b2584", "max": 5, "min": 0, "orientation": "horizontal", "readout": true, "readout_format": "d", "step": 1, "style": "IPY_MODEL_a58e6dcc6b4c4ed3874de8af910f31ec", "value": 2}}, "92b8930245824ac39dd38570cfd76747": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "e899bb5132464be3b6005be3cb3bd4ef": {"model_name": "SliderStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "SliderStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": "", "handle_color": null}}, "f4fce5ddb38c4064996aeb20b11f650f": {"model_name": "IntSliderModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "IntSliderModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "IntSliderView", "continuous_update": true, "description": "b", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_92b8930245824ac39dd38570cfd76747", "max": 5, "min": 0, "orientation": "horizontal", "readout": true, "readout_format": "d", "step": 1, "style": "IPY_MODEL_e899bb5132464be3b6005be3cb3bd4ef", "value": 3}}, "ad1fe33aaa3e4bc3b57329792eefab91": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "3a6a9ba48bde494383180994a5193184": {"model_name": "OutputModel", "model_module": "@jupyter-widgets/output", "model_module_version": "1.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/output", "_model_module_version": "1.0.0", "_model_name": "OutputModel", "_view_count": null, "_view_module": "@jupyter-widgets/output", "_view_module_version": "1.0.0", "_view_name": "OutputView", "layout": "IPY_MODEL_ad1fe33aaa3e4bc3b57329792eefab91", "msg_id": "", "outputs": [{"output_type": "stream", "name": "stdout", "text": "linear equation: 2x = 3\n       solution: x = 1.5\n"}]}}, "95feaa1d3bab4e55a93a7c1d45b8b40d": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "9bfafbbedda84442b1b7ef7d5f4e3403": {"model_name": "VBoxModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": ["widget-interact"], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "VBoxModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "VBoxView", "box_style": "", "children": ["IPY_MODEL_1be06854ab814cdabfa23fd36834c3d4", "IPY_MODEL_ebe11c2797324817ae85d05d4de520de", "IPY_MODEL_7899f628cffc4bafb55b648749b3a05b"], "layout": "IPY_MODEL_95feaa1d3bab4e55a93a7c1d45b8b40d"}}, "6ea3499647e049a5a9b247ad08bc3e18": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "0bb193a27322465099830a664bf48d13": {"model_name": "SliderStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "SliderStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": "", "handle_color": null}}, "1be06854ab814cdabfa23fd36834c3d4": {"model_name": "IntSliderModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "IntSliderModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "IntSliderView", "continuous_update": true, "description": "a", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_6ea3499647e049a5a9b247ad08bc3e18", "max": 5, "min": 0, "orientation": "horizontal", "readout": true, "readout_format": "d", "step": 1, "style": "IPY_MODEL_0bb193a27322465099830a664bf48d13", "value": 1}}, "4af39c8b658148ce9d882ab6c301359a": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "2b8dc046176048c6a21b740e895667a3": {"model_name": "SliderStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "SliderStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": "", "handle_color": null}}, "ebe11c2797324817ae85d05d4de520de": {"model_name": "FloatSliderModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatSliderModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatSliderView", "continuous_update": true, "description": "b", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_4af39c8b658148ce9d882ab6c301359a", "max": 1.0, "min": -1.0, "orientation": "horizontal", "readout": true, "readout_format": ".2f", "step": 0.1, "style": "IPY_MODEL_2b8dc046176048c6a21b740e895667a3", "value": 0.0}}, "fd812ce0acb94013b74cb7829eb343fa": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "7899f628cffc4bafb55b648749b3a05b": {"model_name": "OutputModel", "model_module": "@jupyter-widgets/output", "model_module_version": "1.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/output", "_model_module_version": "1.0.0", "_model_name": "OutputModel", "_view_count": null, "_view_module": "@jupyter-widgets/output", "_view_module_version": "1.0.0", "_view_name": "OutputView", "layout": "IPY_MODEL_fd812ce0acb94013b74cb7829eb343fa", "msg_id": "", "outputs": [{"output_type": "display_data", "metadata": {"needs_background": "light"}, "data": {"text/plain": "<Figure size 432x288 with 1 Axes>", "image/png": "iVBORw0KGgoAAAANSUhEUgAAAYIAAAEbCAYAAADXk4MCAAAAOXRFWHRTb2Z0d2FyZQBNYXRwbG90bGliIHZlcnNpb24zLjMuMSwgaHR0cHM6Ly9tYXRwbG90bGliLm9yZy/d3fzzAAAACXBIWXMAAAsTAAALEwEAmpwYAAA0P0lEQVR4nO3dd3yV9fn/8deVxQiQMEKAMMIIgbAhgoiDLeBAbaXaaq3WUqqIq7Va28rXttYOt1ZFxFE3ioqKynAgKEIYskcIK8wwMiAJWdfvj3PT3zEmkOSc5M4553o+HueR+77P/TnnfRznOp97fD6iqhhjjAldYW4HMMYY4y4rBMYYE+KsEBhjTIizQmCMMSHOCoExxoQ4KwTGGBPirBAYY0yIs0JgjDEhzgqBCXoiskFEhldj/7+LyG21FqjqOfaIyMBqtlkuIr1qK5MJTmJ3Fhvz/4lIHLAG6KaqBS7miAWOAE1VNb8a7SYBP1HVH9VWNhN8rEdgzPf9AphXW0VARKaLyPQq7NoH2F2dIuCYC4wQkbbVDmdClhUCEzRE5PcisldE8kRki4iMcrbvFJHRXsu/FZG1IpIjIm+KSEOvlxkPfOn1mq1FZK6IHBSRXBH5QESaeT3/TxF512v9XyKySEQiffw4fYAtIvKwiBwTkW0icq6INHBylIrIcedRKiKFIjJaVQuBlcBYH9/fhBArBCYoiEgyMBU4S1WbAhcCOyvZfRIwDugM9MXTCzilD7DFa70Z8ATQEUgEWgG/9nr+H3h+gfcXkSnO616hqsW+fSL6AkOAxUBr4BXgOVU9CdwKLFLVJqraBNgOjFXVhU7bTUA/H9/fhJAItwMY4yelQAMgRUSyVHXnafZ9XFX3AYjIB0B/r+digbxTK6qaDqQ7qydFZAHQ3Ov5IyLyKPAyEAOcq6o5vn4YPAXpEVV9z8k5E7hPRCKc59Y526OBrsB6r7Z5gB0aMlVmPQITFJwv7NuA6cAhEXlDRNpVsvsBr+V8oInX+jGg6akVEblSRJaKyCERyQbuBraWe73VeL6c71HVPeXfTEQ+FJFsr/Z3n1oXkQ8rydgbeNtrvRWQo6oleBUCZ3m/qh712rcpkF3J6xrzA1YITNBQ1ddU9VygE6B4DttU11qgO4CIjHRe4zagHZ4v40N4rirC2acP8DTwEnBDJbkuVtVYVY0FHgQePLWuqheX319EOuE5JJXltfkK4FTR8C4E/byWT+kJfFelT2sMVghMkBCRZBEZKSINgEKgAM/houqaB1zgLPcD9gCb8RwOmoXneP1G5z0TgA+AKcBNQJ/q3K9wGn2AEuCnIhImIhPwnJe4X0RaAXGnMgA98OqhOJ9/ELDADzlMiLBCYIJFAzy/tg/jOfTTGvhDDV7nZWCCiDQCXgUindf7ENgGbFTVIufKoXnAw6o617nM81/A33z+JJ5C8DIwDM+hqunARFXdhuck8navy1v3ApNEZIizfinwxalzIMZUhd1QZkw5IvIAcEhVH3U7S3WJyLfAL1V1/Rl3NsZhhcAYY0KcHRoyxpgQZ4XAGGNCnBUCY4wJcQF5Z3GrVq00MTHR7RjGGBNQVq5ceVhV48pvD8hCkJiYSFpamtsxjDEmoIjIroq226EhY4wJcVYIjDEmxFkhMMaYEGeFwBhjQpwVAmOMCXF+KQQiMssZr73C8U3E43ERSXemCBzo9dw4Z1rBdBG52x95jDHGVJ2/egQv4pmirzLjgSTnMRnP+O2ISDjwlPN8CnC1iKT4KZMxxpgq8Mt9BKq6WEQST7PLROBl9Yxwt0xEYkWkLZ45YNNVNQNARN5w9t1Y6SuZWpWVd5L1+3LYvD+PMIFmjSKJ8Xo0axhJ29iGRIbbUUVjgkVd3VCWgGeCj1MynW0VbR9CBURkMp7eBB07dqydlCGmqKSMxVuzWLs3hw17c1i/L4eDuSfP2K5ZwwjGpLRhfO82nJvUioaR4XWQ1hhTW+qqEEgF2/Q023+4UXUGMAMgNTXVxs72QU5BMa8v380LS3dwMPckYQJd45pwTtdW9E6IoXe7ZvRs14xwEXIKisktLCYnv5icgmKy84v5dsdRFmw8wDurMomOCmdkz3jG927D8OQ4GkcF5M3qxoS0uvq/NhPo4LXeHtgHRFWy3dSCzGP5vLB0J28s382JolKGdWvJ36/ow9ldWlb6BR7dIIJ2NPretklndaCopA/fZBzh43X7mb/xIB98t48W0VHcObY7V53VkfCwimq8MaY+qqtCMBeY6pwDGALkqOp+EckCkkSkM54p964CflpHmULGriMneHjBVj5cux+AS/q25cbzutA7IabGrxkVEcYF3eO4oHscf72sjG93HOWxRdu49931vLpsN/ddksKQLi399RGMMbXIL4VARF4HhgOtRCQTuA/PXK+o6jN45nadAKQD+cD1znMlIjIV+BQIB2ap6gZ/ZDKgqsxOy2T6BxsQ4PpzErn+3M4kxDY6Y9vqiAgPY1i3VpzTtSUfrdvPAx9t4iczlnFR37bcM74H7Zs39uv7GWP8KyCnqkxNTVUbffT0jp4o4p45a/l0w0HO6dqShyb1o22MfwtAZQqKSnl28Xae+XI7qnDT8G7cPKIrEXalkTGuEpGVqppafrud2QtCi7dm8dvZ35GdX8y9E3ryy3M7E1aHx+wbRYVz2+juXJnagb/P28QjC7eStusoT149kJjGkXWWwxhTNfYTLYgUFpcyfe4Gfj5rObGNI3nv5mH86vwudVoEvCXENuLJnw7knz/qy7KMI1z+n6VszzruShZjTOWsEASJYyeK+Mmz3/Di1zu5flgic6eeS0q7Zm7HAjxXGb32q7PJKSjmsqeWsnhrltuRjDFerBAEgUO5hVw1YxmbDuTx7LWDuO+SXvXuJq+zElvw/tRhJMQ24hcvLOf5JTsIxPNTxgQjKwQBbs/RfK589hv2HMvnxV+cxYW92rgdqVLtmzfmnd+cw+ie8fzlw438/p21FJWUuR3LmJBnhSCAbc86zqRnv+HYiSJeuXEI53Rr5XakM4puEMEz1wzilpHdeCstk9vfXENpmfUMjHGTXTUUoDbsy+Hnzy9HBN789VB6tq0f5wOqIixMuHNsMs0aRvK3eZtoHBXOP37U17WT2saEOisEAWjlrqP84oUVNG0QwSs3DqFLXBO3I9XIr87vQt7JEh5ftI3oBhHcd0kKIlYMjKlrVggCzJYDeVw3awVxTRvwyo1D/H6XcF27fXQSxwtLmLV0B80aRnDH2GS3IxkTcqwQBJBDeYXc8OIKohuE89qvhtTZncK1SUT408U9OXGyhMc/Sye6QQS/vqCr27GMCSlWCAJEQVEpN76UxtETRcyeMjQoisApIsIDV/ThRFEJf/94M00aRvCzIZ3cjmVMyLBCEADKypTb3lzNur05zLg21adRQ+ur8DDhkZ/0p6ColD++t56YRpFc3Led27GMCQl2+WgAePCTzXy64SB/uiiFMSnxbsepNZHhYTz1s4EM6tic381ey+YDuW5HMiYkWCGo5179dhczFmfw86GduH5Yottxal3DyHD+87OBNGkYwZT/riSnoNjtSMYEPSsE9diXW7P48/sbGJ4cx58vDp1LK1s3a8jTPxtI5rEC7nxrDWV2w5kxtcoKQT214/AJbn51FUmtm/DkTweG3Fj+qYkt+NPFKSzcdIgnP093O44xQc0v3y4iMk5EtohIuojcXcHzvxORNc5jvYiUikgL57mdIrLOec5mmwGKSsqY9vpqwsOEmdel0qRBaJ7T//nQTlw+IIFHFm7l8y2H3I5jTNDyuRCISDjwFDAeSAGuFpEU731U9V+q2l9V+wP3AF+q6lGvXUY4z/9g5pxQ9K9PN7Nubw7/+FHfkJ7mUUR44PI+9GjTjFtfX83uI/luRzImKPmjRzAYSFfVDFUtAt4AJp5m/6uB1/3wvkHp8y2HeO6rHVxzdkfG9a6/I4nWlUZR4Tx7zSBEhF+/spKColK3IxkTdPxRCBKAPV7rmc62HxCRxsA44B2vzQrMF5GVIjK5sjcRkckikiYiaVlZwTmxyaHcQn771nf0aNOUP16UcuYGIaJjy8Y8elV/Nh/I5c/vr3c7jjFBxx+FoKJLWSq7zOMSYGm5w0LDVHUgnkNLN4vI+RU1VNUZqpqqqqlxcXG+Ja6HysqUO976jhNFJTxx9YB6N7GM20Ykt+bm4d2YvTKT+RsOuB3HmKDij0KQCXTwWm8P7Ktk36sod1hIVfc5fw8B7+I51BRynl2cwZL0w/z54l4kxTd1O069NG1UEr3aNeMP767jyPGTbscxJmj4oxCsAJJEpLOIROH5sp9bficRiQEuAN732hYtIk1PLQNjgZDr+6/efYyH5m/hoj5tuXpwhzM3CFFREWE8PKk/uQUl3Pvuepvq0hg/8bkQqGoJMBX4FNgEvKWqG0RkiohM8dr1cmC+qp7w2hYPLBGR74DlwEeq+omvmQJJXmEx095YTXyzhjxwRZ+QuWmsppLbNOWOsd35ZMMB3l9TWcfTGFMdEoi/qlJTUzUtLThuObhnzjreXLGb2VOGMqhTC7fjBITSMmXSs9+w7WAe82+/gDYxDd2OZExAEJGVFV2mH1q3q9YzyzKO8Pry3fzy3M5WBKohPEx46Mp+FJcqd72z1g4RGeMjKwQuKSwu5Z456+jYojF3jLFZuaorsVU0f5jQg8Vbs3ht+W634xgT0KwQuOSxRdvYcfgEf7+iD42i7FLRmrjm7E6cl9SKv320iV1HTpy5gTGmQlYIXLB+bw4zFmcwKbU9w7q1cjtOwBIR/vGjvoSHCb+bvdZGKTWmhqwQ1LGS0jLunrOW5o2juHeC3T3sq3axjfjTxSks33mUt1dmuh3HmIBkhaCOPb9kB+v35nL/xF7ENI50O05QuHJQewYntuDvH2/i2Ikit+MYE3CsENShnYdP8PCCrYxNiWe8DSjnNyLCXy7rTV5hCQ9+vNntOMYEHCsEdURVuWfOOqIiwvjLZb3txjE/S27TlF+e25k30/awctfRMzcwxvyPFYI6Mjstk28yjvCHCT2Jb2Y3QNWGaaOSaBfTkHvfXU9JaZnbcYwJGFYI6kBOQTEPfrKZsxKb85NUG0uotkQ3iODPl/Ri84E8Xvx6p9txjAkYVgjqwKMLt5KdX8T0S3sRFmaHhGrThb3iGZEcxyMLtrI/p8DtOMYEBCsEtWzbwTxe/mYXVw/uSK92MW7HCXoiwv9d2puSMuUvH250O44xAcEKQS1SVaZ/sIHoqHDuHGvDSNSVji0bM3VEN+atO8AXNum9MWdkhaAWfbrhIEvTj3Dn2GRaREe5HSekTL6gC11aRXPf3A0UFts8x8acjhWCWlJYXMpfP9pIcnxTfjako9txQk6DiHDun9ibXUfyeWHpTrfjGFOv+aUQiMg4EdkiIukicncFzw8XkRwRWeM8/lzVtoHqucUZZB4r4L5LU4gIt3rrhnOTWjG6Z2ue+jydwza1pTGV8vkbSkTCgafwTD6fAlwtIhUNovOVqvZ3HvdXs21A2ZddwFNfpDOhTxvO6WqDyrnpngk9KSwu5ZEFW92OYky95Y+fqoOBdFXNUNUi4A1gYh20rbcemLcJVfjDhJ5uRwl5XeOacM3ZnXh9+W62HsxzO44x9ZI/CkECsMdrPdPZVt5QEflORD4WkV7VbBswlmUc4cO1+5lyQVfaN2/sdhwD3DoqiSYNIvjbR5vcjmJMveSPQlDRHVLlB4ZfBXRS1X7AE8B71Wjr2VFksoikiUhaVlZWTbPWqrIy5f4PNpIQ24gpF3R1O45xNI+OYtqoJL7cmmWXkxpTAX8UgkzAe9yE9sA+7x1UNVdVjzvL84BIEWlVlbZerzFDVVNVNTUuLs4Psf3v/e/2snF/LneNS7ZZx+qZa4d2olPLxjwwb5ONQ2RMOf4oBCuAJBHpLCJRwFXAXO8dRKSNOMNtishg532PVKVtoCgsLuXfn26ld0IzLunbzu04ppwGEeHcM74HWw8e5820PWduYEwI8bkQqGoJMBX4FNgEvKWqG0RkiohMcXb7MbBeRL4DHgeuUo8K2/qayQ2vLNvF3uwC7h7X08YTqqcu7NWGwYkteHj+VvIKi92OY0y9IaqBN89ramqqpqWluR3jf3Lyizn/X5/Tr0MsL98w2O045jTWZmZz6ZNL+c3wrvx+XA+34xhTp0Rkpaqmlt9udzr5wX++TCe3sJi77Yul3uvbPpYrBiTw/JId7Dma73YcY+oFKwQ+2pddwAtLd3J5/wRS2jVzO46pgt+NS0aARxbaTWbGgBUCnz3s3LF6x9juLicxVdU2phG/OCeRd1fvZcsBu8nMGCsEPth8IJd3VmXyi3MS7eaxADPlgq40iYrg3/O3uB3FGNdZIfDBgx9vpmmDCG4abjePBZrm0VH8+oIuLNh4kJW7jrkdxxhXWSGooa+3H+aLLVlMHdmN2MY210Agun5YZ1o1ieJfn24mEK+eM8ZfrBDUgKry4MebSYhtxM+HJrodx9RQdIMIpo7oxrKMo3y17bDbcYxxjRWCGvh0w0HWZuZw2+gkGkbaUBKB7OohHWnfvBH//HQzZWXWKzChyQpBNZWWKQ8v2EKXuGguHxDQA6UaPENP3D66O+v35vLx+gNuxzHGFVYIqunDtfvYevA4t4/ubjOPBYnLBiTQPb4JD83fYgPSmZBk32TVUFJaxqMLt9GjTVMu6tPW7TjGT8LDhN+OTSbj8AneXpnpdhxj6pwVgmqYs2ovOw6f4M6xyTawXJAZkxLPgI6xPLZoG4XFpW7HMaZOWSGoopMlpTy2aBv92scwumdrt+MYPxMR7rqwB/tzCvnvN7vcjmNMnbJCUEVvrtjD3uwC7hybjDO1ggkyQ7u25LykVjzz5Xbyi0rcjmNMnbFCUAUFRaU88Vk6gxNbcF5SK7fjmFp02+juHDlRxMvWKzAhxApBFbyybBdZeSe5c2x36w0EuUGdmnNB9zie/XI7x09ar8CEBr8UAhEZJyJbRCRdRO6u4Pmficha5/G1iPTzem6niKwTkTUiUn9mm3EcP1nC019u57ykVgzp0tLtOKYO3D6mO8fyi3np651uRzGmTvhcCEQkHHgKGA+kAFeLSEq53XYAF6hqX+AvwIxyz49Q1f4VzZzjtheW7ODoiSLuHJvsdhRTR/p3iGVUj9bMWJxBrk1paUKAP3oEg4F0Vc1Q1SLgDWCi9w6q+rWqnhricRnQ3g/vW+tyCoqZ8VUGo3vG079DrNtxTB26fUx3cgqKeXHpTrejGFPr/FEIEoA9XuuZzrbK/BL42GtdgfkislJEJlfWSEQmi0iaiKRlZWX5FLiqZi3ZQV5hCbePSaqT9zP1R++EGMakxPPcVxnkFFivwAQ3fxSCis6eVjh6l4iMwFMIfu+1eZiqDsRzaOlmETm/oraqOkNVU1U1NS4uztfMZ5RTUMyspTu4sFc8vdrF1Pr7mfrnttFJ5BWW8PySHW5HMaZW+aMQZAIdvNbbA/vK7yQifYGZwERVPXJqu6ruc/4eAt7Fc6jJdad6A9NGWW8gVPVqF8P43m14YckOsvOL3I5jTK3xRyFYASSJSGcRiQKuAuZ67yAiHYE5wLWqutVre7SIND21DIwF1vshk0+sN2BOuW10d44XlTDzK+sVmODlcyFQ1RJgKvApsAl4S1U3iMgUEZni7PZnoCXwn3KXicYDS0TkO2A58JGqfuJrJl9Zb8CcktymKRP6tOWFpZ6rx4wJRhH+eBFVnQfMK7ftGa/lG4EbK2iXAfQrv91N1hsw5d02Kol56/YzY3EGd4/v4XYcY/zO7iwu54Wl1hsw35cU35RL+rbj5W92Wq/ABCUrBF5yCop5fon1BswPTRvVjYLiUmZ+leF2FGP8zgqBF+sNmMp0a+2ZjOilr3faFUQm6FghcFhvwJzJLSOTOFFUavcVmKBjhcBhvQFzJp4riNrw4tKd5OTb3cYmeFghwHoDpupuGZlE3skSZi21XoEJHlYIgBeX7rTegKmSnm2bcWGveGYt3WEjk5qgEfKFIK/Qc9/AmBTrDZiquWWkZwwiG5nUBIuQLwQvf7OLnIJipo203oCpmt4JMYzuGc/zS3aQZ70CEwRCuhCcOFnCzK8yGJEcR5/21hswVXfrqCRyCoptbmMTFEK6ELyybBfH8ou5xc4NmGrq0z6GkT1a89xXGTa3sQl4IVsICopKee6rDM5LasXAjs3djmMC0LRRSWTnF/Nf6xWYABeyheC15bs5fLzIrhQyNda/QywXdI/jua8yyC+yXoEJXCFZCAqLS3nmy+0M7dKSsxJbuB3HBLBpo5I4eqKIV5ftdjuKMTUWkoXgzRV7yMo7ab0B47NBnZozrFtLnl2cQWFxqdtxjKmRkCsEJ0s8vYGzEptzdhfrDRjfTRuZxOHjJ3l9ufUKTGDySyEQkXEiskVE0kXk7gqeFxF53Hl+rYgMrGpbf3t7ZSb7cwqZNioJEanttzMhYEiXlgzu3IJnvtxuvQITkHwuBCISDjwFjAdSgKtFJKXcbuOBJOcxGXi6Gm39pqikjP98vp0BHWM5t1ur2nobE4JuHZXEwdyTzF6Z6XYUY6rNHz2CwUC6qmaoahHwBjCx3D4TgZfVYxkQKyJtq9jWb95dncne7AKmjbTegPGvc7q2ZGDHWJ75YjtFJWVuxzFB6NiJIq6Z+S3r9+b4/bX9UQgSgD1e65nOtqrsU5W2AIjIZBFJE5G0rKysGgXNyjtJaqfmDE+Oq1F7YyojIkwblcTe7ALmrLJegfG/55fsYEn6YaIi/H9q1x+vWNFPa63iPlVp69moOkNVU1U1NS6uZl/kU0cm8eavh1pvwNSKC7rH0bd9DE99kU5xqfUKjP/k5Bfz4tc7mdCnDd3jm/r99f1RCDKBDl7r7YF9VdynKm39KjzMioCpHSLCLSOT2HO0gPfX1Op/xibEvPD1Do6fLGHqiNq55N0fhWAFkCQinUUkCrgKmFtun7nAz52rh84GclR1fxXbGhMwRvdsTc+2zXjq83RKyyrs3BpTLbmFxcxa4hkqP6Vds1p5D58LgaqWAFOBT4FNwFuqukFEpojIFGe3eUAGkA48B9x0ura+ZjLGLSLCtJHd2HH4BB+utV6B8d3LX+8kt7CkVofKj/DHi6jqPDxf9t7bnvFaVuDmqrY1JpBd2KsN3eOb8MRn6VzStx1hdjjS1NDxkyXMXLKDkT1a1+pQ+SF3Z7ExtS0sTJg6Mon0Q8eZt36/23FMAHtl2S6y84u5ZWS3Wn0fKwTG1IKL+rSla1w0TyxKp8zOFZgayC8q4bnFnqHyB9TyUPlWCIypBeFhniuIthzMY/7GA27HMQHotW93c+REEbfWweCYVgiMqSWX9GtHl1bRPGa9AlNNhcWlPLs4g3O6tiS1DobKt0JgTC0JDxNuHtGNTftzWbjpoNtxTAB5Y/nuOh0q3wqBMbVoYv92dGrZmMcWbcNz8Zwxp+cZKj+DwYktOLtLyzp5TysExtSiiPAwbh7RjQ37clm06ZDbcUwAeCstkwO5hXU6cZYVAmNq2eUDEujQohGPf2a9AnN6J0tKefrzdAZ2jGVYt7rpDYAVAmNqXWR4GDcP78bazBy+2FKzkXNNaJidlsm+nEJuH9O9TgfHtEJgTB24YmB7EmIb2bkCU6mTJaX85/N0BnVqXucTZ1khMKYOREWEcdOIrqzZk83ibYfdjmPqoVO9gVtdmEbXCoExdeTHg9rTLqYhjy3car0C8z2negMDO8ZyXlLdT6NrhcCYOtIgIpzfDO/Kqt3ZLE0/4nYcU4+8vdLTG7htdN2eGzjFCoExdWjSWR1oG9OQR6xXYBxFJWU89Zl7vQGwQmBMnWoQEc5NI7qxctcxO1dgAJi9co+rvQGwQmBMnZuU6rmC6JEF1isIdfWhNwA+FgIRaSEiC0Rkm/P3B2OlikgHEflcRDaJyAYRudXruekisldE1jiPCb7kMSYQNIgIZ+rIbqzZk233FYS4U72BW13sDYDvPYK7gUWqmgQsctbLKwHuVNWewNnAzSKS4vX8I6ra33nYTGUmJPx4UHs6tGhk5wpCWFFJGf/5fDsDOsZyvou9AfC9EEwEXnKWXwIuK7+Dqu5X1VXOch6euYkTfHxfYwJaZHgYt4xIYm1mjo1BFKLeXpnJ3uwCV88NnOJrIYhX1f3g+cIHWp9uZxFJBAYA33ptnioia0VkVkWHlrzaThaRNBFJy8qy7rQJfJcPTKBTy8Y8bOcKQk5hcSlPfLatXvQGoAqFQEQWisj6Ch4Tq/NGItIEeAe4TVVznc1PA12B/sB+4KHK2qvqDFVNVdXUuLi46ry1MfVSZHgY00YmsXF/Lp9usPkKQskby3ezP6eQ345Ndr03AFUoBKo6WlV7V/B4HzgoIm0BnL8V9nFFJBJPEXhVVed4vfZBVS1V1TLgOWCwPz6UMYFiYv92dG4VzaMLt9osZiEiv6iEJz/fztldWnBO17obYfR0fD00NBe4zlm+Dni//A7iKXfPA5tU9eFyz7X1Wr0cWO9jHmMCSkR4GLeOSmLzgTw+2WBzG4eCl7/ZxeHjJ+tNbwB8LwQPAmNEZBswxllHRNqJyKkrgIYB1wIjK7hM9J8isk5E1gIjgNt9zGNMwLmkXzu6xkXzyIKtlFqvIKjlFRbzzJfbGZ4cVydzEVdVhC+NVfUIMKqC7fuACc7yEqDCsqeq1/ry/sYEg/Aw4dbR3Zn2+mo+WrefS/u1czuSqSWzluwkO7+YO8ckux3le+zOYmPqgYv7tCU5vimPLthKSWmZ23FMLcjOL2LmVxmM69WGPu1j3I7zPVYIjKkHwsKEO8d2J+PwCd5emel2HFMLnl2cwfGiEm4f093tKD9ghcCYemJMSjwDOsby6MJtFBaXuh3H+FFW3kleXLqTS/u1I7lNU7fj/IAVAmPqCRHhrgt7cCC3kP9+s8vtOMaP/vNFOkWlZdw2uv71BsAKgTH1ytCuLTm/exxPfZFObmGx23GMH+zLLuDVZbv58cD2dG4V7XacClkhMKaeuevCZLLzi5m5OMPtKMYPnvw8HUW5ZVQ3t6NUygqBMfVM74QYLurblplLdpCVd9LtOMYH27OO8+aKPVw9uCPtmzd2O06lrBAYUw/dOaY7J0vKeOrzdLejGB/865MtNIwIY9qoJLejnJYVAmPqoS5xTbhyUHte+3Y3e47mux3H1MDKXcf4ZMMBJp/flVZNGrgd57SsEBhTT906OgkEHl24ze0opppUlQc/3kSrJg248bzObsc5IysExtRTbWMacd3QTry7OpOtB/PcjmOqYeGmQ6zYeYzbxyQR3cCnkXzqhBUCY+qxm4Z3Izoqgn99usXtKKaKSkrLePDjTXSJi+YnqR3cjlMlVgiMqceaR0fx6wu6sGDjQb7NOOJ2HFMFs1dmsj3rBHdd2IOI8MD4ig2MlMaEsBvP60K7mIb89aNNNnlNPZdfVMIjC7YyqFNzLuwV73acKrNCYEw91zAynLvG9WDd3hzeW7PX7TjmNJ7/ageH8k5yz/ge9WbSmarwqRCISAsRWSAi25y/FU4+LyI7nQlo1ohIWnXbGxPqLu3Xjn7tY/jnJ1soKLIB6eqjI8dP8uziDMamxNerSWeqwtcewd3AIlVNAhY565UZoar9VTW1hu2NCVlhYcIfL07hQG4hz31lQ0/UR098lk5BcSl3jevhdpRq87UQTARecpZfAi6r4/bGhIyzElswoU8bnv5iOwdzC92OY7xszzrOq9/uYlJqB7q1buJ2nGrztRDEq+p+AOdv60r2U2C+iKwUkck1aG+MAX4/rgelZcpD8+1y0vrkLx9upGFEOHfUw0lnquKMhUBEForI+goeE6vxPsNUdSAwHrhZRM6vblARmSwiaSKSlpWVVd3mxgSFTi2j+cWwRGavzGTDvhy34xjgs80H+WJLFreOTiKuaf0eSqIyZywEqjpaVXtX8HgfOCgibQGcv4cqeY19zt9DwLvAYOepKrV32s5Q1VRVTY2Li6vOZzQmqNw8ohuxjSL520ebULXLSd10sqSU+z/YSNe4aH4+NNHtODXm66GhucB1zvJ1wPvldxCRaBFpemoZGAusr2p7Y8z3xTSK5PYx3fl6+xEWbar0t5OpA7OW7GTnkXzuu6QXURGBezW+r8kfBMaIyDZgjLOOiLQTkXnOPvHAEhH5DlgOfKSqn5yuvTHm9K4e3JGucdE8MG8TRSVlbscJSQdzC3nys22M7hnP+d0D+yiFT6MhqeoRYFQF2/cBE5zlDKBfddobY04vMjyMP16cwvUvrGDmkgxuGl5/Z78KVv/4eDPFpcqfLu7pdhSfBW5fxpgQNyK5NRf2iufxRdtszoI6tnLXUeas3suvzu9Mp5b1cx7i6rBCYEwAu++SXoSJ8H8fbHQ7SsgoK1Omz91Im2YNg6YnZoXAmADWLrYRt45KYuGmgyzYeNDtOCFh9so9rNubwz0TegTEXANVYYXAmAB3w7mdSY5vyvS5G8gvKnE7TlDLKSjmn59sIbVTcy7t187tOH5jhcCYABcZHsZfL+/N3uwCnvjMJruvTQ9+vJlj+UVMv7RXQI0ueiZWCIwJAmcltuDHg9rz3OIMttm0lrViWcYRXl++mxvP60LvhBi34/iVFQJjgsQ94z3HrP/43nq749jPCotLufudtXRs0ZjbRwfmeEKnY4XAmCDRskkDfj+uB9/uOMq7q20CG396bNE2dh7J5+9X9KFRVLjbcfzOCoExQeSqszrQv0Msf/toE9n5RW7HCQrr9+YwY3EGk1LbM6xbK7fj1AorBMYEkbAw4W+X9ya7oJjpcze4HSfglZSWcfectTRvHMW9E1LcjlNrrBAYE2R6tYth6ohuvLdmHx+v2+92nIA2c8kO1u/N5f6JvYhpHOl2nFpjhcCYIDR1ZDf6JMRw73vryco76XacgLTj8AkeWbCVsSnxjO/dxu04tcoKgTFBKDI8jIcn9eP4yRLufXedXUVUTarKPXPWEhURxl8u6x1U9wxUxAqBMUEqKb4pvxubzPyNB5mzyq4iqo7Xlu9mWcZR/jChJ/HNGrodp9ZZITAmiN1wbmcGJ7Zg+twN7MsucDtOQNh2MI+/fLiR85JacdVZHdyOUyesEBgTxMLDhH9f2Y9SVe56e60dIjqDwuJSpr62muioCB6a1C/oDwmd4lMhEJEWIrJARLY5f5tXsE+yiKzxeuSKyG3Oc9NFZK/XcxN8yWOM+aGOLRtz70U9WZJ+mFeW7XI7Tr321482suVgHg9N6kfrpsF/SOgUX3sEdwOLVDUJWOSsf4+qblHV/qraHxgE5OOZwP6UR049r6rzyrc3xvjup4M7ckH3OB6Yt5kdh0+4Hade+mT9AV5ZtptfndeZ4cmt3Y5Tp3wtBBOBl5zll4DLzrD/KGC7qtrPEmPqkIjwjx/1JSoijJteXUVBUanbkeqVvdkF/P6dtfRJiOF3F/ZwO06d87UQxKvqfgDn75nK6FXA6+W2TRWRtSIyq6JDS6eIyGQRSRORtKysLN9SGxOC2sQ05LGr+rP5QK5dUuqlpLSM295YTUlpGU9cPYCoiNA7dXrGTywiC0VkfQWPidV5IxGJAi4FZnttfhroCvQH9gMPVdZeVWeoaqqqpsbFxVXnrY0xjuHJrbl9dHfmrN7Lf+18AQCPf5bOip3H+OvlvUlsFfjzD9fEGedZU9XRlT0nIgdFpK2q7heRtsCh07zUeGCVqv5vPj3vZRF5DviwarGNMTU1dUQ31mZmc/8HG0lp24zUxBZuR3LNsowjPPnZNq4YkMDlA9q7Hcc1vvaB5gLXOcvXAe+fZt+rKXdYyCkep1wOrPcxjzHmDMLChIcm9ad980bc9OoqDuUVuh3JFXuO5jP1tVV0bNGY+y/r7XYcV/laCB4ExojINmCMs46ItBOR/10BJCKNnefnlGv/TxFZJyJrgRHA7T7mMcZUQUyjSJ65dhB5hSVMfXU1xaVlbkeqUzkFxdzw4gqKSsqYeV0qTYJkEvqakkA8YZSamqppaWluxzAm4M39bh/TXl/N9cMSue+SXm7HqRPFpWVc/8IKlmUc4eUbBnNOkM4xUBERWamqqeW3h3YZNCbEXdqvHWt2ZzNr6Q76to8J+uPkqsqf3lvPkvTD/PPHfUOqCJxO6F0nZYz5nnsm9ODsLi246+21fL75dNd7BL5nF2fwxoo93DyiK5NSQ2McoaqwQmBMiIsMD2PGz1NJbtOUKa+s5JvtR9yOVCs+XrefBz/ezMV923LnmGS349QrVgiMMTRrGMnLNwyhY4vG3PjSCtbsyXY7kl+t2ZPNbW+uYWDHWP59ZT/CwkJjMLmqskJgjAGgRXQUr9w4hJZNGnDdrOVsPpDrdiS/WL83hxteXEHrZg147uepNIwMdztSvWOFwBjzP/HNGvLqjUNoGBnGNTOXB/wAdWk7j3L1c8toFBnOyzd4ipz5ISsExpjv6dCiMa/eOIQyVa6Z+S17A3RCm6+2ZXHt88tp1aQBb00ZSucQHT6iKqwQGGN+oFvrprx8w2ByC4u5asY3pB/KcztStXyy/gC/fDGNTi0b89avh5IQ28jtSPWaFQJjTIV6J8Tw318OoaCojMuf+jpgLi19d3UmN7+2ipR2zXhz8lDimtrhoDOxQmCMqVT/DrHMnTqMji0bc8NLK5ixeHu9Hr76v8t2cfub3zGkcwteuXEIMY0j3Y4UEKwQGGNOq11sI2ZPGcqE3m15YN5mfjt7LSdL6tfENnmFxfx29nf86b31jO7Zmlm/OCvkxw+qDvsnZYw5o8ZRETz50wF0X9SURxZuZcfh4zxz7aB6Ma9v2s6j3P7WGvYeK2DayG7cMiqJyHD7jVsd9k/LGFMlIsKto5N4+mcD2bQ/j0ufWMrH6/a7dqiouLSMh+ZvYdKz3wAwe8pQ7hibbEWgBqxHYIyplvF92tKxZWPufOs7fvPqKoZ2acl9l6bQo02zOsuw4/AJbntzDd/tyebHg9pz3yUpNG1o5wNqyoahNsbUSElpGa+v2MND87eQW1DMz4Z04o4x3WkeHVVr73kwt5AXlu7kpa93EhURxt+v6MOEPm3P3NAAlQ9DbYXAGOOT7PwiHlmwlVe+3U2TBhHcMaY7V6a2p3GU/w44bDmQx3NfZfD+mr2Ulinj+7TlTxel0CbG/XMUgaRWCoGIXAlMB3oCg1W1wm9nERkHPAaEAzNV9dRMZi2AN4FEYCcwSVWPnel9rRAYU/9sOZDH/R9uYGn6ERpGhjEiuTXjerdhZI/WNTpso6p8vf0IMxZn8OXWLBpFhvOTszpww7DOdGzZuBY+QfCrrULQEygDngV+W1EhEJFwYCueqSozgRXA1aq6UUT+CRxV1QdF5G6guar+/kzva4XAmPpJVfl2x1HmrdvPJ+sPcCjvJFHhYZyX1IpxvdvQs20zmjWMJKZRJE0bRvxvFNCyMmXX0XzW7c1hw94c1u/LYf3eXHIKimnVpAG/OKcT15zdidjGtXfYKRTUygxlqrrJefHT7TYYSFfVDGffN4CJwEbn73Bnv5eAL4AzFgJjTP0kIpzdpSVnd2nJ9Et6sXrPMeatO8An6w+wqNydySLQpEEEMY0iyc4v5vjJEgCiwsNIbtOUCX3akNqpBRf1bWsjhtayurhqKAHY47WeCQxxluNVdT+Aqu4XkdaVvYiITAYmA3Ts2LGWohpj/CUsTBjUqQWDOrXgjxf1ZMO+XPZlF5BbWEJOQTE5BcXkOn+bNIigT0IMvRKakdS6KVERdgloXTpjIRCRhUCbCp66V1Xfr8J7VNRdqPbxKFWdAcwAz6Gh6rY3xrhHROidEEPvhBi3o5gKnLEQqOpoH98jE/CeHLQ9sM9ZPigibZ3eQFsgMEa1MsaYIFIX/a8VQJKIdBaRKOAqYK7z3FzgOmf5OqAqPQxjjDF+5FMhEJHLRSQTGAp8JCKfOtvbicg8AFUtAaYCnwKbgLdUdYPzEg8CY0RkG56rih70JY8xxpjqsxvKjDEmRFR2+aidmjfGmBBnhcAYY0KcFQJjjAlxVgiMMSbEBeTJYhHJAnbVsHkr4LAf47gh0D+D5XdfoH+GQM8P7nyGTqoaV35jQBYCX4hIWkVnzQNJoH8Gy+++QP8MgZ4f6tdnsENDxhgT4qwQGGNMiAvFQjDD7QB+EOifwfK7L9A/Q6Dnh3r0GULuHIExxpjvC8UegTHGGC9WCIwxJsSFVCEQkXEiskVE0p05kgOKiMwSkUMist7tLDUhIh1E5HMR2SQiG0TkVrczVYeINBSR5SLynZP//9zOVBMiEi4iq0XkQ7ez1ISI7BSRdSKyRkQCbvRJEYkVkbdFZLPz/8JQ1zOFyjkCEQkHtuIZ7joTzzwJV6vqRleDVYOInA8cB15W1d5u56kuZ/Khtqq6SkSaAiuBywLl34F4JueOVtXjIhIJLAFuVdVlLkerFhG5A0gFmqnqxW7nqS4R2QmkqmpA3lAmIi8BX6nqTGeOlsaqmu1mplDqEQwG0lU1Q1WLgDeAiS5nqhZVXQwcdTtHTanqflVd5Szn4ZmfIsHdVFWnHsed1UjnEVC/pESkPXARMNPtLKFIRJoB5wPPA6hqkdtFAEKrECQAe7zWMwmgL6FgIyKJwADgW5ejVItzWGUNnmlVF6hqQOUHHgXuAspczuELBeaLyEoRmex2mGrqAmQBLziH52aKSLTboUKpEEgF2wLq11ywEJEmwDvAbaqa63ae6lDVUlXtj2fu7cEiEjCH6ETkYuCQqq50O4uPhqnqQGA8cLNzyDRQRAADgadVdQBwAnD9fGUoFYJMoIPXentgn0tZQpZzbP0d4FVVneN2nppyuvNfAOPcTVItw4BLnWPsbwAjReQVdyNVn6ruc/4eAt7Fc9g3UGQCmV49ybfxFAZXhVIhWAEkiUhn5wTNVcBclzOFFOdk6/PAJlV92O081SUicSIS6yw3AkYDm10NVQ2qeo+qtlfVRDz//X+mqte4HKtaRCTaudAA55DKWCBgrqJT1QPAHhFJdjaNAly/WCLC7QB1RVVLRGQq8CkQDsxS1Q0ux6oWEXkdGA60EpFM4D5Vfd7dVNUyDLgWWOccZwf4g6rOcy9StbQFXnKuQAsD3lLVgLwEM4DFA+96flMQAbymqp+4G6nabgFedX6QZgDXu5wndC4fNcYYU7FQOjRkjDGmAlYIjDEmxFkhMMaYEGeFwBhjQpwVAmOMCXFWCIwxJsRZITDGmBBnhcCYCohIIxH50rl5rKavMV1Efussf+3D60SJyGIRCZkbQE3dskJgTMVuAOaoaqn3RvGo9v83qnpOTYM4w6YvAn5S09cw5nSsEJiQ48ySNsZZ/quIPF7Bbj8D3nf2SXRmkvoPsAroICLvOcMgb/AeCllE7nVmwVsIJHttP+61/IO2Xu/xnLN9vjOe0SnvOZmM8TsbYsKEHGfY4vuB54CfApd6//J3xoDZraptnPVEPGPCnHNqNjIRaaGqR50v6xXABUAi8CIwBM84OKuAZ1T13yJyXFWbnKZtUyAdz8xba0TkLWCuqr7itAkHDqhqXC3+ozEhyo45mpCjqoudkVDvAIaXP/wDtAKyy23bVW5Kymkicrmz3AFIAs4G3lXVfAARqWx024raHgB2qOoaZ/tKPIXlVOZSESkSkabO7G7G+I0VAhNyRKQPnpFED1fypVoANCy37YRX++F4hqAeqqr5IvKF1/6n7WKfoe1Jr11LgUZ8XwOg8HSvb0xN2DkCE1JEpC3wKp75qk+IyIXl91HVY0C4iJQvBqfEAMecL/IeeHoCAIuBy50rjpoCl1Sj7ZlytwSyVLW4KvsbUx1WCEzIEJHGwBzgTlXdBPwFmF7J7vOBcyt57hMgQkTWOq+xDEBVVwFvAmvwzML2VVXbVsEIIFDmbTABxk4WG1MBERkA3KGq17qdBUBE5gD3qOoWt7OY4GM9AmMqoKqrgc99uaHMX5yrmN6zImBqi/UIjDEmxFmPwBhjQpwVAmOMCXFWCIwxJsRZITDGmBBnhcAYY0KcFQJjjAlx/w/n0CCtumm7JgAAAABJRU5ErkJggg==\n"}}]}}}, "version_major": 2, "version_minor": 0}
</script>

<span id="document-Review/Mock Exam Questions"></span><div class="section" id="mock-exam-questions">
<h3>Mock Exam Questions<a class="headerlink" href="#mock-exam-questions" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Access the mock exam here: https://eq1302.cs.cityu.edu.hk/mod/quiz/view.php?id=226</p></li>
<li><p>The questions are slightly modified from E-Quiz exercises.</p></li>
<li><p>You may use this notebook to get additional hints, take notes, and record your answers.</p></li>
<li><p>This notebook does not contain all the questions, but you can see model answers to all the questions after attempting the mock exam.</p></li>
</ul>
<div class="section" id="dictionaries-and-sets">
<h4>Dictionaries and Sets<a class="headerlink" href="#dictionaries-and-sets" title="Permalink to this headline">¶</a></h4>
<p><strong>Exercise (Concatenate two dictionaries with precedence)</strong> Define a function <code class="docutils literal notranslate"><span class="pre">concat_two_dicts</span></code> that accepts two arguments of type <code class="docutils literal notranslate"><span class="pre">dict</span></code> such that <code class="docutils literal notranslate"><span class="pre">concat_two_dicts(a,</span> <span class="pre">b)</span></code> will return a new dictionary containing all the items in <code class="docutils literal notranslate"><span class="pre">a</span></code> and the items in <code class="docutils literal notranslate"><span class="pre">b</span></code> that have different keys than those in <code class="docutils literal notranslate"><span class="pre">a</span></code>.  The input dictionaries should not be mutated.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">concat_two_dicts</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="c1">### BEGIN SOLUTION</span>
    <span class="k">return</span> <span class="p">{</span><span class="o">**</span><span class="n">b</span><span class="p">,</span> <span class="o">**</span><span class="n">a</span><span class="p">}</span>
    <span class="c1">### END SOLUTION</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#tests</span>
<span class="n">a</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;x&#39;</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;z&#39;</span><span class="p">:</span><span class="mi">30</span><span class="p">};</span> <span class="n">b</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;y&#39;</span><span class="p">:</span><span class="mi">20</span><span class="p">,</span> <span class="s1">&#39;z&#39;</span><span class="p">:</span><span class="mi">40</span><span class="p">}</span>
<span class="n">a_copy</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">copy</span><span class="p">();</span> <span class="n">b_copy</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="k">assert</span> <span class="n">concat_two_dicts</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span> <span class="o">==</span> <span class="p">{</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;z&#39;</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="mi">20</span><span class="p">}</span>
<span class="k">assert</span> <span class="n">concat_two_dicts</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">a</span><span class="p">)</span> <span class="o">==</span> <span class="p">{</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;z&#39;</span><span class="p">:</span> <span class="mi">40</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="mi">20</span><span class="p">}</span>
<span class="k">assert</span> <span class="n">a</span> <span class="o">==</span> <span class="n">a_copy</span> <span class="ow">and</span> <span class="n">b</span> <span class="o">==</span> <span class="n">b_copy</span>
<span class="c1">### BEGIN HIDDEN TESTS</span>
<span class="n">a</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;x&#39;</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;z&#39;</span><span class="p">:</span><span class="mi">30</span><span class="p">};</span> <span class="n">b</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;y&#39;</span><span class="p">:</span><span class="mi">20</span><span class="p">}</span>
<span class="n">a_copy</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">copy</span><span class="p">();</span> <span class="n">b_copy</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="k">assert</span> <span class="n">concat_two_dicts</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span> <span class="o">==</span> <span class="p">{</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;z&#39;</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="mi">20</span><span class="p">}</span>
<span class="k">assert</span> <span class="n">concat_two_dicts</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">a</span><span class="p">)</span> <span class="o">==</span> <span class="p">{</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;z&#39;</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="mi">20</span><span class="p">}</span>
<span class="k">assert</span> <span class="n">a</span> <span class="o">==</span> <span class="n">a_copy</span> <span class="ow">and</span> <span class="n">b</span> <span class="o">==</span> <span class="n">b_copy</span>
<span class="c1">### END HIDDEN TESTS</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">{**dict1,**dict2}</span></code> creates a new dictionary by unpacking the dictionaries <code class="docutils literal notranslate"><span class="pre">dict1</span></code> and <code class="docutils literal notranslate"><span class="pre">dict2</span></code>.</p></li>
<li><p>By default, <code class="docutils literal notranslate"><span class="pre">dict2</span></code> overwrites <code class="docutils literal notranslate"><span class="pre">dict1</span></code> if they have identical keys.</p></li>
</ul>
<p><strong>Exercise (Count characters)</strong> Define a function <code class="docutils literal notranslate"><span class="pre">count_characters</span></code> which</p>
<ul class="simple">
<li><p>accepts a string and counts the numbers of each character in the string, and</p></li>
<li><p>returns a dictionary that stores the results.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">count_characters</span><span class="p">(</span><span class="n">string</span><span class="p">):</span>
    <span class="c1">### BEGIN SOLUTION</span>
    <span class="n">counts</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">string</span><span class="p">:</span>
        <span class="n">counts</span><span class="p">[</span><span class="n">char</span><span class="p">]</span> <span class="o">=</span> <span class="n">counts</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">char</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
    <span class="k">return</span> <span class="n">counts</span>
    <span class="c1">### END SOLUTION</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># tests</span>
<span class="k">assert</span> <span class="n">count_characters</span><span class="p">(</span><span class="s1">&#39;abcbabc&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
<span class="k">assert</span> <span class="n">count_characters</span><span class="p">(</span><span class="s1">&#39;aababcccabc&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}</span>
<span class="c1">### BEGIN HIDDEN TESTS</span>
<span class="k">assert</span> <span class="n">count_characters</span><span class="p">(</span><span class="s1">&#39;abcdefgabc&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;g&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}</span>
<span class="k">assert</span> <span class="n">count_characters</span><span class="p">(</span><span class="s1">&#39;ab43cb324abc&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="p">{</span><span class="s1">&#39;2&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;4&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
<span class="c1">### END HIDDEN TESTS</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Create an empty dictionary <code class="docutils literal notranslate"><span class="pre">counts</span></code>.</p></li>
<li><p>Use a <code class="docutils literal notranslate"><span class="pre">for</span></code> loop to iterate over each character of <code class="docutils literal notranslate"><span class="pre">string</span></code> to count their numbers of occurrences.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">get</span></code> method of <code class="docutils literal notranslate"><span class="pre">dict</span></code> can initialize the count of a new character before incrementing it.</p></li>
</ul>
<p><strong>Exercise (Count non-Fibonacci numbers)</strong> Define a function <code class="docutils literal notranslate"><span class="pre">count_non_fibs</span></code> that</p>
<ul class="simple">
<li><p>accepts a container as an argument, and</p></li>
<li><p>returns the number of items in the container that are not <a class="reference external" href="https://en.wikipedia.org/wiki/Fibonacci_number">fibonacci numbers</a>.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">count_non_fibs</span><span class="p">(</span><span class="n">container</span><span class="p">):</span>
    <span class="c1">### BEGIN SOLUTION</span>
    <span class="k">def</span> <span class="nf">fib_sequence_inclusive</span><span class="p">(</span><span class="n">stop</span><span class="p">):</span>
        <span class="n">Fn</span><span class="p">,</span> <span class="n">Fn1</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span>
        <span class="k">while</span> <span class="n">Fn</span> <span class="o">&lt;=</span> <span class="n">stop</span><span class="p">:</span>
            <span class="k">yield</span> <span class="n">Fn</span>
            <span class="n">Fn</span><span class="p">,</span> <span class="n">Fn1</span> <span class="o">=</span> <span class="n">Fn1</span><span class="p">,</span> <span class="n">Fn</span> <span class="o">+</span> <span class="n">Fn1</span>

    <span class="n">non_fibs</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">container</span><span class="p">)</span>
    <span class="n">non_fibs</span><span class="o">.</span><span class="n">difference_update</span><span class="p">(</span><span class="n">fib_sequence_inclusive</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">container</span><span class="p">)))</span>
    <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">non_fibs</span><span class="p">)</span>
    <span class="c1">### END SOLUTION</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># tests</span>
<span class="k">assert</span> <span class="n">count_non_fibs</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">])</span> <span class="o">==</span> <span class="mi">0</span>
<span class="k">assert</span> <span class="n">count_non_fibs</span><span class="p">({</span><span class="mi">13</span><span class="p">,</span> <span class="mi">144</span><span class="p">,</span> <span class="mi">99</span><span class="p">,</span> <span class="mi">76</span><span class="p">,</span> <span class="mi">1000</span><span class="p">})</span> <span class="o">==</span> <span class="mi">3</span>
<span class="c1">### BEGIN HIDDEN TESTS</span>
<span class="k">assert</span> <span class="n">count_non_fibs</span><span class="p">({</span><span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="mi">100</span><span class="p">})</span> <span class="o">==</span> <span class="mi">1</span>
<span class="k">assert</span> <span class="n">count_non_fibs</span><span class="p">({</span><span class="mf">0.1</span><span class="p">,</span> <span class="mi">0</span><span class="p">})</span> <span class="o">==</span> <span class="mi">1</span>
<span class="c1">### END HIDDEN TESTS</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Create a set of Fibonacci numbers up to the maximum of the items in the container.</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">difference_update</span></code> method of <code class="docutils literal notranslate"><span class="pre">set</span></code> to create a set of items in the container but not in the set of Fibonacci numbers.</p></li>
</ul>
<p><strong>Exercise (Calculate total salaries)</strong> Suppose <code class="docutils literal notranslate"><span class="pre">salary_dict</span></code> contains information about the name, salary, and working time about employees in a company. An example of <code class="docutils literal notranslate"><span class="pre">salary_dict</span></code> is as follows:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">salary_dict</span> <span class="o">=</span> <span class="p">{</span>
     <span class="s1">&#39;emp1&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;John&#39;</span><span class="p">,</span> <span class="s1">&#39;salary&#39;</span><span class="p">:</span> <span class="mi">15000</span><span class="p">,</span> <span class="s1">&#39;working_time&#39;</span><span class="p">:</span> <span class="mi">20</span><span class="p">},</span>
     <span class="s1">&#39;emp2&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Tom&#39;</span><span class="p">,</span> <span class="s1">&#39;salary&#39;</span><span class="p">:</span> <span class="mi">16000</span><span class="p">,</span> <span class="s1">&#39;working_time&#39;</span><span class="p">:</span> <span class="mi">13</span><span class="p">},</span>
     <span class="s1">&#39;emp3&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Jack&#39;</span><span class="p">,</span> <span class="s1">&#39;salary&#39;</span><span class="p">:</span> <span class="mi">15500</span><span class="p">,</span> <span class="s1">&#39;working_time&#39;</span><span class="p">:</span> <span class="mi">15</span><span class="p">},</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Define a function <code class="docutils literal notranslate"><span class="pre">calculate_total</span></code> that accepts <code class="docutils literal notranslate"><span class="pre">salary_dict</span></code> as an argument, and returns a <code class="docutils literal notranslate"><span class="pre">dict</span></code> that uses the same keys in <code class="docutils literal notranslate"><span class="pre">salary_dict</span></code> but the total salaries as their values.  The total salary of an employee is obtained by multiplying his/her salary and his/her working_time.
E.g.,, for the <code class="docutils literal notranslate"><span class="pre">salary_dict</span></code> example above, <code class="docutils literal notranslate"><span class="pre">calculate_total(salary_dict)</span></code> should return</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;emp1&#39;</span><span class="p">:</span> <span class="mi">300000</span><span class="p">,</span> <span class="s1">&#39;emp2&#39;</span><span class="p">:</span> <span class="mi">208000</span><span class="p">,</span> <span class="s1">&#39;emp3&#39;</span><span class="p">:</span> <span class="mi">232500</span><span class="p">}</span><span class="o">.</span>
</pre></div>
</div>
<p>where the total salary of <code class="docutils literal notranslate"><span class="pre">emp1</span></code> is 15000 \(\times\) 20 = 300000.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">calculate_total</span><span class="p">(</span><span class="n">salary_dict</span><span class="p">):</span>
    <span class="c1">### BEGIN SOLUTION</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="n">emp</span><span class="p">:</span> <span class="n">record</span><span class="p">[</span><span class="s1">&#39;salary&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="n">record</span><span class="p">[</span><span class="s1">&#39;working_time&#39;</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">emp</span><span class="p">,</span> <span class="n">record</span> <span class="ow">in</span> <span class="n">salary_dict</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
    <span class="p">}</span>
    <span class="c1">### END SOLUTION</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># tests</span>
<span class="n">salary_dict</span> <span class="o">=</span> <span class="p">{</span>
     <span class="s1">&#39;emp1&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;John&#39;</span><span class="p">,</span> <span class="s1">&#39;salary&#39;</span><span class="p">:</span> <span class="mi">15000</span><span class="p">,</span> <span class="s1">&#39;working_time&#39;</span><span class="p">:</span> <span class="mi">20</span><span class="p">},</span>
     <span class="s1">&#39;emp2&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Tom&#39;</span><span class="p">,</span> <span class="s1">&#39;salary&#39;</span><span class="p">:</span> <span class="mi">16000</span><span class="p">,</span> <span class="s1">&#39;working_time&#39;</span><span class="p">:</span> <span class="mi">13</span><span class="p">},</span>
     <span class="s1">&#39;emp3&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Jack&#39;</span><span class="p">,</span> <span class="s1">&#39;salary&#39;</span><span class="p">:</span> <span class="mi">15500</span><span class="p">,</span> <span class="s1">&#39;working_time&#39;</span><span class="p">:</span> <span class="mi">15</span><span class="p">},</span>
<span class="p">}</span>
<span class="k">assert</span> <span class="n">calculate_total</span><span class="p">(</span><span class="n">salary_dict</span><span class="p">)</span> <span class="o">==</span> <span class="p">{</span><span class="s1">&#39;emp1&#39;</span><span class="p">:</span> <span class="mi">300000</span><span class="p">,</span> <span class="s1">&#39;emp2&#39;</span><span class="p">:</span> <span class="mi">208000</span><span class="p">,</span> <span class="s1">&#39;emp3&#39;</span><span class="p">:</span> <span class="mi">232500</span><span class="p">}</span>
<span class="c1">### BEGIN HIDDEN TESTS</span>
<span class="n">salary_dict</span> <span class="o">=</span> <span class="p">{</span>
     <span class="s1">&#39;emp1&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;John&#39;</span><span class="p">,</span> <span class="s1">&#39;salary&#39;</span><span class="p">:</span> <span class="mi">15000</span><span class="p">,</span> <span class="s1">&#39;working_time&#39;</span><span class="p">:</span> <span class="mi">20</span><span class="p">},</span>
     <span class="s1">&#39;emp2&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Tom&#39;</span><span class="p">,</span> <span class="s1">&#39;salary&#39;</span><span class="p">:</span> <span class="mi">16000</span><span class="p">,</span> <span class="s1">&#39;working_time&#39;</span><span class="p">:</span> <span class="mi">13</span><span class="p">},</span>
     <span class="s1">&#39;emp3&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Jack&#39;</span><span class="p">,</span> <span class="s1">&#39;salary&#39;</span><span class="p">:</span> <span class="mi">15500</span><span class="p">,</span> <span class="s1">&#39;working_time&#39;</span><span class="p">:</span> <span class="mi">15</span><span class="p">},</span>
     <span class="s1">&#39;emp4&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Bob&#39;</span><span class="p">,</span> <span class="s1">&#39;salary&#39;</span><span class="p">:</span> <span class="mi">20000</span><span class="p">,</span> <span class="s1">&#39;working_time&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">}</span>
<span class="p">}</span>
<span class="k">assert</span> <span class="n">calculate_total</span><span class="p">(</span><span class="n">salary_dict</span><span class="p">)</span> <span class="o">==</span> <span class="p">{</span><span class="s1">&#39;emp1&#39;</span><span class="p">:</span> <span class="mi">300000</span><span class="p">,</span> <span class="s1">&#39;emp2&#39;</span><span class="p">:</span> <span class="mi">208000</span><span class="p">,</span> <span class="s1">&#39;emp3&#39;</span><span class="p">:</span> <span class="mi">232500</span><span class="p">,</span> <span class="s1">&#39;emp4&#39;</span><span class="p">:</span> <span class="mi">200000</span><span class="p">}</span>
<span class="c1">### END HIDDEN TESTS</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Use <code class="docutils literal notranslate"><span class="pre">items</span></code> method of <code class="docutils literal notranslate"><span class="pre">dict</span></code> to return the list of key values pairs, and</p></li>
<li><p>use a dictionary comprehension to create the desired dictionary by iterating through the list of items.</p></li>
</ul>
<p><strong>Exercise (Delete items with value 0 in dictionary)</strong> Define a function <code class="docutils literal notranslate"><span class="pre">zeros_removed</span></code> that</p>
<ul class="simple">
<li><p>takes a dictionary as an argument,</p></li>
<li><p>mutates the dictionary to remove all the keys associated with values equal to <code class="docutils literal notranslate"><span class="pre">0</span></code>,</p></li>
<li><p>and return <code class="docutils literal notranslate"><span class="pre">True</span></code> if at least one key is removed else <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">zeros_removed</span><span class="p">(</span><span class="n">d</span><span class="p">):</span>
    <span class="c1">### BEGIN SOLUTION</span>
    <span class="n">to_delete</span> <span class="o">=</span> <span class="p">[</span><span class="n">k</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">d</span> <span class="k">if</span> <span class="n">d</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">to_delete</span><span class="p">:</span>
        <span class="k">del</span> <span class="n">d</span><span class="p">[</span><span class="n">k</span><span class="p">]</span>
    <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">to_delete</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span>


<span class="c1">## Memory-efficient but not computationally efficient</span>
<span class="c1"># def zeros_removed(d):</span>
<span class="c1">#     has_deleted = False</span>
<span class="c1">#     while True:</span>
<span class="c1">#         for k in d:</span>
<span class="c1">#             if d[k] == 0:</span>
<span class="c1">#                 del d[k]</span>
<span class="c1">#                 has_deleted = True</span>
<span class="c1">#                 break</span>
<span class="c1">#         else: return has_deleted</span>

<span class="c1">### END SOLUTION</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># tests</span>
<span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">:</span><span class="mi">2</span><span class="p">}</span>
<span class="k">assert</span> <span class="n">zeros_removed</span><span class="p">(</span><span class="n">d</span><span class="p">)</span> <span class="o">==</span> <span class="kc">True</span>
<span class="k">assert</span> <span class="n">zeros_removed</span><span class="p">(</span><span class="n">d</span><span class="p">)</span> <span class="o">==</span> <span class="kc">False</span>
<span class="k">assert</span> <span class="n">d</span> <span class="o">==</span> <span class="p">{</span><span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
<span class="c1">### BEGIN HIDDEN TESTS</span>
<span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">:</span><span class="s1">&#39;0&#39;</span><span class="p">}</span>
<span class="k">assert</span> <span class="n">zeros_removed</span><span class="p">(</span><span class="n">d</span><span class="p">)</span> <span class="o">==</span> <span class="kc">True</span>
<span class="k">assert</span> <span class="n">zeros_removed</span><span class="p">(</span><span class="n">d</span><span class="p">)</span> <span class="o">==</span> <span class="kc">False</span>
<span class="k">assert</span> <span class="n">d</span> <span class="o">==</span> <span class="p">{</span><span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">:</span><span class="s1">&#39;0&#39;</span><span class="p">}</span>
<span class="c1">### END HIDDEN TESTS</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>The main issue is that, for any dicionary <code class="docutils literal notranslate"><span class="pre">d</span></code>,</p></li>
</ul>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span>    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">d</span><span class="p">:</span> 
        <span class="k">if</span> <span class="n">d</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> <span class="k">del</span> <span class="n">d</span><span class="p">[</span><span class="n">k</span><span class="p">]</span>
</pre></div>
</div>
<p>raises the <a class="reference external" href="https://www.geeksforgeeks.org/python-delete-items-from-dictionary-while-iterating/"><code class="docutils literal notranslate"><span class="pre">RuntimeError:</span> <span class="pre">dictionary</span> <span class="pre">changed</span> <span class="pre">size</span> <span class="pre">during</span> <span class="pre">iteration</span></code></a>.</p>
<ul class="simple">
<li><p>One solution is to duplicate the list of keys, but this is memory inefficient especially when the list of keys is large.</p></li>
<li><p>Another solution is to record the list of keys to delete before the actual deletion. This is memory efficient if the list of keys to delete is small.</p></li>
</ul>
<p><strong>Exercise (Fuzzy search a set)</strong> Define a function <code class="docutils literal notranslate"><span class="pre">search_fuzzy</span></code> that accepts two arguments <code class="docutils literal notranslate"><span class="pre">myset</span></code> and <code class="docutils literal notranslate"><span class="pre">word</span></code> such that</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">myset</span></code> is a <code class="docutils literal notranslate"><span class="pre">set</span></code> of <code class="docutils literal notranslate"><span class="pre">str</span></code>s;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">word</span></code> is a <code class="docutils literal notranslate"><span class="pre">str</span></code>; and</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">search_fuzzy(myset,</span> <span class="pre">word)</span></code> returns <code class="docutils literal notranslate"><span class="pre">True</span></code> if <code class="docutils literal notranslate"><span class="pre">word</span></code> is in <code class="docutils literal notranslate"><span class="pre">myset</span></code> by changing at most one character in <code class="docutils literal notranslate"><span class="pre">word</span></code>, and returns <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">search_fuzzy</span><span class="p">(</span><span class="n">myset</span><span class="p">,</span> <span class="n">word</span><span class="p">):</span>
    <span class="c1">### BEGIN SOLUTION</span>
    <span class="k">for</span> <span class="n">myword</span> <span class="ow">in</span> <span class="n">myset</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">myword</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span>
            <span class="p">[</span><span class="kc">True</span>
             <span class="k">for</span> <span class="n">mychar</span><span class="p">,</span> <span class="n">char</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">myword</span><span class="p">,</span> <span class="n">word</span><span class="p">)</span> <span class="k">if</span> <span class="n">mychar</span> <span class="o">!=</span> <span class="n">char</span><span class="p">])</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="kc">False</span>
    <span class="c1">### END SOLUTION</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># tests</span>
<span class="k">assert</span> <span class="n">search_fuzzy</span><span class="p">({</span><span class="s1">&#39;cat&#39;</span><span class="p">,</span> <span class="s1">&#39;dog&#39;</span><span class="p">},</span> <span class="s1">&#39;car&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="kc">True</span>
<span class="k">assert</span> <span class="n">search_fuzzy</span><span class="p">({</span><span class="s1">&#39;cat&#39;</span><span class="p">,</span> <span class="s1">&#39;dog&#39;</span><span class="p">},</span> <span class="s1">&#39;fox&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="kc">False</span>
<span class="c1">### BEGIN HIDDEN TESTS</span>
<span class="n">myset</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;cat&#39;</span><span class="p">,</span> <span class="s1">&#39;dog&#39;</span><span class="p">,</span> <span class="s1">&#39;dolphin&#39;</span><span class="p">,</span> <span class="s1">&#39;rabbit&#39;</span><span class="p">,</span> <span class="s1">&#39;monkey&#39;</span><span class="p">,</span> <span class="s1">&#39;tiger&#39;</span><span class="p">}</span>
<span class="k">assert</span> <span class="n">search_fuzzy</span><span class="p">(</span><span class="n">myset</span><span class="p">,</span> <span class="s1">&#39;lion&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="kc">False</span>
<span class="k">assert</span> <span class="n">search_fuzzy</span><span class="p">(</span><span class="n">myset</span><span class="p">,</span> <span class="s1">&#39;cat&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="kc">True</span>
<span class="k">assert</span> <span class="n">search_fuzzy</span><span class="p">(</span><span class="n">myset</span><span class="p">,</span> <span class="s1">&#39;cat &#39;</span><span class="p">)</span> <span class="o">==</span> <span class="kc">False</span>
<span class="k">assert</span> <span class="n">search_fuzzy</span><span class="p">(</span><span class="n">myset</span><span class="p">,</span> <span class="s1">&#39;fox&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="kc">False</span>
<span class="k">assert</span> <span class="n">search_fuzzy</span><span class="p">(</span><span class="n">myset</span><span class="p">,</span> <span class="s1">&#39;ccc&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="kc">False</span>
<span class="c1">### END HIDDEN TESTS</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Iterate over each word in <code class="docutils literal notranslate"><span class="pre">myset</span></code>.</p></li>
<li><p>Check whether the length of the word is the same as that of the word in the arguments.</p></li>
<li><p>If the above check passes, use a list comprehension check if the words differ by at most one character.</p></li>
</ul>
<p><strong>Exercise (Get keys by value)</strong> Define a function <code class="docutils literal notranslate"><span class="pre">get_keys_by_value</span></code> that accepts two arguments <code class="docutils literal notranslate"><span class="pre">d</span></code> and <code class="docutils literal notranslate"><span class="pre">value</span></code> where <code class="docutils literal notranslate"><span class="pre">d</span></code> is a dictionary, and returns a set containing all the keys in <code class="docutils literal notranslate"><span class="pre">d</span></code> that have <code class="docutils literal notranslate"><span class="pre">value</span></code> as its value. If no key has the query value <code class="docutils literal notranslate"><span class="pre">value</span></code>, then return an empty set.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_keys_by_value</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
    <span class="c1">### BEGIN SOLUTION</span>
    <span class="k">return</span> <span class="p">{</span><span class="n">k</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">d</span> <span class="k">if</span> <span class="n">d</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">==</span> <span class="n">value</span><span class="p">}</span>
    <span class="c1">### END SOLUTION</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># tests</span>
<span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Tom&#39;</span><span class="p">:</span><span class="s1">&#39;99&#39;</span><span class="p">,</span> <span class="s1">&#39;John&#39;</span><span class="p">:</span><span class="s1">&#39;88&#39;</span><span class="p">,</span> <span class="s1">&#39;Lucy&#39;</span><span class="p">:</span><span class="s1">&#39;100&#39;</span><span class="p">,</span> <span class="s1">&#39;Lily&#39;</span><span class="p">:</span><span class="s1">&#39;90&#39;</span><span class="p">,</span> <span class="s1">&#39;Jason&#39;</span><span class="p">:</span><span class="s1">&#39;89&#39;</span><span class="p">,</span> <span class="s1">&#39;Jack&#39;</span><span class="p">:</span><span class="s1">&#39;100&#39;</span><span class="p">}</span>
<span class="k">assert</span> <span class="n">get_keys_by_value</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="s1">&#39;99&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="p">{</span><span class="s1">&#39;Tom&#39;</span><span class="p">}</span>
<span class="c1">### BEGIN HIDDEN TESTS</span>
<span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Tom&#39;</span><span class="p">:</span><span class="s1">&#39;99&#39;</span><span class="p">,</span> <span class="s1">&#39;John&#39;</span><span class="p">:</span><span class="s1">&#39;88&#39;</span><span class="p">,</span> <span class="s1">&#39;Lucy&#39;</span><span class="p">:</span><span class="s1">&#39;100&#39;</span><span class="p">,</span> <span class="s1">&#39;Lily&#39;</span><span class="p">:</span><span class="s1">&#39;90&#39;</span><span class="p">,</span> <span class="s1">&#39;Jason&#39;</span><span class="p">:</span><span class="s1">&#39;89&#39;</span><span class="p">,</span> <span class="s1">&#39;Jack&#39;</span><span class="p">:</span><span class="s1">&#39;100&#39;</span><span class="p">}</span>
<span class="k">assert</span> <span class="n">get_keys_by_value</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="s1">&#39;100&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="p">{</span><span class="s1">&#39;Jack&#39;</span><span class="p">,</span> <span class="s1">&#39;Lucy&#39;</span><span class="p">}</span>
<span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Tom&#39;</span><span class="p">:</span><span class="s1">&#39;99&#39;</span><span class="p">,</span> <span class="s1">&#39;John&#39;</span><span class="p">:</span><span class="s1">&#39;88&#39;</span><span class="p">,</span> <span class="s1">&#39;Lucy&#39;</span><span class="p">:</span><span class="s1">&#39;100&#39;</span><span class="p">,</span> <span class="s1">&#39;Lily&#39;</span><span class="p">:</span><span class="s1">&#39;90&#39;</span><span class="p">,</span> <span class="s1">&#39;Jason&#39;</span><span class="p">:</span><span class="s1">&#39;89&#39;</span><span class="p">,</span> <span class="s1">&#39;Jack&#39;</span><span class="p">:</span><span class="s1">&#39;100&#39;</span><span class="p">}</span>
<span class="k">assert</span> <span class="n">get_keys_by_value</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="nb">set</span><span class="p">()</span>
<span class="c1">### END HIDDEN TESTS</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Use set comprehension to create the set of keys whose associated values is <code class="docutils literal notranslate"><span class="pre">value</span></code>.</p></li>
</ul>
<p><strong>Exercise (Count letters and digits)</strong> Define a function <code class="docutils literal notranslate"><span class="pre">count_letters_and_digits</span></code> which</p>
<ul class="simple">
<li><p>take a string as an argument,</p></li>
<li><p>returns a dictionary that stores the number of letters and digits in the string using the keys ‘LETTERS’ and ‘DIGITS’ respectively.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">count_letters_and_digits</span><span class="p">(</span><span class="n">string</span><span class="p">):</span>
    <span class="c1">### BEGIN SOLUTION</span>
    <span class="n">check</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;LETTERS&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="o">.</span><span class="n">isalpha</span><span class="p">,</span> <span class="s1">&#39;DIGITS&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="o">.</span><span class="n">isdigit</span><span class="p">}</span>
    <span class="n">counts</span> <span class="o">=</span> <span class="nb">dict</span><span class="o">.</span><span class="n">fromkeys</span><span class="p">(</span><span class="n">check</span><span class="o">.</span><span class="n">keys</span><span class="p">(),</span> <span class="mi">0</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">string</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">check</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">check</span><span class="p">[</span><span class="n">t</span><span class="p">](</span><span class="n">char</span><span class="p">):</span>
                <span class="n">counts</span><span class="p">[</span><span class="n">t</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">return</span> <span class="n">counts</span>
    <span class="c1">### END SOLUTION</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">assert</span> <span class="n">count_letters_and_digits</span><span class="p">(</span><span class="s1">&#39;hello world! 2020&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="p">{</span><span class="s1">&#39;DIGITS&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;LETTERS&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">}</span>
<span class="k">assert</span> <span class="n">count_letters_and_digits</span><span class="p">(</span><span class="s1">&#39;I love CS1302&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="p">{</span><span class="s1">&#39;DIGITS&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;LETTERS&#39;</span><span class="p">:</span> <span class="mi">7</span><span class="p">}</span>
<span class="c1">### BEGIN HIDDEN TESTS</span>
<span class="k">assert</span> <span class="n">count_letters_and_digits</span><span class="p">(</span><span class="s1">&#39;Hi CityU see you in 2021&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="p">{</span><span class="s1">&#39;DIGITS&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;LETTERS&#39;</span><span class="p">:</span> <span class="mi">15</span><span class="p">}</span>
<span class="k">assert</span> <span class="n">count_letters_and_digits</span><span class="p">(</span><span class="s1">&#39;When a dog runs at you, whistle for him. (Philosopher Henry David Thoreau, 1817-1862)&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="p">{</span><span class="s1">&#39;DIGITS&#39;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span> <span class="s1">&#39;LETTERS&#39;</span><span class="p">:</span> <span class="mi">58</span><span class="p">}</span>
<span class="c1">### END HIDDEN TESTS</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Use the class method <code class="docutils literal notranslate"><span class="pre">fromkeys</span></code> of <code class="docutils literal notranslate"><span class="pre">dict</span></code> to initial the dictionary of counts.</p></li>
</ul>
<p><strong>Exercise (Dealers with lowest price)</strong> Suppose <code class="docutils literal notranslate"><span class="pre">apple_price</span></code> is a list in which each element is a <code class="docutils literal notranslate"><span class="pre">dict</span></code> recording the dealer and the corresponding price, e.g.,</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">apple_price</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;dealer&#39;</span><span class="p">:</span> <span class="s1">&#39;dealer_A&#39;</span><span class="p">,</span> <span class="s1">&#39;price&#39;</span><span class="p">:</span> <span class="mi">6799</span><span class="p">},</span>
 <span class="p">{</span><span class="s1">&#39;dealer&#39;</span><span class="p">:</span> <span class="s1">&#39;dealer_B&#39;</span><span class="p">,</span> <span class="s1">&#39;price&#39;</span><span class="p">:</span> <span class="mi">6749</span><span class="p">},</span>
 <span class="p">{</span><span class="s1">&#39;dealer&#39;</span><span class="p">:</span> <span class="s1">&#39;dealer_C&#39;</span><span class="p">,</span> <span class="s1">&#39;price&#39;</span><span class="p">:</span> <span class="mi">6798</span><span class="p">},</span>
 <span class="p">{</span><span class="s1">&#39;dealer&#39;</span><span class="p">:</span> <span class="s1">&#39;dealer_D&#39;</span><span class="p">,</span> <span class="s1">&#39;price&#39;</span><span class="p">:</span> <span class="mi">6749</span><span class="p">}]</span>
</pre></div>
</div>
<p>Define a function <code class="docutils literal notranslate"><span class="pre">dealers_with_lowest_price</span></code> that takes <code class="docutils literal notranslate"><span class="pre">apple_price</span></code> as an argument, and returns the <code class="docutils literal notranslate"><span class="pre">set</span></code> of dealers providing the lowest price.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">dealers_with_lowest_price</span><span class="p">(</span><span class="n">apple_price</span><span class="p">):</span>
    <span class="c1">### BEGIN SOLUTION</span>
    <span class="n">dealers</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">lowest_price</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">for</span> <span class="n">pricing</span> <span class="ow">in</span> <span class="n">apple_price</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">lowest_price</span> <span class="o">==</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">lowest_price</span> <span class="o">&gt;</span> <span class="n">pricing</span><span class="p">[</span><span class="s1">&#39;price&#39;</span><span class="p">]:</span>
            <span class="n">lowest_price</span> <span class="o">=</span> <span class="n">pricing</span><span class="p">[</span><span class="s1">&#39;price&#39;</span><span class="p">]</span>
        <span class="n">dealers</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">pricing</span><span class="p">[</span><span class="s1">&#39;price&#39;</span><span class="p">],</span> <span class="nb">set</span><span class="p">())</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">pricing</span><span class="p">[</span><span class="s1">&#39;dealer&#39;</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">dealers</span><span class="p">[</span><span class="n">lowest_price</span><span class="p">]</span>

<span class="c1">## Shorter code that uses comprehension</span>
<span class="c1"># def dealers_with_lowest_price(apple_price):</span>
<span class="c1">#     lowest_price = min(pricing[&#39;price&#39;] for pricing in apple_price)</span>
<span class="c1">#     return set(pricing[&#39;dealer&#39;] for pricing in apple_price</span>
<span class="c1">#                if pricing[&#39;price&#39;] == lowest_price)</span>
    <span class="c1">### END SOLUTION</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># tests</span>
<span class="n">apple_price</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;dealer&#39;</span><span class="p">:</span> <span class="s1">&#39;dealer_A&#39;</span><span class="p">,</span> <span class="s1">&#39;price&#39;</span><span class="p">:</span> <span class="mi">6799</span><span class="p">},</span>
 <span class="p">{</span><span class="s1">&#39;dealer&#39;</span><span class="p">:</span> <span class="s1">&#39;dealer_B&#39;</span><span class="p">,</span> <span class="s1">&#39;price&#39;</span><span class="p">:</span> <span class="mi">6749</span><span class="p">},</span>
 <span class="p">{</span><span class="s1">&#39;dealer&#39;</span><span class="p">:</span> <span class="s1">&#39;dealer_C&#39;</span><span class="p">,</span> <span class="s1">&#39;price&#39;</span><span class="p">:</span> <span class="mi">6798</span><span class="p">},</span>
 <span class="p">{</span><span class="s1">&#39;dealer&#39;</span><span class="p">:</span> <span class="s1">&#39;dealer_D&#39;</span><span class="p">,</span> <span class="s1">&#39;price&#39;</span><span class="p">:</span> <span class="mi">6749</span><span class="p">}]</span>
<span class="k">assert</span> <span class="n">dealers_with_lowest_price</span><span class="p">(</span><span class="n">apple_price</span><span class="p">)</span> <span class="o">==</span> <span class="p">{</span><span class="s1">&#39;dealer_B&#39;</span><span class="p">,</span> <span class="s1">&#39;dealer_D&#39;</span><span class="p">}</span>
<span class="c1">### BEGIN HIDDEN TESTS</span>
<span class="n">apple_price</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;dealer&#39;</span><span class="p">:</span> <span class="s1">&#39;dealer_A&#39;</span><span class="p">,</span> <span class="s1">&#39;price&#39;</span><span class="p">:</span> <span class="mi">6799</span><span class="p">},</span>
 <span class="p">{</span><span class="s1">&#39;dealer&#39;</span><span class="p">:</span> <span class="s1">&#39;dealer_B&#39;</span><span class="p">,</span> <span class="s1">&#39;price&#39;</span><span class="p">:</span> <span class="mi">6799</span><span class="p">},</span>
 <span class="p">{</span><span class="s1">&#39;dealer&#39;</span><span class="p">:</span> <span class="s1">&#39;dealer_C&#39;</span><span class="p">,</span> <span class="s1">&#39;price&#39;</span><span class="p">:</span> <span class="mi">6799</span><span class="p">},</span>
 <span class="p">{</span><span class="s1">&#39;dealer&#39;</span><span class="p">:</span> <span class="s1">&#39;dealer_D&#39;</span><span class="p">,</span> <span class="s1">&#39;price&#39;</span><span class="p">:</span> <span class="mi">6799</span><span class="p">}]</span>
<span class="k">assert</span> <span class="n">dealers_with_lowest_price</span><span class="p">(</span><span class="n">apple_price</span><span class="p">)</span> <span class="o">==</span> <span class="p">{</span><span class="s1">&#39;dealer_A&#39;</span><span class="p">,</span> <span class="s1">&#39;dealer_B&#39;</span><span class="p">,</span> <span class="s1">&#39;dealer_C&#39;</span><span class="p">,</span> <span class="s1">&#39;dealer_D&#39;</span><span class="p">}</span>
<span class="c1">### END HIDDEN TESTS</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Use the class method <code class="docutils literal notranslate"><span class="pre">setdefault</span></code> of <code class="docutils literal notranslate"><span class="pre">dict</span></code> to create a dictionary that maps different prices to different sets of dealers.</p></li>
<li><p>Compute the lowest price at the same time.</p></li>
<li><p>Alternatively, use comprehension to find lowest price and then create the desired set of dealers with the lowest price.</p></li>
</ul>
</div>
<div class="section" id="lists-and-tuples">
<h4>Lists and Tuples<a class="headerlink" href="#lists-and-tuples" title="Permalink to this headline">¶</a></h4>
<p><strong>Exercise</strong> (Binary addition) Define a function <code class="docutils literal notranslate"><span class="pre">add_binary</span></code> that</p>
<ul class="simple">
<li><p>accepts two arguments of type <code class="docutils literal notranslate"><span class="pre">str</span></code> which represent two non-negative binary numbers, and</p></li>
<li><p>returns the binary number in <code class="docutils literal notranslate"><span class="pre">str</span></code> equal to the sum of the two given binary numbers.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">add_binary</span><span class="p">(</span><span class="o">*</span><span class="n">binaries</span><span class="p">):</span>
    <span class="c1">### BEGIN SOLUTION</span>
    <span class="k">def</span> <span class="nf">binary_to_decimal</span><span class="p">(</span><span class="n">binary</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="mi">2</span><span class="o">**</span><span class="n">i</span> <span class="o">*</span> <span class="nb">int</span><span class="p">(</span><span class="n">b</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">b</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">reversed</span><span class="p">(</span><span class="n">binary</span><span class="p">)))</span>

    <span class="k">def</span> <span class="nf">decimal_to_binary</span><span class="p">(</span><span class="n">decimal</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">((</span><span class="n">decimal_to_binary</span><span class="p">(</span><span class="n">decimal</span> <span class="o">//</span> <span class="mi">2</span><span class="p">)</span> <span class="k">if</span> <span class="n">decimal</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="k">else</span> <span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="o">+</span>
                <span class="nb">str</span><span class="p">(</span><span class="n">decimal</span> <span class="o">%</span> <span class="mi">2</span><span class="p">))</span> <span class="k">if</span> <span class="n">decimal</span> <span class="k">else</span> <span class="s1">&#39;0&#39;</span>
    
    <span class="k">return</span> <span class="n">decimal_to_binary</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">binary_to_decimal</span><span class="p">(</span><span class="n">binary</span><span class="p">)</span> <span class="k">for</span> <span class="n">binary</span> <span class="ow">in</span> <span class="n">binaries</span><span class="p">))</span>

<span class="c1">## Alternative 1 using recursion</span>
<span class="c1"># def add_binary(bin1, bin2, carry=False):</span>
<span class="c1">#     if len(bin1) &gt; len(bin2):</span>
<span class="c1">#         return add_binary(bin2, bin1)</span>
<span class="c1">#     if bin1 == &#39;&#39;:</span>
<span class="c1">#         return add_binary(&#39;1&#39;, bin2, False) if carry else bin2</span>
<span class="c1">#     s = int(bin1[-1]) + int(bin2[-1]) + carry</span>
<span class="c1">#     return add_binary(bin1[:-1], bin2[:-1], s &gt; 1) + str(s % 2)</span>

<span class="c1">## Alternatve 2 using iteration</span>
<span class="c1"># def add_binary(a, b):</span>
<span class="c1">#     answer = []</span>
<span class="c1">#     n = max(len(a), len(b))</span>
<span class="c1">#     # fill necessary &#39;0&#39; to the beginning to make a and b have the same length</span>
<span class="c1">#     if len(a) &lt; n: a = str(&#39;0&#39; * (n -len(a))) + a </span>
<span class="c1">#     if len(b) &lt; n: b = str(&#39;0&#39; * (n -len(b))) + b</span>
<span class="c1">#     carry = 0</span>
<span class="c1">#     for i in range(n-1, -1, -1):</span>
<span class="c1">#         if a[i] == &#39;1&#39;: carry += 1</span>
<span class="c1">#         if b[i] == &#39;1&#39;: carry += 1</span>
<span class="c1">#         answer.insert(0, &#39;1&#39;) if carry % 2 == 1 else answer.insert(0, &#39;0&#39;)</span>
<span class="c1">#         carry //= 2</span>
<span class="c1">#     if carry == 1: answer.insert(0, &#39;1&#39;)</span>
<span class="c1">#     answer_str = &#39;&#39;.join(answer) # you can also use &quot;answer_str = &#39;&#39;;  for x in answer: answer_str += x&quot;</span>
<span class="c1">#     return answerastr</span>

    <span class="c1">### END SOLUTION</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># tests</span>
<span class="k">assert</span> <span class="n">add_binary</span><span class="p">(</span><span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;0&#39;</span>
<span class="k">assert</span> <span class="n">add_binary</span><span class="p">(</span><span class="s1">&#39;11&#39;</span><span class="p">,</span> <span class="s1">&#39;11&#39;</span><span class="p">)</span>  <span class="o">==</span> <span class="s1">&#39;110&#39;</span>
<span class="k">assert</span> <span class="n">add_binary</span><span class="p">(</span><span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">)</span>  <span class="o">==</span> <span class="s1">&#39;1010&#39;</span>
<span class="c1">### BEGIN HIDDEN TESTS</span>
<span class="k">assert</span> <span class="n">add_binary</span><span class="p">(</span><span class="s1">&#39;1111&#39;</span><span class="p">,</span> <span class="s1">&#39;10&#39;</span><span class="p">)</span>  <span class="o">==</span> <span class="s1">&#39;10001&#39;</span>
<span class="k">assert</span> <span class="n">add_binary</span><span class="p">(</span><span class="s1">&#39;111110000011&#39;</span><span class="p">,</span><span class="s1">&#39;110000111&#39;</span><span class="p">)</span>  <span class="o">==</span> <span class="s1">&#39;1000100001010&#39;</span>
<span class="c1">### END HIDDEN TESTS</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Use comprehension to convert the binary numbers to decimal numbers.</p></li>
<li><p>Use comprehension to convert the sum of the decimal numbers to a binary number.</p></li>
<li><p>Alternatively, perform bitwise addition using a recursion or iteration.</p></li>
</ul>
<p><strong>Exercise (Even-digit numbers)</strong> Define a function <code class="docutils literal notranslate"><span class="pre">even_digit_numbers</span></code>, which finds all numbers between <code class="docutils literal notranslate"><span class="pre">lower_bound</span></code> and <code class="docutils literal notranslate"><span class="pre">upper_bound</span></code> such that each digit of the number is an even number. Please return the numbers as a list.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">even_digit_numbers</span><span class="p">(</span><span class="n">lower_bound</span><span class="p">,</span> <span class="n">upper_bound</span><span class="p">):</span>
    <span class="c1">### BEGIN SOLUTION</span>
    <span class="k">return</span> <span class="p">[</span>
        <span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">lower_bound</span><span class="p">,</span> <span class="n">upper_bound</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">any</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">d</span><span class="p">)</span> <span class="o">%</span> <span class="mi">2</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
    <span class="p">]</span>
    <span class="c1">### END SOLUTION</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># tests</span>
<span class="k">assert</span> <span class="n">even_digit_numbers</span><span class="p">(</span><span class="mi">1999</span><span class="p">,</span> <span class="mi">2001</span><span class="p">)</span> <span class="o">==</span> <span class="p">[</span><span class="mi">2000</span><span class="p">]</span>
<span class="k">assert</span> <span class="n">even_digit_numbers</span><span class="p">(</span><span class="mi">2805</span><span class="p">,</span> <span class="mi">2821</span><span class="p">)</span> <span class="o">==</span> <span class="p">[</span><span class="mi">2806</span><span class="p">,</span><span class="mi">2808</span><span class="p">,</span><span class="mi">2820</span><span class="p">]</span>
<span class="c1">### BEGIN HIDDEN TESTS</span>
<span class="k">assert</span> <span class="n">even_digit_numbers</span><span class="p">(</span><span class="mi">1999</span><span class="p">,</span> <span class="mi">2300</span><span class="p">)</span> <span class="o">==</span> <span class="p">[</span><span class="mi">2000</span><span class="p">,</span><span class="mi">2002</span><span class="p">,</span><span class="mi">2004</span><span class="p">,</span><span class="mi">2006</span><span class="p">,</span><span class="mi">2008</span><span class="p">,</span><span class="mi">2020</span><span class="p">,</span><span class="mi">2022</span><span class="p">,</span><span class="mi">2024</span><span class="p">,</span><span class="mi">2026</span><span class="p">,</span><span class="mi">2028</span><span class="p">,</span><span class="mi">2040</span><span class="p">,</span><span class="mi">2042</span><span class="p">,</span><span class="mi">2044</span><span class="p">,</span><span class="mi">2046</span><span class="p">,</span><span class="mi">2048</span><span class="p">,</span><span class="mi">2060</span><span class="p">,</span><span class="mi">2062</span><span class="p">,</span><span class="mi">2064</span><span class="p">,</span><span class="mi">2066</span><span class="p">,</span><span class="mi">2068</span><span class="p">,</span><span class="mi">2080</span><span class="p">,</span><span class="mi">2082</span><span class="p">,</span><span class="mi">2084</span><span class="p">,</span><span class="mi">2086</span><span class="p">,</span><span class="mi">2088</span><span class="p">,</span><span class="mi">2200</span><span class="p">,</span><span class="mi">2202</span><span class="p">,</span><span class="mi">2204</span><span class="p">,</span><span class="mi">2206</span><span class="p">,</span><span class="mi">2208</span><span class="p">,</span><span class="mi">2220</span><span class="p">,</span><span class="mi">2222</span><span class="p">,</span><span class="mi">2224</span><span class="p">,</span><span class="mi">2226</span><span class="p">,</span><span class="mi">2228</span><span class="p">,</span><span class="mi">2240</span><span class="p">,</span><span class="mi">2242</span><span class="p">,</span><span class="mi">2244</span><span class="p">,</span><span class="mi">2246</span><span class="p">,</span><span class="mi">2248</span><span class="p">,</span><span class="mi">2260</span><span class="p">,</span><span class="mi">2262</span><span class="p">,</span><span class="mi">2264</span><span class="p">,</span><span class="mi">2266</span><span class="p">,</span><span class="mi">2268</span><span class="p">,</span><span class="mi">2280</span><span class="p">,</span><span class="mi">2282</span><span class="p">,</span><span class="mi">2284</span><span class="p">,</span><span class="mi">2286</span><span class="p">,</span><span class="mi">2288</span><span class="p">]</span>
<span class="k">assert</span> <span class="n">even_digit_numbers</span><span class="p">(</span><span class="mi">8801</span><span class="p">,</span> <span class="mi">8833</span><span class="p">)</span> <span class="o">==</span> <span class="p">[</span><span class="mi">8802</span><span class="p">,</span><span class="mi">8804</span><span class="p">,</span><span class="mi">8806</span><span class="p">,</span><span class="mi">8808</span><span class="p">,</span><span class="mi">8820</span><span class="p">,</span><span class="mi">8822</span><span class="p">,</span><span class="mi">8824</span><span class="p">,</span><span class="mi">8826</span><span class="p">,</span><span class="mi">8828</span><span class="p">]</span>
<span class="k">assert</span> <span class="n">even_digit_numbers</span><span class="p">(</span><span class="mi">3662</span><span class="p">,</span> <span class="mi">4001</span><span class="p">)</span> <span class="o">==</span> <span class="p">[</span><span class="mi">4000</span><span class="p">]</span>
<span class="c1">### END HIDDEN TESTS</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Use list comprehension to generate numbers between the bounds, and</p></li>
<li><p>use comprehension and the <code class="docutils literal notranslate"><span class="pre">any</span></code> function to filter out those numbers containing odd digits.</p></li>
</ul>
<p><strong>Exercise (Maximum subsequence sum)</strong> Define a function <code class="docutils literal notranslate"><span class="pre">max_subsequence_sum</span></code> that</p>
<ul class="simple">
<li><p>accepts as an argument a sequence of numbers, and</p></li>
<li><p>returns the maximum sum over nonempty contiguous subsequences.</p></li>
</ul>
<p>E.g., when <code class="docutils literal notranslate"><span class="pre">[-6,</span> <span class="pre">-4,</span> <span class="pre">4,</span> <span class="pre">1,</span> <span class="pre">-2,</span> <span class="pre">2]</span></code> is given as the argument, the function returns <code class="docutils literal notranslate"><span class="pre">5</span></code> because the nonempty subsequence <code class="docutils literal notranslate"><span class="pre">[4,</span> <span class="pre">1]</span></code> has the maximum sum <code class="docutils literal notranslate"><span class="pre">5</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">max_subsequence_sum</span><span class="p">(</span><span class="n">a</span><span class="p">):</span>
    <span class="c1">### BEGIN SOLUTION</span>
    <span class="c1">## see https://en.wikipedia.org/wiki/Maximum_subarray_problem</span>
    <span class="n">t</span> <span class="o">=</span> <span class="n">s</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">a</span><span class="p">:</span>
        <span class="n">t</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">t</span> <span class="o">+</span> <span class="n">x</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">s</span>

<span class="c1">## Alternative (less efficient) solution using list comprehension</span>
<span class="c1"># def max_subsequence_sum(a):</span>
<span class="c1">#     return max(sum(a[i:j]) for i in range(len(a)) for j in range(i,len(a)+1))</span>

    <span class="c1">### END SOLUTION</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># tests</span>
<span class="k">assert</span> <span class="n">max_subsequence_sum</span><span class="p">([</span><span class="o">-</span><span class="mi">6</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span> <span class="o">==</span> <span class="mi">5</span>
<span class="k">assert</span> <span class="n">max_subsequence_sum</span><span class="p">([</span><span class="mf">2.5</span><span class="p">,</span> <span class="mf">1.4</span><span class="p">,</span> <span class="o">-</span><span class="mf">2.5</span><span class="p">,</span> <span class="mf">1.4</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">,</span> <span class="mf">1.6</span><span class="p">])</span> <span class="o">==</span> <span class="mf">5.9</span>
<span class="c1">### BEGIN HIDDEN TESTS</span>
<span class="n">seq</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mf">24.81</span><span class="p">,</span> <span class="mf">25.74</span><span class="p">,</span> <span class="mf">37.29</span><span class="p">,</span> <span class="o">-</span><span class="mf">8.77</span><span class="p">,</span> <span class="mf">0.78</span><span class="p">,</span> <span class="o">-</span><span class="mf">15.33</span><span class="p">,</span> <span class="mf">30.21</span><span class="p">,</span> <span class="mf">34.94</span><span class="p">,</span> <span class="o">-</span><span class="mf">40.64</span><span class="p">,</span> <span class="o">-</span><span class="mf">20.06</span><span class="p">]</span>
<span class="k">assert</span> <span class="nb">round</span><span class="p">(</span><span class="n">max_subsequence_sum</span><span class="p">(</span><span class="n">seq</span><span class="p">),</span><span class="mi">2</span><span class="p">)</span> <span class="o">==</span> <span class="mf">104.86</span>
<span class="c1">### BEGIN HIDDEN TESTS</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># test of efficiency</span>
<span class="k">assert</span> <span class="n">max_subsequence_sum</span><span class="p">([</span><span class="o">*</span><span class="nb">range</span><span class="p">(</span><span class="mi">1234567</span><span class="p">)])</span> <span class="o">==</span> <span class="mi">762077221461</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>For a list <span class="math notranslate nohighlight">\([a_0,a_1,\dots]\)</span>, let</p></li>
</ul>
<div class="math notranslate nohighlight">
\[
t_k:=\max_{j&lt;k} \sum_{i=j}^{k-1} a_i = \max\{t_{k-1}+a_{k-1},0\},
\]</div>
<p>namely the maximum tail sum of <span class="math notranslate nohighlight">\([a_0,\dots,a_{k-1}]\)</span>.</p>
<ul class="simple">
<li><p>Then, the maximum subsequence sum of <span class="math notranslate nohighlight">\([a_0,\dots,a_{k-1}]\)</span> is</p></li>
</ul>
<div class="math notranslate nohighlight">
\[
s_k:=\max_{j\leq k} t_j.
\]</div>
<p><strong>Exercise (Mergesort)</strong> <em>For this question, do not use the <code class="docutils literal notranslate"><span class="pre">sort</span></code> method or <code class="docutils literal notranslate"><span class="pre">sorted</span></code> function.</em></p>
<p>Define a function called <code class="docutils literal notranslate"><span class="pre">merge</span></code> that</p>
<ul class="simple">
<li><p>takes two sequences sorted in ascending orders, and</p></li>
<li><p>returns a sorted list of items from the two sequences.</p></li>
</ul>
<p>Then, define a function called <code class="docutils literal notranslate"><span class="pre">mergesort</span></code> that</p>
<ul class="simple">
<li><p>takes a sequence, and</p></li>
<li><p>return a list of items from the sequence sorted in ascending order.</p></li>
</ul>
<p>The list should be constructed by</p>
<ul class="simple">
<li><p>recursive calls to <code class="docutils literal notranslate"><span class="pre">mergesort</span></code> the first and second halves of the sequence individually, and</p></li>
<li><p>merge the sorted halves.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">merge</span><span class="p">(</span><span class="n">left</span><span class="p">,</span><span class="n">right</span><span class="p">):</span>
    <span class="c1">### BEGIN SOLUTION</span>
    <span class="k">if</span> <span class="n">left</span> <span class="ow">and</span> <span class="n">right</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">left</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">right</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span> <span class="n">left</span><span class="p">,</span> <span class="n">right</span> <span class="o">=</span> <span class="n">right</span><span class="p">,</span> <span class="n">left</span>
        <span class="k">return</span> <span class="n">merge</span><span class="p">(</span><span class="n">left</span><span class="p">,</span><span class="n">right</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span> <span class="o">+</span> <span class="p">[</span><span class="n">right</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span>
    <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">left</span> <span class="ow">or</span> <span class="n">right</span><span class="p">)</span>
    <span class="c1">### END SOLUTION</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">mergesort</span><span class="p">(</span><span class="n">seq</span><span class="p">):</span>
    <span class="c1">### BEGIN SOLUTION</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">seq</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">seq</span><span class="p">)</span>
    <span class="n">i</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">seq</span><span class="p">)</span><span class="o">//</span><span class="mi">2</span>
    <span class="k">return</span> <span class="n">merge</span><span class="p">(</span><span class="n">mergesort</span><span class="p">(</span><span class="n">seq</span><span class="p">[:</span><span class="n">i</span><span class="p">]),</span><span class="n">mergesort</span><span class="p">(</span><span class="n">seq</span><span class="p">[</span><span class="n">i</span><span class="p">:]))</span>
    <span class="c1">### END SOLUTION</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># tests</span>
<span class="k">assert</span> <span class="n">merge</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span> <span class="o">==</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]</span>
<span class="k">assert</span> <span class="n">mergesort</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span> <span class="o">==</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="c1">### BEGIN HIDDEN TESTS</span>
<span class="k">assert</span> <span class="n">mergesort</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span> <span class="o">==</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">]</span>
<span class="c1">### END HIDDEN TESTS</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="more-functions">
<h4>More Functions<a class="headerlink" href="#more-functions" title="Permalink to this headline">¶</a></h4>
<p><strong>Exercise (Arithmetic geometric mean)</strong> Define a function <code class="docutils literal notranslate"><span class="pre">arithmetic_geometric_mean_sequence</span></code> which</p>
<ul class="simple">
<li><p>takes two floating point numbers  <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> and</p></li>
<li><p>returns a generator that generates the tuple \((a_n, g_n)\) where</p></li>
</ul>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{aligned}
a_0 &amp;= x, g_0 = y \\
a_n &amp;= \frac{a_{n-1} + g_{n-1}}2 \quad \text{for }n&gt;0\\
g_n &amp;= \sqrt{a_{n-1} g_{n-1}}
\end{aligned}
\end{split}\]</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">arithmetic_geometric_mean_sequence</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="c1">### BEGIN SOLUTION</span>
    <span class="n">a</span><span class="p">,</span> <span class="n">g</span> <span class="o">=</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="k">yield</span> <span class="n">a</span><span class="p">,</span> <span class="n">g</span>
        <span class="n">a</span><span class="p">,</span> <span class="n">g</span> <span class="o">=</span> <span class="p">(</span><span class="n">a</span> <span class="o">+</span> <span class="n">g</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="p">(</span><span class="n">a</span><span class="o">*</span><span class="n">g</span><span class="p">)</span><span class="o">**</span><span class="mf">0.5</span>
    <span class="c1">### END SOLUTION</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># tests</span>
<span class="n">agm</span> <span class="o">=</span> <span class="n">arithmetic_geometric_mean_sequence</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">24</span><span class="p">)</span>
<span class="k">assert</span> <span class="p">[</span><span class="nb">next</span><span class="p">(</span><span class="n">agm</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">)]</span> <span class="o">==</span> <span class="p">[(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">24</span><span class="p">),</span> <span class="p">(</span><span class="mf">15.0</span><span class="p">,</span> <span class="mf">12.0</span><span class="p">)]</span>
<span class="c1">### BEGIN HIDDEN TESTS</span>
<span class="n">agm</span> <span class="o">=</span> <span class="n">arithmetic_geometric_mean_sequence</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="mi">400</span><span class="p">)</span>
<span class="k">for</span> <span class="n">sol</span><span class="p">,</span> <span class="n">ans</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">([</span><span class="nb">next</span><span class="p">(</span><span class="n">agm</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)],</span> <span class="p">[(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">400</span><span class="p">),</span> <span class="p">(</span><span class="mf">250.0</span><span class="p">,</span> <span class="mf">200.0</span><span class="p">),</span> <span class="p">(</span><span class="mf">225.0</span><span class="p">,</span> <span class="mf">223.60679774997897</span><span class="p">),</span> <span class="p">(</span><span class="mf">224.30339887498948</span><span class="p">,</span> <span class="mf">224.30231718318308</span><span class="p">),</span> <span class="p">(</span><span class="mf">224.30285802908628</span><span class="p">,</span> <span class="mf">224.30285802843423</span><span class="p">)]):</span>
    <span class="k">for</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">sol</span><span class="p">,</span><span class="n">ans</span><span class="p">):</span>
        <span class="k">assert</span> <span class="nb">round</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span> <span class="o">==</span> <span class="nb">round</span><span class="p">(</span><span class="n">b</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
<span class="c1">### END HIDDEN TESTS</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Use the <code class="docutils literal notranslate"><span class="pre">yield</span></code> expression to return each tuple of <span class="math notranslate nohighlight">\((a_n,g_n)\)</span> efficiently without redundant computations.</p></li>
</ul>
</div>
</div>
</div>
<div class="toctree-wrapper compound">
<span id="document-Lab1/Setup"></span><div class="section" id="setup">
<h3>Setup<a class="headerlink" href="#setup" title="Permalink to this headline">¶</a></h3>
<p>CS1302 Introduction to Computer Programming</p>
<hr class="docutils" />
<div class="section" id="jupyterhub">
<h4>JupyterHub<a class="headerlink" href="#jupyterhub" title="Permalink to this headline">¶</a></h4>
<p><strong>What is JupyterHub?</strong></p>
<div class="section" id="how-to-access-the-jupyterhub-server">
<h5>How to access the JupyterHub Server?<a class="headerlink" href="#how-to-access-the-jupyterhub-server" title="Permalink to this headline">¶</a></h5>
<ol class="simple">
<li><p>Enter the url <a class="reference external" href="https://ltjh.cs.cityu.edu.hk">ltjh.cs.cityu.edu.hk</a> in a web browser.</p></li>
<li><p>Enter your <a class="reference external" href="https://www.cityu.edu.hk/esu/eid.htm">EID</a> and Password in the fields <code class="docutils literal notranslate"><span class="pre">Username</span></code> and <code class="docutils literal notranslate"><span class="pre">Password</span></code> respectively.</p></li>
<li><p>Click the <code class="docutils literal notranslate"><span class="pre">Sign</span> <span class="pre">In</span></code> button.</p></li>
</ol>
<img alt="https://www.cs.cityu.edu.hk/~ccha23/cs1302/Login.gif" src="https://www.cs.cityu.edu.hk/~ccha23/cs1302/Login.gif" />
<p><strong>Tips</strong></p>
<ul class="simple">
<li><p>If the browser is stuck at the following page loading the server, <code class="docutils literal notranslate"><span class="pre">refresh</span></code> your browser.<br />
<img alt="server stuck" src="https://www.cs.cityu.edu.hk/~ccha23/cs1302/server_stuck.png" /></p></li>
<li><p>If you see the following page with <code class="docutils literal notranslate"><span class="pre">My</span> <span class="pre">Server</span></code> button, click on that button.<br />
<img alt="server start" src="https://www.cs.cityu.edu.hk/~ccha23/cs1302/server_start.png" /></p></li>
<li><p>If you see the <code class="docutils literal notranslate"><span class="pre">Start</span> <span class="pre">My</span> <span class="pre">Server</span></code> button instead, click on that button to start your server.<br />
<img alt="server stopped" src="https://www.cs.cityu.edu.hk/~ccha23/cs1302/server_stopped.png" /></p></li>
<li><p>For other issues, try logging out using the <code class="docutils literal notranslate"><span class="pre">Logout</span></code> button at the top right-hand corner, and then logging in again. You may also click the <code class="docutils literal notranslate"><span class="pre">Control</span> <span class="pre">Panel</span></code> button and restart your server.</p></li>
</ul>
</div>
<div class="section" id="how-to-access-course-materials">
<h5>How to access course materials?<a class="headerlink" href="#how-to-access-course-materials" title="Permalink to this headline">¶</a></h5>
<ol class="simple">
<li><p>Click on the <code class="docutils literal notranslate"><span class="pre">Assignments</span></code> tab, and ensure <code class="docutils literal notranslate"><span class="pre">cs1302</span></code> is chosen in the drop down list.</p></li>
<li><p>In the <code class="docutils literal notranslate"><span class="pre">Released</span> <span class="pre">assignments</span> <span class="pre">panel</span></code>, click the button <code class="docutils literal notranslate"><span class="pre">Fetch</span></code> to download <code class="docutils literal notranslate"><span class="pre">Lab1</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Lab1</span></code> should appear in the <code class="docutils literal notranslate"><span class="pre">Downloaded</span> <span class="pre">assignments</span> <span class="pre">panel</span></code>.</p></li>
<li><p>Click on the little arrow next to <code class="docutils literal notranslate"><span class="pre">Lab1</span></code> to show its content.</p></li>
<li><p>Ctrl-Click on <code class="docutils literal notranslate"><span class="pre">Lab1</span></code> to open the assignment folder on a new browser tab.</p></li>
<li><p>On the new browser, click the folder <code class="docutils literal notranslate"><span class="pre">cs1302</span></code> to navigate to the notebook <code class="docutils literal notranslate"><span class="pre">Setup.ipynb</span></code>.</p></li>
<li><p>Click on <code class="docutils literal notranslate"><span class="pre">Setup.ipynb</span></code> to open the notebook.</p></li>
</ol>
<img alt="https://www.cs.cityu.edu.hk/~ccha23/cs1302/Fetch.gif" src="https://www.cs.cityu.edu.hk/~ccha23/cs1302/Fetch.gif" />
<p><strong>Tips</strong></p>
<ol class="simple">
<li><p>Note that all the downloaded course materials will be placed under the <code class="docutils literal notranslate"><span class="pre">cs1302</span></code> folder of your home directory by default, so you need not go to the <code class="docutils literal notranslate"><span class="pre">Assignments</span></code> tab again to open the downloaded materials.
E.g., you can access the <code class="docutils literal notranslate"><span class="pre">Setup.ipynb</span></code> notebook as follows:</p>
<ol class="simple">
<li><p>Going to the <code class="docutils literal notranslate"><span class="pre">File</span></code> tab, which is the default JupyterHub homepage after login or when you click the logo on the top left-hand corner.</p></li>
<li><p>Enter the notebook URL https://ltjh.cs.cityu.edu.hk/user-redirect/tree/cs1302/Lab1/Setup.ipynb. (See the <a class="reference external" href="https://jupyterhub.readthedocs.io/en/stable/reference/urls.html">documentation</a> for details.)</p></li>
</ol>
</li>
<li><p>If for any reason you want to Fetch <code class="docutils literal notranslate"><span class="pre">Lab1</span></code> again, you have to first rename your <code class="docutils literal notranslate"><span class="pre">Lab1</span></code> folder to a different name such as <code class="docutils literal notranslate"><span class="pre">Lab1_orig</span></code>. You can do so by selecting the folder and click rename. You can also remove the folder by evaluating <code class="docutils literal notranslate"><span class="pre">!rm</span> <span class="pre">-rf</span> <span class="pre">~/cs1302/Lab1</span></code> in a code cell. (Be very cautious as removed folders cannot be recovered.)</p></li>
<li><p>You may also play with the new interface called JupyterLab https://ltjh.cs.cityu.edu.hk/user-redirect/lab/.
However, the new interface does not support all the tools we need for lectures/labs. It is currently under <a class="reference external" href="https://github.com/jupyterlab/jupyterlab">active development on GitHub</a>, so be prepared to see <a class="reference external" href="https://en.wikipedia.org/wiki/Software_bug">bugs</a>.</p></li>
</ol>
</div>
</div>
<div class="section" id="jupyter-notebook">
<h4>Jupyter Notebook<a class="headerlink" href="#jupyter-notebook" title="Permalink to this headline">¶</a></h4>
<div class="section" id="how-to-complete-a-lab-assignment">
<h5>How to complete a lab assignment?<a class="headerlink" href="#how-to-complete-a-lab-assignment" title="Permalink to this headline">¶</a></h5>
<p>After opening the <code class="docutils literal notranslate"><span class="pre">Lab1</span></code> notebook <code class="docutils literal notranslate"><span class="pre">Setup.ipynb</span></code>:</p>
<ol class="simple">
<li><p>Click <code class="docutils literal notranslate"><span class="pre">Help-&gt;User</span> <span class="pre">Interface</span> <span class="pre">Tour</span></code> to learn the jupyter notebook interface.</p></li>
<li><p>Click <code class="docutils literal notranslate"><span class="pre">Help-&gt;Notebook</span> <span class="pre">Help</span></code> and skim through the tutorials on <code class="docutils literal notranslate"><span class="pre">Running</span> <span class="pre">Code</span></code> and <code class="docutils literal notranslate"><span class="pre">Working</span> <span class="pre">with</span> <span class="pre">Markdown</span> <span class="pre">Cells</span></code>.</p></li>
</ol>
<p>Note that the tutorial page is static but you can copy to this notebook to run them. Let’s run some code in this notebook.</p>
<p><strong>Exercise</strong> Run the following cell to enable and configure the notebook extensions for this course.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%javascript</span>
<span class="nx">IPython</span><span class="p">.</span><span class="nx">notebook</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">update</span><span class="p">({</span>
  <span class="s2">&quot;load_extensions&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;validate_assignment/main&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="s2">&quot;execute_time/ExecuteTime&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="s2">&quot;init_cell/main&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="s2">&quot;printview/main&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="s2">&quot;skip-traceback/main&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="s2">&quot;hide_input/main&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="s2">&quot;codefolding/main&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="s2">&quot;scratchpad/main&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="s2">&quot;spellchecker/main&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="s2">&quot;create_assignment/main&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="s2">&quot;ruler/main&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="s2">&quot;collapsible_headings/main&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="s2">&quot;latex_envs/latex_envs&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="s2">&quot;exercise/main&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="s2">&quot;select_keymap/main&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="s2">&quot;toc2/main&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="s2">&quot;code_prettify/code_prettify&quot;</span><span class="o">:</span> <span class="kc">true</span>
  <span class="p">},</span>
  <span class="s2">&quot;rise&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;scroll&quot;</span><span class="o">:</span> <span class="kc">true</span>
  <span class="p">},</span>
  <span class="s2">&quot;toc&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;skip_h1_title&quot;</span><span class="o">:</span> <span class="kc">true</span>
  <span class="p">}</span>
<span class="p">})</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Refresh the page for the notebook extensions to take effect.</p></li>
<li><p>You can learn more about the extensions from the <span class="xref myst">nbextensions page</span>.</p></li>
</ul>
<p>Instead of evaluation a code cell, we often ask you to write a code in a particular cell. Make sure you fill in any place that says <code class="docutils literal notranslate"><span class="pre">YOUR</span> <span class="pre">CODE</span> <span class="pre">HERE</span></code> or “YOUR ANSWER HERE”.</p>
<p><strong>Exercise</strong> In learning a new computer language, the first program to write is often the <a class="reference external" href="https://en.wikipedia.org/wiki/%22Hello,_World%21%22_program">“Hello, World!”</a> program, which says Hello to the world. Type the program <code class="docutils literal notranslate"><span class="pre">print('Hello,</span> <span class="pre">World!')</span></code> below and run it with <code class="docutils literal notranslate"><span class="pre">Shift+Enter</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># YOUR CODE HERE</span>
<span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>In order to check your work thoroughly, there will visible and hidden test cases. The following is a visible test you can run to check your answer: The test returns an assertion error only if your program does not print the correct message.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Run this test cell right after running your &quot;Hello, World!&quot; program.</span>
<span class="kn">import</span> <span class="nn">sys</span><span class="o">,</span> <span class="nn">io</span>
<span class="n">old_stdout</span><span class="p">,</span> <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="p">,</span> <span class="n">io</span><span class="o">.</span><span class="n">StringIO</span><span class="p">()</span>
<span class="n">exec</span><span class="p">(</span><span class="n">In</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">])</span>
<span class="k">assert</span> <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">getvalue</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;Hello, World!</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="n">sys</span><span class="o">.</span><span class="n">stdout</span> <span class="o">=</span> <span class="n">old_stdout</span>
</pre></div>
</div>
</div>
</div>
<p><strong>Tips</strong></p>
<ol class="simple">
<li><p>You can repeatedly modify your solution and run the test cell until your solution passes the test. You are not required to know how the test cell is written.</p></li>
<li><p>To assess your solution thoroughly, we often run new tests hidden from you after you have submitted your notebook. There is no partial credit for a partially correct solution that works for the visible test but fails for the hidden test. Therefore, <em>you should ensure your solution works in general rather than just the visible tests</em>.</p></li>
<li><p>You can click the <code class="docutils literal notranslate"><span class="pre">Validate</span></code> button to run all the visible tests.</p></li>
<li><p>If you open the same notebook multiple times in different browser windows, be careful in making changes in different windows. Inconsistent changes may lead to conflicts or loss of your data.</p></li>
<li><p>If your notebook fails to run any code, the Kernel might have died. You can restart the kernel with <code class="docutils literal notranslate"><span class="pre">Kernel-&gt;Restart</span></code>. If restarting fails, check your code cells to see if there are unsafe code that breaks the kernel.</p></li>
</ol>
</div>
<div class="section" id="how-to-submit-a-notebook">
<h5>How to submit a notebook<a class="headerlink" href="#how-to-submit-a-notebook" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li><p>Although this lab does not count towards your final grade, you are required to submit it, to get familiar with the procedure.</p></li>
<li><p>Before you submit, however, make sure everything runs as expected:</p>
<ol class="simple">
<li><p><strong>Restart the kernel</strong>: <code class="docutils literal notranslate"><span class="pre">Kernel-&gt;Restart</span></code></p></li>
<li><p><strong>run all cells</strong>: <code class="docutils literal notranslate"><span class="pre">Cell-&gt;Run</span> <span class="pre">All</span></code></p></li>
</ol>
</li>
</ul>
<p>To submit your notebook:</p>
<ol class="simple">
<li><p>Go to <code class="docutils literal notranslate"><span class="pre">Assignment</span></code> tab of JupyterHub where you fetched the Lab assignment.</p></li>
<li><p>Expand the Lab1 folder and click the <code class="docutils literal notranslate"><span class="pre">validate</span></code> button next to the notebook(s) to check if all visible tests pass.</p></li>
<li><p>Click <code class="docutils literal notranslate"><span class="pre">Submit</span></code> to submit your notebook.</p></li>
<li><p>You may submit as many times as you wish but we will only collect your latest submission before the <a class="reference external" href="https://canvas.cityu.edu.hk/courses/36768/assignments/128315?return_to=https%3A%2F%2Fcanvas.cityu.edu.hk%2Fcalendar%3Finclude_contexts%3Dcourse_36768%23view_name%3Dmonth%26view_start%3D2020-09-01">Lab 1 due date</a> for grading.</p></li>
</ol>
<p><strong>Tips</strong></p>
<ol class="simple">
<li><p>You normally have at least 5 days to work on the lab after your lab session.</p></li>
<li><p>You can check the due dates of all the labs from the <a class="reference external" href="https://canvas.cityu.edu.hk/courses/36768">course homepage</a> or <a class="reference external" href="https://canvas.cityu.edu.hk/calendar?include_contexts=course_36768">course calendar</a>.</p></li>
<li><p>You may seek help from us or your classmates. However, you must write your own solution and indicate who your collaborators are using the code <code class="docutils literal notranslate"><span class="pre">COLLABORATORS</span> <span class="pre">=</span> <span class="pre">'WONG</span> <span class="pre">Xiu</span> <span class="pre">Fong,</span> <span class="pre">LEE</span> <span class="pre">Man</span> <span class="pre">Kit'</span></code>.</p></li>
</ol>
</div>
<div class="section" id="how-to-print-or-backup-a-notebook">
<h5>How to print or backup a notebook?<a class="headerlink" href="#how-to-print-or-backup-a-notebook" title="Permalink to this headline">¶</a></h5>
<p>To convert a notebook to pdf, we can print it to pdf instead:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">File-&gt;Print</span> <span class="pre">Preview</span></code></p></li>
</ul>
<p>However, animation and video cannot be properly printed. You are highly recommended to takes notes on the dynamic notebook instead on the hard copy.</p>
<p>To download a copy of your notebook:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">File-&gt;Download</span> <span class="pre">as-&gt;Notebook</span> <span class="pre">(.ipynb)</span></code></p></li>
</ul>
<p>You can run the notebook</p>
<ul class="simple">
<li><p>locally using <a class="reference external" href="https://www.anaconda.com/products/individual">Anaconda</a>, or</p></li>
<li><p>remotely on other JupyHub services such as <a class="reference external" href="https://colab.research.google.com/">Google Colab</a>.</p></li>
</ul>
<p>However, you would need to learn how to manage and install the additional packages required by the course.</p>
</div>
</div>
</div>
<span id="document-Lab1/Card"></span><div class="section" id="card-guessing-game">
<h3>Card guessing game<a class="headerlink" href="#card-guessing-game" title="Permalink to this headline">¶</a></h3>
<div class="section" id="rules-of-the-game">
<h4>Rules of the game<a class="headerlink" href="#rules-of-the-game" title="Permalink to this headline">¶</a></h4>
<p>Consider a deck of 52 cards:</p>
<table>
    <tr>
        <td></td>
        <th>1 (A)</th>
        <th>2</th>
        <th>3</th>
        <th>4</th>
        <th>5</th>
        <th>6</th>
        <th>7</th>
        <th>8</th>
        <th>9</th>
        <th>10</th>
        <th>11 (J)</th>
        <th>12 (Q)</th>
        <th>13 (K)</th>
    </tr>
    <tr>
        <th style="transform: rotate(-90deg);">Diamond</th>
        <td><a title="GW Simulations / Public domain" href="https://commons.wikimedia.org/wiki/File:Cards-A-Diamond.svg"><img width="50" alt="Cards-A-Diamond" src="https://upload.wikimedia.org/wikipedia/commons/e/e9/Cards-A-Diamond.svg"></a></td>
        <td><a title="GW Simulations / Public domain" href="https://commons.wikimedia.org/wiki/File:Cards-2-Diamond.svg"><img width="50" alt="Cards-2-Diamond" src="https://upload.wikimedia.org/wikipedia/commons/9/99/Cards-2-Diamond.svg"></a></td>
        <td><a title="GW Simulations / Public domain" href="https://commons.wikimedia.org/wiki/File:Cards-3-Diamond.svg"><img width="50" alt="Cards-3-Diamond" src="https://upload.wikimedia.org/wikipedia/commons/4/44/Cards-3-Diamond.svg"></a></td>
        <td><a title="GW Simulations / Public domain" href="https://commons.wikimedia.org/wiki/File:Cards-4-Diamond.svg"><img width="50" alt="Cards-4-Diamond" src="https://upload.wikimedia.org/wikipedia/commons/a/af/Cards-4-Diamond.svg"></a></td>
        <td><a title="GW Simulations / Public domain" href="https://commons.wikimedia.org/wiki/File:Cards-5-Diamond.svg"><img width="50" alt="Cards-5-Diamond" src="https://upload.wikimedia.org/wikipedia/commons/d/dd/Cards-5-Diamond.svg"></a></td>
        <td><a title="GW Simulations / Public domain" href="https://commons.wikimedia.org/wiki/File:Cards-6-Diamond.svg"><img width="50" alt="Cards-6-Diamond" src="https://upload.wikimedia.org/wikipedia/commons/4/44/Cards-6-Diamond.svg"></a></td>
        <td><a title="GW Simulations / Public domain" href="https://commons.wikimedia.org/wiki/File:Cards-7-Diamond.svg"><img width="50" alt="Cards-7-Diamond" src="https://upload.wikimedia.org/wikipedia/commons/2/2b/Cards-7-Diamond.svg"></a></td>
        <td><a title="GW Simulations / Public domain" href="https://commons.wikimedia.org/wiki/File:Cards-8-Diamond.svg"><img width="50" alt="Cards-8-Diamond" src="https://upload.wikimedia.org/wikipedia/commons/9/90/Cards-8-Diamond.svg"></a></td>
        <td><a title="GW Simulations / Public domain" href="https://commons.wikimedia.org/wiki/File:Cards-9-Diamond.svg"><img width="50" alt="Cards-9-Diamond" src="https://upload.wikimedia.org/wikipedia/commons/2/25/Cards-9-Diamond.svg"></a></td>
        <td><a title="GW Simulations / Public domain" href="https://commons.wikimedia.org/wiki/File:Cards-10-Diamond.svg"><img width="50" alt="Cards-10-Diamond" src="https://upload.wikimedia.org/wikipedia/commons/c/c2/Cards-10-Diamond.svg"></a></td>
        <td><a title="GW Simulations / Public domain" href="https://commons.wikimedia.org/wiki/File:Cards-J-Diamond.svg"><img width="50" alt="Cards-J-Diamond" src="https://upload.wikimedia.org/wikipedia/commons/7/78/Cards-J-Diamond.svg"></a></td>
        <td><a title="GW Simulations / Public domain" href="https://commons.wikimedia.org/wiki/File:Cards-Q-Diamond.svg"><img width="50" alt="Cards-Q-Diamond" src="https://upload.wikimedia.org/wikipedia/commons/c/c3/Cards-Q-Diamond.svg"></a></td>
        <td><a title="GW Simulations / Public domain" href="https://commons.wikimedia.org/wiki/File:Cards-K-Diamond.svg"><img width="50" alt="Cards-K-Diamond" src="https://upload.wikimedia.org/wikipedia/commons/5/55/Cards-K-Diamond.svg"></a></td>
    </tr>
    <tr>
        <th style="transform: rotate(-90deg);">Club</th>
        <td><a title="GW Simulations / Public domain" href="https://commons.wikimedia.org/wiki/File:Cards-A-Club.svg"><img width="50" alt="Cards-A-Club" src="https://upload.wikimedia.org/wikipedia/commons/c/c4/Cards-A-Club.svg"></a></td>
        <td><a title="GW Simulations / Public domain" href="https://commons.wikimedia.org/wiki/File:Cards-2-Club.svg"><img width="50" alt="Cards-2-Club" src="https://upload.wikimedia.org/wikipedia/commons/b/b0/Cards-2-Club.svg"></a></td>
        <td><a title="GW Simulations / Public domain" href="https://commons.wikimedia.org/wiki/File:Cards-3-Club.svg"><img width="50" alt="Cards-3-Club" src="https://upload.wikimedia.org/wikipedia/commons/e/e0/Cards-3-Club.svg"></a></td>
        <td><a title="GW Simulations / Public domain" href="https://commons.wikimedia.org/wiki/File:Cards-4-Club.svg"><img width="50" alt="Cards-4-Club" src="https://upload.wikimedia.org/wikipedia/commons/6/69/Cards-4-Club.svg"></a></td>
        <td><a title="GW Simulations / Public domain" href="https://commons.wikimedia.org/wiki/File:Cards-5-Club.svg"><img width="50" alt="Cards-5-Club" src="https://upload.wikimedia.org/wikipedia/commons/7/7e/Cards-5-Club.svg"></a></td>
        <td><a title="GW Simulations / Public domain" href="https://commons.wikimedia.org/wiki/File:Cards-6-Club.svg"><img width="50" alt="Cards-6-Club" src="https://upload.wikimedia.org/wikipedia/commons/a/af/Cards-6-Club.svg"></a></td>
        <td><a title="GW Simulations / Public domain" href="https://commons.wikimedia.org/wiki/File:Cards-7-Club.svg"><img width="50" alt="Cards-7-Club" src="https://upload.wikimedia.org/wikipedia/commons/8/8e/Cards-7-Club.svg"></a></td>
        <td><a title="GW Simulations / Public domain" href="https://commons.wikimedia.org/wiki/File:Cards-8-Club.svg"><img width="50" alt="Cards-8-Club" src="https://upload.wikimedia.org/wikipedia/commons/f/fd/Cards-8-Club.svg"></a></td>
        <td><a title="GW Simulations / Public domain" href="https://commons.wikimedia.org/wiki/File:Cards-9-Club.svg"><img width="50" alt="Cards-9-Club" src="https://upload.wikimedia.org/wikipedia/commons/a/ac/Cards-9-Club.svg"></a></td>
        <td><a title="GW Simulations / Public domain" href="https://commons.wikimedia.org/wiki/File:Cards-10-Club.svg"><img width="50" alt="Cards-10-Club" src="https://upload.wikimedia.org/wikipedia/commons/2/25/Cards-10-Club.svg"></a></td>
        <td><a title="GW Simulations / Public domain" href="https://commons.wikimedia.org/wiki/File:Cards-J-Club.svg"><img width="50" alt="Cards-J-Club" src="https://upload.wikimedia.org/wikipedia/commons/c/c7/Cards-J-Club.svg"></a></td>
        <td><a title="GW Simulations / Public domain" href="https://commons.wikimedia.org/wiki/File:Cards-Q-Club.svg"><img width="50" alt="Cards-Q-Club" src="https://upload.wikimedia.org/wikipedia/commons/3/37/Cards-Q-Club.svg"></a></td>
        <td><a title="GW Simulations / Public domain" href="https://commons.wikimedia.org/wiki/File:Cards-K-Club.svg"><img width="50" alt="Cards-K-Club" src="https://upload.wikimedia.org/wikipedia/commons/9/9e/Cards-K-Club.svg"></a></td>
    </tr>
    <tr>
        <th style="transform: rotate(-90deg);">Heart</th>
        <td><a title="GW Simulations / Public domain" href="https://commons.wikimedia.org/wiki/File:Cards-A-Heart.svg"><img width="50" alt="Cards-A-Heart" src="https://upload.wikimedia.org/wikipedia/commons/6/60/Cards-A-Heart.svg"></a></td>
        <td><a title="GW Simulations / Public domain" href="https://commons.wikimedia.org/wiki/File:Cards-2-Heart.svg"><img width="50" alt="Cards-2-Heart" src="https://upload.wikimedia.org/wikipedia/commons/6/6e/Cards-2-Heart.svg"></a></td>
        <td><a title="GW Simulations / Public domain" href="https://commons.wikimedia.org/wiki/File:Cards-3-Heart.svg"><img width="50" alt="Cards-3-Heart" src="https://upload.wikimedia.org/wikipedia/commons/5/57/Cards-3-Heart.svg"></a></td>
        <td><a title="GW Simulations / Public domain" href="https://commons.wikimedia.org/wiki/File:Cards-4-Heart.svg"><img width="50" alt="Cards-4-Heart" src="https://upload.wikimedia.org/wikipedia/commons/3/39/Cards-4-Heart.svg"></a></td>
        <td><a title="GW Simulations / Public domain" href="https://commons.wikimedia.org/wiki/File:Cards-5-Heart.svg"><img width="50" alt="Cards-5-Heart" src="https://upload.wikimedia.org/wikipedia/commons/9/91/Cards-5-Heart.svg"></a></td>
        <td><a title="GW Simulations / Public domain" href="https://commons.wikimedia.org/wiki/File:Cards-6-Heart.svg"><img width="50" alt="Cards-6-Heart" src="https://upload.wikimedia.org/wikipedia/commons/5/55/Cards-6-Heart.svg"></a></td>
        <td><a title="GW Simulations / Public domain" href="https://commons.wikimedia.org/wiki/File:Cards-7-Heart.svg"><img width="50" alt="Cards-7-Heart" src="https://upload.wikimedia.org/wikipedia/commons/d/d4/Cards-7-Heart.svg"></a></td>
        <td><a title="GW Simulations / Public domain" href="https://commons.wikimedia.org/wiki/File:Cards-8-Heart.svg"><img width="50" alt="Cards-8-Heart" src="https://upload.wikimedia.org/wikipedia/commons/5/55/Cards-8-Heart.svg"></a></td>
        <td><a title="GW Simulations / Public domain" href="https://commons.wikimedia.org/wiki/File:Cards-9-Heart.svg"><img width="50" alt="Cards-9-Heart" src="https://upload.wikimedia.org/wikipedia/commons/d/d2/Cards-9-Heart.svg"></a></td>
        <td><a title="GW Simulations / Public domain" href="https://commons.wikimedia.org/wiki/File:Cards-10-Heart.svg"><img width="50" alt="Cards-10-Heart" src="https://upload.wikimedia.org/wikipedia/commons/7/76/Cards-10-Heart.svg"></a></td>
        <td><a title="GW Simulations / Public domain" href="https://commons.wikimedia.org/wiki/File:Cards-J-Heart.svg"><img width="50" alt="Cards-J-Heart" src="https://upload.wikimedia.org/wikipedia/commons/e/e7/Cards-J-Heart.svg"></a></td>
        <td><a title="GW Simulations / Public domain" href="https://commons.wikimedia.org/wiki/File:Cards-Q-Heart.svg"><img width="50" alt="Cards-Q-Heart" src="https://upload.wikimedia.org/wikipedia/commons/2/28/Cards-Q-Heart.svg"></a></td>
        <td><a title="GW Simulations / Public domain" href="https://commons.wikimedia.org/wiki/File:Cards-K-Heart.svg"><img width="50" alt="Cards-K-Heart" src="https://upload.wikimedia.org/wikipedia/commons/b/bf/Cards-K-Heart.svg"></a></td>
    </tr>        
    <tr>
        <th style="transform: rotate(-90deg);">Spade</th>
        <td><a title="GW Simulations / Public domain" href="https://commons.wikimedia.org/wiki/File:Cards-A-Spade.svg"><img width="50" alt="Cards-A-Spade" src="https://upload.wikimedia.org/wikipedia/commons/9/9d/Cards-A-Spade.svg"></a></td>
        <td><a title="GW Simulations / Public domain" href="https://commons.wikimedia.org/wiki/File:Cards-2-Spade.svg"><img width="50" alt="Cards-2-Spade" src="https://upload.wikimedia.org/wikipedia/commons/e/e7/Cards-2-Spade.svg"></a></td>
        <td><a title="GW Simulations / Public domain" href="https://commons.wikimedia.org/wiki/File:Cards-3-Spade.svg"><img width="50" alt="Cards-3-Spade" src="https://upload.wikimedia.org/wikipedia/commons/d/d0/Cards-3-Spade.svg"></a></td>
        <td><a title="GW Simulations / Public domain" href="https://commons.wikimedia.org/wiki/File:Cards-4-Spade.svg"><img width="50" alt="Cards-4-Spade" src="https://upload.wikimedia.org/wikipedia/commons/4/4e/Cards-4-Spade.svg"></a></td>
        <td><a title="GW Simulations / Public domain" href="https://commons.wikimedia.org/wiki/File:Cards-5-Spade.svg"><img width="50" alt="Cards-5-Spade" src="https://upload.wikimedia.org/wikipedia/commons/b/b1/Cards-5-Spade.svg"></a></td>
        <td><a title="GW Simulations / Public domain" href="https://commons.wikimedia.org/wiki/File:Cards-6-Spade.svg"><img width="50" alt="Cards-6-Spade" src="https://upload.wikimedia.org/wikipedia/commons/6/68/Cards-6-Spade.svg"></a></td>
        <td><a title="GW Simulations / Public domain" href="https://commons.wikimedia.org/wiki/File:Cards-7-Spade.svg"><img width="50" alt="Cards-7-Spade" src="https://upload.wikimedia.org/wikipedia/commons/c/c6/Cards-7-Spade.svg"></a></td>
        <td><a title="GW Simulations / Public domain" href="https://commons.wikimedia.org/wiki/File:Cards-8-Spade.svg"><img width="50" alt="Cards-8-Spade" src="https://upload.wikimedia.org/wikipedia/commons/7/7e/Cards-8-Spade.svg"></a></td>
        <td><a title="GW Simulations / Public domain" href="https://commons.wikimedia.org/wiki/File:Cards-9-Spade.svg"><img width="50" alt="Cards-9-Spade" src="https://upload.wikimedia.org/wikipedia/commons/0/0a/Cards-9-Spade.svg"></a></td>
        <td><a title="GW Simulations / Public domain" href="https://commons.wikimedia.org/wiki/File:Cards-10-Spade.svg"><img width="50" alt="Cards-10-Spade" src="https://upload.wikimedia.org/wikipedia/commons/6/67/Cards-10-Spade.svg"></a></td>
        <td><a title="GW Simulations / Public domain" href="https://commons.wikimedia.org/wiki/File:Cards-J-Spade.svg"><img width="50" alt="Cards-J-Spade" src="https://upload.wikimedia.org/wikipedia/commons/e/ea/Cards-J-Spade.svg"></a></td>
        <td><a title="GW Simulations / Public domain" href="https://commons.wikimedia.org/wiki/File:Cards-Q-Spade.svg"><img width="50" alt="Cards-Q-Spade" src="https://upload.wikimedia.org/wikipedia/commons/e/ef/Cards-Q-Spade.svg"></a></td>
        <td><a title="GW Simulations / Public domain" href="https://commons.wikimedia.org/wiki/File:Cards-K-Spade.svg"><img width="50" alt="Cards-K-Spade" src="https://upload.wikimedia.org/wikipedia/commons/1/18/Cards-K-Spade.svg"></a></td>
    </tr>
</table><ul class="simple">
<li><p>Each card is in one of the four suits: <strong>Diamond</strong>, <strong>Club</strong>, <strong>Heart</strong>, and <strong>Spade</strong>.</p></li>
<li><p>Each card has a value <span class="math notranslate nohighlight">\(1 \text{ (A)} &lt; 2 &lt; 3 &lt; 4 &lt; 5 &lt; 6 &lt; 7 &lt; 8 &lt; 9 &lt; 10 &lt; 11 \text{ (J)} &lt; 12 \text{ (Q)} &lt; 13 \text{ (K)}\)</span>.</p></li>
</ul>
<p>The following code creates a deck of cards. (You do not need to understand the code for now.)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a deck of cards</span>
<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">namedtuple</span>

<span class="n">suits</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;Diamond&quot;</span><span class="p">,</span> <span class="s2">&quot;Club&quot;</span><span class="p">,</span> <span class="s2">&quot;Heart&quot;</span><span class="p">,</span> <span class="s2">&quot;Spade&quot;</span><span class="p">)</span>
<span class="n">values</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">14</span><span class="p">)</span>
<span class="n">Card</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;Card&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;value&#39;</span><span class="p">,</span> <span class="s1">&#39;suit&#39;</span><span class="p">])</span>

<span class="n">deck</span> <span class="o">=</span> <span class="p">[</span><span class="n">Card</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">suit</span><span class="p">)</span> <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">values</span> <span class="k">for</span> <span class="n">suit</span> <span class="ow">in</span> <span class="n">suits</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">deck</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>To play the game, a dealer randomly pick a card without letting you know, and you’re going to guess what exactly that card is.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Randomly draw a card from the deck with replacement</span>
<span class="kn">import</span> <span class="nn">random</span>
<span class="nb">print</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">deck</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<p>You are allowed to make an informed guess after the dealer answers some of your <strong>yes/no</strong> questions.</p>
<p>For instance, you may ask:</p>
<ul class="simple">
<li><p>Is the suit club?</p></li>
<li><p>Is the card diamond 1 (ace)?</p></li>
<li><p>Is the value at least 10?</p></li>
</ul>
<p>However, you cannot ask:</p>
<ul class="simple">
<li><p>What is the value?</p></li>
<li><p>What is the suite?</p></li>
</ul>
<p><strong>Exercise</strong> You win if you can <strong>guess the card correctly with no more than 6 questions</strong>. What is the winning strategy?</p>
<p>YOUR ANSWER HERE</p>
<p>Hint 1: <span style="color:white">Obviously, you should not ask whether the card is precisely certain card, e.g., Is it Diamond Ace? Is it Diamond 2? … Why not? The card may be one of the remaining <span class="math notranslate nohighlight">\(52-6=46\)</span> possibilities you did not ask.</span></p>
<p>Hint 2: <span style="color:white">Think of each <strong>Yes/No</strong> question as splitting the set of possible cards into two smaller groups of possible cards corresponding to each possible answer <strong>Yes/No</strong>.</span></p>
<p>Hint 3: <span style="color:white">How many questions is required to split the set of 52 cards into groups of size <span class="math notranslate nohighlight">\(1\)</span>, i.e., with only one possible card?</span></p>
</div>
<div class="section" id="challenge-the-computer">
<h4>Challenge the computer<a class="headerlink" href="#challenge-the-computer" title="Permalink to this headline">¶</a></h4>
<p>Play the role of the dealer and test if the program below can guess the card correctly after 6 questions.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">suitIdx</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">number</span> <span class="o">=</span> <span class="mi">0</span>

<span class="k">if</span> <span class="s2">&quot;y&quot;</span> <span class="o">==</span> <span class="nb">input</span><span class="p">(</span>
        <span class="s2">&quot;Is the suite either heart or spade? (y/[n]) &quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
    <span class="n">suitIdx</span> <span class="o">+=</span> <span class="mi">2</span>

<span class="k">if</span> <span class="s2">&quot;y&quot;</span> <span class="o">==</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Is the suite either club or spade? (y/[n]) &quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
    <span class="n">suitIdx</span> <span class="o">+=</span> <span class="mi">1</span>

<span class="k">if</span> <span class="s2">&quot;y&quot;</span> <span class="o">==</span> <span class="nb">input</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;Is the number </span><span class="si">{</span><span class="n">number</span><span class="o">+</span><span class="mi">8</span><span class="si">}</span><span class="s2"> or above? (y/[n]) &quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
    <span class="n">number</span> <span class="o">+=</span> <span class="mi">8</span>

<span class="k">if</span> <span class="s2">&quot;y&quot;</span> <span class="o">==</span> <span class="nb">input</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;Is the number </span><span class="si">{</span><span class="n">number</span><span class="o">+</span><span class="mi">4</span><span class="si">}</span><span class="s2"> or above? (y/[n]) &quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
    <span class="n">number</span> <span class="o">+=</span> <span class="mi">4</span>

<span class="k">if</span> <span class="s2">&quot;y&quot;</span> <span class="o">==</span> <span class="nb">input</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;Is the number </span><span class="si">{</span><span class="n">number</span><span class="o">+</span><span class="mi">2</span><span class="si">}</span><span class="s2"> or above? (y/[n]) &quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
    <span class="n">number</span> <span class="o">+=</span> <span class="mi">2</span>

<span class="k">if</span> <span class="s2">&quot;y&quot;</span> <span class="o">==</span> <span class="nb">input</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;Is the number </span><span class="si">{</span><span class="n">number</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2"> or above? (y/[n]) &quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
    <span class="n">number</span> <span class="o">+=</span> <span class="mi">1</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The card is </span><span class="si">{</span><span class="n">suits</span><span class="p">[</span><span class="n">suitIdx</span><span class="p">]</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">number</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p><strong>Exercise</strong> Does the above program always win? Explain your answer?</p>
<p>YOUR ANSWER HERE</p>
</div>
<div class="section" id="challenge-your-understanding">
<h4>Challenge your understanding<a class="headerlink" href="#challenge-your-understanding" title="Permalink to this headline">¶</a></h4>
<p>The following table gives the binary representions of unsigned decimal integers from 0 to 7.</p>
<table>
    <tr><th>Binary</th><th>Decimal</th></tr>
    <tr><td>000</td><td>0</td></tr>
    <tr><td>001</td><td>1</td></tr>
    <tr><td>010</td><td>2</td></tr>
    <tr><td>011</td><td>3</td></tr>
    <tr><td><b style="color:magenta">1</b>00</td><td style="color:magenta">4</td></tr>
    <tr><td><b style="color:magenta">1</b>01</td><td style="color:magenta">5</td></tr>
    <tr><td><b style="color:magenta">1</b>10</td><td style="color:magenta">6</td></tr>
    <tr><td><b style="color:magenta">1</b>11</td><td style="color:magenta">7</td></tr>
</table><br><p>To convert binary to decimal, think of the conversion as a guessing game where</p>
<ul class="simple">
<li><p>the binary sequence is a sequence of <strong>yes (1)</strong> or <strong>no (0)</strong> answers to certain <strong>yes/no</strong> questions, and</p></li>
<li><p>the informed guess is the integer represented by the binary sequence.</p></li>
</ul>
<p>For instance, observe that the binary representation of 4, 5, 6, and 7 actually have <b style="color:magenta">1</b> in the leftmost (most significant) bit. Therefore we can consider that bit as the answer to the following <strong>yes/no</strong> question:</p>
<blockquote>
<div><p>Is the integer 4 or above?</p>
</div></blockquote>
<p><strong>Exercise</strong> What are the <strong>yes/no</strong> questions corresponding to the 2nd bit and 3rd bit?</p>
<p>YOUR ANSWER HERE</p>
<h2>References</h2>
<ul>
    <li><a href=https://www.mathsisfun.com/binary-number-system.html>Binary Number Sytem</a></li>
    <li><a href=https://www.purplemath.com/modules/numbbase.htm>Binary Number Conversions</a></li>
</ul></div>
</div>
<span id="document-Lab2/Calculators"></span><div class="section" id="calculators">
<h3>Calculators<a class="headerlink" href="#calculators" title="Permalink to this headline">¶</a></h3>
<p>Run the following to load additional tools required for this lab.<br />
In particular, the <code class="docutils literal notranslate"><span class="pre">math</span></code> library provides many useful mathematical functions and constants.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">reset</span> -f
<span class="kn">from</span> <span class="nn">ipywidgets</span> <span class="kn">import</span> <span class="n">interact</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">log</span><span class="p">,</span> <span class="n">exp</span><span class="p">,</span> <span class="n">sin</span><span class="p">,</span> <span class="n">cos</span><span class="p">,</span> <span class="n">tan</span><span class="p">,</span> <span class="n">pi</span>
</pre></div>
</div>
</div>
</div>
<p>The following code is a Python one-liner that creates a calculator.<br />
Evaluate the cell with <code class="docutils literal notranslate"><span class="pre">Ctrl+Enter</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="nb">eval</span><span class="p">(</span><span class="nb">input</span><span class="p">()))</span>
</pre></div>
</div>
</div>
</div>
<p>Try some calculations below using this calculator:</p>
<ol class="simple">
<li><p><span class="math notranslate nohighlight">\(2^3\)</span> by entering <code class="docutils literal notranslate"><span class="pre">2**3</span></code>;</p></li>
<li><p><span class="math notranslate nohighlight">\(\frac23\)</span> by entering <code class="docutils literal notranslate"><span class="pre">2/3</span></code>;</p></li>
<li><p><span class="math notranslate nohighlight">\(\left\lceil\frac32\right\rceil\)</span> by entering <code class="docutils literal notranslate"><span class="pre">3//2</span></code>;</p></li>
<li><p><span class="math notranslate nohighlight">\(3\mod 2\)</span> by entering <code class="docutils literal notranslate"><span class="pre">3%2</span></code>;</p></li>
<li><p><span class="math notranslate nohighlight">\(\sqrt{2}\)</span> by entering <code class="docutils literal notranslate"><span class="pre">2**0.5</span></code>; and</p></li>
<li><p><span class="math notranslate nohighlight">\(\sin(\pi/6)\)</span> by entering <code class="docutils literal notranslate"><span class="pre">sin(pi/6)</span></code>;</p></li>
</ol>
<p>For this lab, you will create more powerful and dedicated calculators.<br />
We will first show you a demo. Then, it will be your turn to create the calculators.</p>
<div class="section" id="hypotenuse-calculator-demo">
<h4>Hypotenuse Calculator (Demo)<a class="headerlink" href="#hypotenuse-calculator-demo" title="Permalink to this headline">¶</a></h4>
<p><img alt="interact" src="https://www.cs.cityu.edu.hk/~ccha23/cs1302/Lab2/hypotenuse-calculator.gif" /></p>
<p>Using the Pythagoras theorem below, we can define the following function <code class="docutils literal notranslate"><span class="pre">length_of_hypotenus</span></code> to calculate the length <code class="docutils literal notranslate"><span class="pre">c</span></code> of the hypotenuse given the lengths <code class="docutils literal notranslate"><span class="pre">a</span></code> and <code class="docutils literal notranslate"><span class="pre">b</span></code> of the other sides of a right-angled triangle:
$<span class="math notranslate nohighlight">\(c = \sqrt{a^2 + b^2}\)</span>$</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">length_of_hypotenuse</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="n">c</span> <span class="o">=</span> <span class="p">(</span><span class="n">a</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">b</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">**</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>  <span class="c1"># Pythagoras</span>
    <span class="k">return</span> <span class="n">c</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>You need not understand how a function is defined, but</p></li>
<li><p>you should know how to <em>write the formula as a Python expression</em>, and</p></li>
<li><p><em>assign to the variable</em> <code class="docutils literal notranslate"><span class="pre">c</span></code> the value of the expression (Line 2).</p></li>
</ul>
<p>For example, you may be asked to write Line 2, while Line 1 and 3 are given to you:</p>
<p><strong>Exercise</strong> Complete the function below to return the length <code class="docutils literal notranslate"><span class="pre">c</span></code> of the hypotenuse given the lengths <code class="docutils literal notranslate"><span class="pre">a</span></code> and <code class="docutils literal notranslate"><span class="pre">b</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">length_of_hypotenuse</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="c1"># YOUR CODE HERE</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">c</span>
</pre></div>
</div>
</div>
</div>
<p>Note that indentation affects the execution of Python code. The assignment statement must be indented to indicate that it is part of the <em>body</em> of the function.<br />
(Try removing the indentation and see what happens.)</p>
<p>We will use widgets (<code class="docutils literal notranslate"><span class="pre">ipywidgets</span></code>) to let user interact with the calculator more easily:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># hypotenuse calculator</span>
<span class="nd">@interact</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">b</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="k">def</span> <span class="nf">calculate_hypotenuse</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">4</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;c: </span><span class="si">{:.2f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">length_of_hypotenuse</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)))</span>
</pre></div>
</div>
</div>
</div>
<p>After running the above cell, you can move the sliders to change the values of <code class="docutils literal notranslate"><span class="pre">a</span></code> and <code class="docutils literal notranslate"><span class="pre">b</span></code>. The value of <code class="docutils literal notranslate"><span class="pre">c</span></code> will be updated immediately.</p>
<ul class="simple">
<li><p>For this lab, you need not know how write widgets, but</p></li>
<li><p>you should know how to <em>format a floating point number</em> (Line 3).</p></li>
</ul>
<p>You can check your code with a few cases listed in the test cell below.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># tests</span>
<span class="k">def</span> <span class="nf">test_length_of_hypotenuse</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">):</span>
    <span class="n">c_</span> <span class="o">=</span> <span class="n">length_of_hypotenuse</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
    <span class="n">correct</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">isclose</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">c_</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">correct</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;For a=</span><span class="si">{</span><span class="n">a</span><span class="si">}</span><span class="s1"> and b=</span><span class="si">{</span><span class="n">b</span><span class="si">}</span><span class="s1">, c should be </span><span class="si">{</span><span class="n">c</span><span class="si">}</span><span class="s1">, not </span><span class="si">{</span><span class="n">c_</span><span class="si">}</span><span class="s1">.&#39;</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">correct</span>


<span class="n">test_length_of_hypotenuse</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">test_length_of_hypotenuse</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">test_length_of_hypotenuse</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mf">8.06225774829855</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="quadratic-equation">
<h4>Quadratic Equation<a class="headerlink" href="#quadratic-equation" title="Permalink to this headline">¶</a></h4>
<div class="section" id="graphical-calculator-for-parabola">
<h5>Graphical Calculator for Parabola<a class="headerlink" href="#graphical-calculator-for-parabola" title="Permalink to this headline">¶</a></h5>
<p><img alt="plot parabola" src="https://www.cs.cityu.edu.hk/~ccha23/cs1302/Lab2/plot_parabola.gif" /></p>
<p>In mathematics, the collection of points <span class="math notranslate nohighlight">\((x,y)\)</span> satisfying the following equation forms a <em>parabola</em>:</p>
<div class="math notranslate nohighlight">
\[
y=ax^2+bx+c
\]</div>
<p>where <span class="math notranslate nohighlight">\(a\)</span>, <span class="math notranslate nohighlight">\(b\)</span>, and <span class="math notranslate nohighlight">\(c\)</span> are real numbers called the <em>coefficients</em>.</p>
<p><strong>Exercise</strong> Given the variables <code class="docutils literal notranslate"><span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">a</span></code>, <code class="docutils literal notranslate"><span class="pre">b</span></code>, and <code class="docutils literal notranslate"><span class="pre">c</span></code> store the <span class="math notranslate nohighlight">\(x\)</span>-coordinate and the coefficients <span class="math notranslate nohighlight">\(a\)</span>, <span class="math notranslate nohighlight">\(b\)</span>, and <span class="math notranslate nohighlight">\(c\)</span> respectively, assign to <code class="docutils literal notranslate"><span class="pre">y</span></code> the corresponding <span class="math notranslate nohighlight">\(y\)</span>-coordinate for the parabola.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_y</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">):</span>
    <span class="c1"># YOUR CODE HERE</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">y</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># tests</span>
<span class="k">def</span> <span class="nf">test_get_y</span><span class="p">(</span><span class="n">y</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">):</span>
    <span class="n">y_</span> <span class="o">=</span> <span class="n">get_y</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">)</span>
    <span class="n">correct</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">isclose</span><span class="p">(</span><span class="n">y</span><span class="p">,</span><span class="n">y_</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">correct</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;With (x, a, b, c)=</span><span class="si">{</span><span class="n">x</span><span class="p">,</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="si">}</span><span class="s1">, y should be </span><span class="si">{</span><span class="n">y</span><span class="si">}</span><span class="s1"> not </span><span class="si">{</span><span class="n">y_</span><span class="si">}</span><span class="s1">.&#39;</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">correct</span>

<span class="n">test_get_y</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="n">test_get_y</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="n">test_get_y</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># graphical calculator for parabola</span>
<span class="nd">@interact</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">b</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">c</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="k">def</span> <span class="nf">plot_parabola</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">):</span>
    <span class="n">xmin</span><span class="p">,</span> <span class="n">xmax</span><span class="p">,</span> <span class="n">ymin</span><span class="p">,</span> <span class="n">ymax</span><span class="p">,</span> <span class="n">resolution</span> <span class="o">=</span> <span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">50</span>
    <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;$y=ax^2+bx+c$&#39;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;$x$&#39;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;$y$&#39;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">([</span><span class="n">xmin</span><span class="p">,</span> <span class="n">xmax</span><span class="p">])</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">([</span><span class="n">ymin</span><span class="p">,</span> <span class="n">ymax</span><span class="p">])</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>

    <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">xmin</span><span class="p">,</span> <span class="n">xmax</span><span class="p">,</span> <span class="n">resolution</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">get_y</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="quadratic-equation-solver">
<h5>Quadratic Equation Solver<a class="headerlink" href="#quadratic-equation-solver" title="Permalink to this headline">¶</a></h5>
<p><img alt="quadratic equtaion soler" src="https://www.cs.cityu.edu.hk/~ccha23/cs1302/Lab2/quadratic-equation-solver.gif" /></p>
<p>For the quadratic equation</p>
<div class="math notranslate nohighlight">
\[
ax^2+bx+c=0,
\]</div>
<p>the <em>roots</em> (solutions for <span class="math notranslate nohighlight">\(x\)</span>) are give by</p>
<div class="math notranslate nohighlight">
\[
\frac{-b-\sqrt{b^2-4ac}}{2a},\frac{-b+\sqrt{b^2-4ac}}{2a}.
\]</div>
<p><strong>Exercise</strong> Assign to <code class="docutils literal notranslate"><span class="pre">root1</span></code> and <code class="docutils literal notranslate"><span class="pre">root2</span></code> the values of the first and second roots above respectively.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_roots</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">):</span>
    <span class="c1"># YOUR CODE HERE</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">root1</span><span class="p">,</span> <span class="n">root2</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># tests</span>
<span class="k">def</span> <span class="nf">test_get_roots</span><span class="p">(</span><span class="n">roots</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">):</span>
    <span class="n">roots_</span> <span class="o">=</span> <span class="n">get_roots</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
    <span class="n">correct</span> <span class="o">=</span> <span class="nb">all</span><span class="p">([</span><span class="n">math</span><span class="o">.</span><span class="n">isclose</span><span class="p">(</span><span class="n">roots</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">roots_</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">)])</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">correct</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;With (a, b, c)=</span><span class="si">{</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="si">}</span><span class="s1">, roots should be </span><span class="si">{</span><span class="n">roots</span><span class="si">}</span><span class="s1"> not </span><span class="si">{</span><span class="n">roots_</span><span class="si">}</span><span class="s1">.&#39;</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">correct</span>


<span class="n">test_get_roots</span><span class="p">((</span><span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">),</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">test_get_roots</span><span class="p">((</span><span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">),</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">test_get_roots</span><span class="p">((</span><span class="o">-</span><span class="mf">2.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">),</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># quadratic equations solver</span>
<span class="nd">@interact</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="n">b</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="n">c</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
<span class="k">def</span> <span class="nf">quadratic_equation_solver</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">b</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="n">c</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Roots: </span><span class="si">{}</span><span class="s1">, </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">*</span><span class="n">get_roots</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">)))</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="number-conversion">
<h4>Number Conversion<a class="headerlink" href="#number-conversion" title="Permalink to this headline">¶</a></h4>
<div class="section" id="byte-to-decimal-calculator">
<h5>Byte-to-Decimal Calculator<a class="headerlink" href="#byte-to-decimal-calculator" title="Permalink to this headline">¶</a></h5>
<p><img alt="byte-to-decimal" src="https://www.cs.cityu.edu.hk/~ccha23/cs1302/Lab2/byte-to-decimal.gif" /></p>
<p>Denote a binary number stored as a byte (<span class="math notranslate nohighlight">\(8\)</span>-bit) as</p>
<div class="math notranslate nohighlight">
\[ 
b_7\circ b_6\circ b_5\circ b_4\circ b_3\circ b_2\circ b_1\circ b_0, 
\]</div>
<p>where <span class="math notranslate nohighlight">\(\circ\)</span> concatenates <span class="math notranslate nohighlight">\(b_i\)</span>’s together into a binary string.</p>
<p>The binary string can be converted to a decimal number by the formula</p>
<div class="math notranslate nohighlight">
\[ 
b_7\cdot 2^7 + b_6\cdot 2^6 + b_5\cdot 2^5 + b_4\cdot 2^4 + b_3\cdot 2^3 + b_2\cdot 2^2 + b_1\cdot 2^1 + b_0\cdot 2^0. 
\]</div>
<p>E.g., the binary string <code class="docutils literal notranslate"><span class="pre">'11111111'</span></code> is the largest integer represented by a byte:</p>
<div class="math notranslate nohighlight">
\[
2^7+2^6+2^5+2^4+2^3+2^2+2^1+2^0=255=2^8-1.
\]</div>
<p><strong>Exercise</strong> Assign to <code class="docutils literal notranslate"><span class="pre">decimal</span></code> the <em>integer</em> value represented by a byte.<br />
The byte is a sequence of bits assigned to the variables <code class="docutils literal notranslate"><span class="pre">b7,b6,b5,b4,b3,b2,b1,b0</span></code> as <em>characters</em>, either <code class="docutils literal notranslate"><span class="pre">'0'</span></code> or <code class="docutils literal notranslate"><span class="pre">'1'</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">byte_to_decimal</span><span class="p">(</span><span class="n">b7</span><span class="p">,</span> <span class="n">b6</span><span class="p">,</span> <span class="n">b5</span><span class="p">,</span> <span class="n">b4</span><span class="p">,</span> <span class="n">b3</span><span class="p">,</span> <span class="n">b2</span><span class="p">,</span> <span class="n">b1</span><span class="p">,</span> <span class="n">b0</span><span class="p">):</span>
    <span class="c1"># YOUR CODE HERE</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">decimal</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># tests</span>
<span class="k">def</span> <span class="nf">test_byte_to_decimal</span><span class="p">(</span><span class="n">decimal</span><span class="p">,</span> <span class="n">b7</span><span class="p">,</span> <span class="n">b6</span><span class="p">,</span> <span class="n">b5</span><span class="p">,</span> <span class="n">b4</span><span class="p">,</span> <span class="n">b3</span><span class="p">,</span> <span class="n">b2</span><span class="p">,</span> <span class="n">b1</span><span class="p">,</span> <span class="n">b0</span><span class="p">):</span>
    <span class="n">decimal_</span> <span class="o">=</span> <span class="n">byte_to_decimal</span><span class="p">(</span><span class="n">b7</span><span class="p">,</span> <span class="n">b6</span><span class="p">,</span> <span class="n">b5</span><span class="p">,</span> <span class="n">b4</span><span class="p">,</span> <span class="n">b3</span><span class="p">,</span> <span class="n">b2</span><span class="p">,</span> <span class="n">b1</span><span class="p">,</span> <span class="n">b0</span><span class="p">)</span>
    <span class="n">correct</span> <span class="o">=</span> <span class="n">decimal</span> <span class="o">==</span> <span class="n">decimal_</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">decimal_</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">correct</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span>
            <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">b7</span><span class="si">}{</span><span class="n">b6</span><span class="si">}{</span><span class="n">b5</span><span class="si">}{</span><span class="n">b4</span><span class="si">}{</span><span class="n">b3</span><span class="si">}{</span><span class="n">b2</span><span class="si">}{</span><span class="n">b1</span><span class="si">}{</span><span class="n">b0</span><span class="si">}</span><span class="s1"> should give </span><span class="si">{</span><span class="n">decimal</span><span class="si">}</span><span class="s1"> not </span><span class="si">{</span><span class="n">decimal_</span><span class="si">}</span><span class="s1">.&#39;</span>
        <span class="p">)</span>
    <span class="k">assert</span> <span class="n">correct</span>


<span class="n">test_byte_to_decimal</span><span class="p">(</span><span class="mi">38</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">)</span>
<span class="n">test_byte_to_decimal</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">)</span>
<span class="n">test_byte_to_decimal</span><span class="p">(</span><span class="mi">22</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># byte-to-decimal calculator</span>
<span class="n">bit</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">]</span>


<span class="nd">@interact</span><span class="p">(</span><span class="n">b7</span><span class="o">=</span><span class="n">bit</span><span class="p">,</span> <span class="n">b6</span><span class="o">=</span><span class="n">bit</span><span class="p">,</span> <span class="n">b5</span><span class="o">=</span><span class="n">bit</span><span class="p">,</span> <span class="n">b4</span><span class="o">=</span><span class="n">bit</span><span class="p">,</span> <span class="n">b3</span><span class="o">=</span><span class="n">bit</span><span class="p">,</span> <span class="n">b2</span><span class="o">=</span><span class="n">bit</span><span class="p">,</span> <span class="n">b1</span><span class="o">=</span><span class="n">bit</span><span class="p">,</span> <span class="n">b0</span><span class="o">=</span><span class="n">bit</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">convert_byte_to_decimal</span><span class="p">(</span><span class="n">b7</span><span class="p">,</span> <span class="n">b6</span><span class="p">,</span> <span class="n">b5</span><span class="p">,</span> <span class="n">b4</span><span class="p">,</span> <span class="n">b3</span><span class="p">,</span> <span class="n">b2</span><span class="p">,</span> <span class="n">b1</span><span class="p">,</span> <span class="n">b0</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;decimal:&#39;</span><span class="p">,</span> <span class="n">byte_to_decimal</span><span class="p">(</span><span class="n">b7</span><span class="p">,</span> <span class="n">b6</span><span class="p">,</span> <span class="n">b5</span><span class="p">,</span> <span class="n">b4</span><span class="p">,</span> <span class="n">b3</span><span class="p">,</span> <span class="n">b2</span><span class="p">,</span> <span class="n">b1</span><span class="p">,</span> <span class="n">b0</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="decimal-to-byte-calculator">
<h5>Decimal-to-Byte Calculator<a class="headerlink" href="#decimal-to-byte-calculator" title="Permalink to this headline">¶</a></h5>
<p><img alt="decimal-to-byte" src="https://www.cs.cityu.edu.hk/~ccha23/cs1302/Lab2/decimal-to-byte.gif" /></p>
<p><strong>Exercise</strong> Assign to <code class="docutils literal notranslate"><span class="pre">byte</span></code> a <em>string of 8 bits</em> that represents the value of <code class="docutils literal notranslate"><span class="pre">decimal</span></code>, a non-negative decimal integer from <span class="math notranslate nohighlight">\(0\)</span> to <span class="math notranslate nohighlight">\(2^8-1=255\)</span>.<br />
<em>Hint: Use <code class="docutils literal notranslate"><span class="pre">//</span></code> and <code class="docutils literal notranslate"><span class="pre">%</span></code>.</em></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">decimal_to_byte</span><span class="p">(</span><span class="n">decimal</span><span class="p">):</span>
    <span class="c1"># YOUR CODE HERE</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">byte</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># tests</span>
<span class="k">def</span> <span class="nf">test_decimal_to_byte</span><span class="p">(</span><span class="n">byte</span><span class="p">,</span><span class="n">decimal</span><span class="p">):</span>
    <span class="n">byte_</span> <span class="o">=</span> <span class="n">decimal_to_byte</span><span class="p">(</span><span class="n">decimal</span><span class="p">)</span>
    <span class="n">correct</span> <span class="o">=</span> <span class="n">byte</span> <span class="o">==</span> <span class="n">byte_</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">byte</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">byte</span><span class="p">)</span> <span class="o">==</span> <span class="mi">8</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">correct</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span>
            <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">decimal</span><span class="si">}</span><span class="s1"> should be represented as the byte </span><span class="si">{</span><span class="n">byte</span><span class="si">}</span><span class="s1">, not </span><span class="si">{</span><span class="n">byte_</span><span class="si">}</span><span class="s1">.&#39;</span>
        <span class="p">)</span>
    <span class="k">assert</span> <span class="n">correct</span>


<span class="n">test_decimal_to_byte</span><span class="p">(</span><span class="s1">&#39;01100111&#39;</span><span class="p">,</span> <span class="mi">103</span><span class="p">)</span>
<span class="n">test_decimal_to_byte</span><span class="p">(</span><span class="s1">&#39;00000011&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">test_decimal_to_byte</span><span class="p">(</span><span class="s1">&#39;00011100&#39;</span><span class="p">,</span> <span class="mi">28</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># decimal-to-byte calculator</span>
<span class="nd">@interact</span><span class="p">(</span><span class="n">decimal</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
<span class="k">def</span> <span class="nf">convert_decimal_to_byte</span><span class="p">(</span><span class="n">decimal</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;byte:&#39;</span><span class="p">,</span> <span class="n">decimal_to_byte</span><span class="p">(</span><span class="n">decimal</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
</div>


<script type="application/vnd.jupyter.widget-state+json">
{"state": {"00cabae1211f43e2bcf6668291da2ee8": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "DropdownModel", "state": {"_options_labels": ["0", "1"], "description": "b5", "index": 0, "layout": "IPY_MODEL_750250d8e65d47c7b898d42e86164f1b", "style": "IPY_MODEL_c28290a4022d40dabf04ff1b20acb53b"}}, "07422485bb9e49ff9389dea7ae548969": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "0852ab93304445318fd9f393f5dc7159": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "0a02333a23514a3ea2e030786cbbb011": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "0a279905beaa44d384065e1c8ab37d0b": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "DescriptionStyleModel", "state": {"description_width": ""}}, "0abeeb9a44d24ece87ddcca9fc83fa30": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "DescriptionStyleModel", "state": {"description_width": ""}}, "0cf8ee7ce3ca40dfa484e43c9e9e08ef": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "11aa5239e3da4b17b5cbd58c42527cb7": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "DropdownModel", "state": {"_options_labels": ["0", "1"], "description": "b4", "index": 0, "layout": "IPY_MODEL_94479670d29643b7821d839d989bccc9", "style": "IPY_MODEL_48dcc0760ac54ae1b63a82f7cfa478cc"}}, "124fd741dba248f58f72cb54c2cfb2cd": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "12c4f12a655648468b9e816ff7fd7d89": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "IntSliderModel", "state": {"description": "b", "layout": "IPY_MODEL_1c23c62d8daa4d8f9632bda512f9550e", "max": 10, "min": -10, "style": "IPY_MODEL_7a33d2921e56429e9f8bf26d5b6775c0", "value": 2}}, "12dc76e4036a443ebce4e6160cdce68d": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "DescriptionStyleModel", "state": {"description_width": ""}}, "13e711fc62954eff9968e6fe0dc8cd4f": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "15af1389ee1943c08c40c88db1f5d288": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "VBoxModel", "state": {"_dom_classes": ["widget-interact"], "children": ["IPY_MODEL_2fb2ff64e4db488cacaee06dd8037363", "IPY_MODEL_78cf8567daec4e799447ed9d90057d7b", "IPY_MODEL_1ec15062f4b64172ab42ec618b55b0bb"], "layout": "IPY_MODEL_faf70cd1f04543f18232f891044d9409"}}, "16ec0cf868bb469a98fcfb5f7e1fd15d": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "17eb7f3e363d40f39cb6e14d234ea6fa": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "1c23c62d8daa4d8f9632bda512f9550e": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "1d37997a95204c2b9d3c42d52ae0775e": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "VBoxModel", "state": {"_dom_classes": ["widget-interact"], "children": ["IPY_MODEL_fd6f04f13b2646f7ac1f57bc90b080ec", "IPY_MODEL_40f3cb4e14784aad85936ce9356e3759", "IPY_MODEL_af9e78b8a1d540f3a8e11360ef164ecc"], "layout": "IPY_MODEL_667dae1fb1f340ecba78d5e8468bef24"}}, "1ec15062f4b64172ab42ec618b55b0bb": {"model_module": "@jupyter-widgets/output", "model_module_version": "1.0.0", "model_name": "OutputModel", "state": {"layout": "IPY_MODEL_428afff0017542ef89a7b002e216a8cd", "outputs": [{"name": "stdout", "output_type": "stream", "text": "c: 8.60\n"}]}}, "209f97f1e73741238d44a81a4df90ef5": {"model_module": "@jupyter-widgets/output", "model_module_version": "1.0.0", "model_name": "OutputModel", "state": {"layout": "IPY_MODEL_a1fa08967ea34ac5b217df198fe2ad19", "outputs": [{"name": "stdout", "output_type": "stream", "text": "byte: 00000000\n"}]}}, "20e92dcf6fd342b2ac47f05b6f9e4734": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "20efa432af7f4edfaf6a6583ae1bb672": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "21c55ecf806347fe945e0ee8a73a78c0": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "SliderStyleModel", "state": {"description_width": ""}}, "22c3c930e1a04bccb72c8013e9c7fdb1": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "DescriptionStyleModel", "state": {"description_width": ""}}, "261d0c0e27c043069f64197ecef0f773": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "DropdownModel", "state": {"_options_labels": ["0", "1"], "description": "b3", "index": 0, "layout": "IPY_MODEL_94d902de742a48f9bb214b57186e3da1", "style": "IPY_MODEL_378adea3bf8f4420b2ff032ea773a49a"}}, "27d89fd343d54297af4fd1239dead8a9": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "SliderStyleModel", "state": {"description_width": ""}}, "289c8552c1b94702a93951265d8dfd4b": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "DropdownModel", "state": {"_options_labels": ["0", "1"], "description": "b7", "index": 0, "layout": "IPY_MODEL_31d93483a51b4a1d83bdb2c0fecffd80", "style": "IPY_MODEL_6fa5226fb7b245cb8be786568d87adef"}}, "298e2537e8ad41da8f23cdde41a3e556": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "2ab8bf5c9ad1406f87f5cc1c02299856": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "2beb1667860e4c34a36d1f290e380050": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "DescriptionStyleModel", "state": {"description_width": ""}}, "2d0ca6848a4e4f9788a00ba3664bbcf4": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "DropdownModel", "state": {"_options_labels": ["0", "1"], "description": "b6", "index": 0, "layout": "IPY_MODEL_5c257cb8d0ec47018e8025b86972a2d4", "style": "IPY_MODEL_0abeeb9a44d24ece87ddcca9fc83fa30"}}, "2dfd4e14ca544d75acf7dae3ac60aec6": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "IntSliderModel", "state": {"description": "b", "layout": "IPY_MODEL_efe7a7d0532e4c3c92e38bd71b060fa6", "max": 10, "min": -10, "style": "IPY_MODEL_8a0f535989774a66a5077fb5efb2cb44"}}, "2f7d9146e8a8499885da80bcaa51fe85": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "2fb2ff64e4db488cacaee06dd8037363": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "IntSliderModel", "state": {"description": "a", "layout": "IPY_MODEL_c6f489e68ab54111812164c0f3b4f0ee", "max": 10, "style": "IPY_MODEL_bb4b1fbc9b5843d6a8c167d362d1cb0a", "value": 5}}, "30804e5c0d99429e9204d14002e31a8d": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "VBoxModel", "state": {"_dom_classes": ["widget-interact"], "children": ["IPY_MODEL_86c5042d0f254b949955a0630d9f828b", "IPY_MODEL_acec103236dd4e7bb1e38844228e9971", "IPY_MODEL_dabbd3d8ad3b43a7ac660454c0cdef4f"], "layout": "IPY_MODEL_be0c53c6369244e083996c10295c1513"}}, "31386e59283b4b638d40982fc6420d1b": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "31d93483a51b4a1d83bdb2c0fecffd80": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "3331608fe51d49d6a28f8cb68bb4f613": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "SliderStyleModel", "state": {"description_width": ""}}, "34f568e1356d4b0daab3415aedf8942c": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "378adea3bf8f4420b2ff032ea773a49a": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "DescriptionStyleModel", "state": {"description_width": ""}}, "379dad789a7d4add995353d1614f454b": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "DropdownModel", "state": {"_options_labels": ["0", "1"], "description": "b2", "index": 0, "layout": "IPY_MODEL_bb127ec9d5c24895a5d8de7cc1b58427", "style": "IPY_MODEL_8ad0f8b7c4414bd9859409ab4e902161"}}, "37b5f00aca4c4cea9cd588461d1df603": {"model_module": "@jupyter-widgets/output", "model_module_version": "1.0.0", "model_name": "OutputModel", "state": {"layout": "IPY_MODEL_3fd8c261521f4d70a3fee468687e49ec", "outputs": [{"name": "stdout", "output_type": "stream", "text": "Roots: -1.0, -1.0\n"}]}}, "39cdbbd6ae204994b8b178a2c75cfae4": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "SliderStyleModel", "state": {"description_width": ""}}, "3aec2f7b331b4642b2d64c098c25fdc8": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "DropdownModel", "state": {"_options_labels": ["0", "1"], "description": "b0", "index": 0, "layout": "IPY_MODEL_4cd7b01c04b04597a4e239e6f811ba93", "style": "IPY_MODEL_41147492ee0744df9b3ab9002bbb017b"}}, "3d5eacb5e6064dde9675f8d5afcc8a74": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "3e7cc10566824db8806a4ea0ca9740dc": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "DropdownModel", "state": {"_options_labels": ["0", "1"], "description": "b2", "index": 0, "layout": "IPY_MODEL_4a6fff225ab84d3da24b7b99784b744a", "style": "IPY_MODEL_9104cea347054c95b7509dcee2389317"}}, "3fd8c261521f4d70a3fee468687e49ec": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "3fdf3ca9695a4c4d8c49c536e1d7948a": {"model_module": "@jupyter-widgets/output", "model_module_version": "1.0.0", "model_name": "OutputModel", "state": {"layout": "IPY_MODEL_7a58492df31c416a96cca24d7a2a065c", "outputs": [{"name": "stdout", "output_type": "stream", "text": "decimal: 0\n"}]}}, "408432c74c9b460e925e3c3bfd2be7fe": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "VBoxModel", "state": {"_dom_classes": ["widget-interact"], "children": ["IPY_MODEL_fcb0fe9eef934ae8b3e79fd981eeb7bc", "IPY_MODEL_2dfd4e14ca544d75acf7dae3ac60aec6", "IPY_MODEL_4d80c40a188240c18921e7865ab57db0", "IPY_MODEL_d367eef3861f4c1d9ae74424d5c69a71"], "layout": "IPY_MODEL_3d5eacb5e6064dde9675f8d5afcc8a74"}}, "40f3cb4e14784aad85936ce9356e3759": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "IntSliderModel", "state": {"description": "b", "layout": "IPY_MODEL_d553dd6c37aa4e75895e24ec9c28c9fb", "max": 10, "style": "IPY_MODEL_8ae3b8c4e8c147d3be2f379bce780477", "value": 4}}, "41147492ee0744df9b3ab9002bbb017b": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "DescriptionStyleModel", "state": {"description_width": ""}}, "428afff0017542ef89a7b002e216a8cd": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "46ff26f6c1f545e589c4cd1fc29ea04d": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "SliderStyleModel", "state": {"description_width": ""}}, "487fd1cea7d54ebc8b6ac897f0840383": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "VBoxModel", "state": {"_dom_classes": ["widget-interact"], "children": ["IPY_MODEL_dd0e4eab528849a288b12645706e960a", "IPY_MODEL_12c4f12a655648468b9e816ff7fd7d89", "IPY_MODEL_8bcaf6406d5a4f83b24a6a360bb8ecc4", "IPY_MODEL_51d1ec7a8ecb45d488bcc956c207c80c"], "layout": "IPY_MODEL_fe4b44296409452eb4cd514ab6d5a788"}}, "48dcc0760ac54ae1b63a82f7cfa478cc": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "DescriptionStyleModel", "state": {"description_width": ""}}, "49412ced038e4807a96bf5d02a46647d": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "4a6fff225ab84d3da24b7b99784b744a": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "4cd7b01c04b04597a4e239e6f811ba93": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "4d80c40a188240c18921e7865ab57db0": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "IntSliderModel", "state": {"description": "c", "layout": "IPY_MODEL_0cf8ee7ce3ca40dfa484e43c9e9e08ef", "max": 10, "min": -10, "style": "IPY_MODEL_59819150f8c14921b5ef4731d39582c1"}}, "51d1ec7a8ecb45d488bcc956c207c80c": {"model_module": "@jupyter-widgets/output", "model_module_version": "1.0.0", "model_name": "OutputModel", "state": {"layout": "IPY_MODEL_2ab8bf5c9ad1406f87f5cc1c02299856", "outputs": [{"name": "stdout", "output_type": "stream", "text": "Roots: -1.0, -1.0\n"}]}}, "527ff560e2ba40e08fbc93641e2be112": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "VBoxModel", "state": {"_dom_classes": ["widget-interact"], "children": ["IPY_MODEL_837d2bba183648eda23a482a3a539231", "IPY_MODEL_8f6463bc5348435e98084081dd404d6a", "IPY_MODEL_fe12a74ac60c41e78b77818528b21cc7", "IPY_MODEL_37b5f00aca4c4cea9cd588461d1df603"], "layout": "IPY_MODEL_a56a349799c0410f86952f14fc21c09d"}}, "52927b17a74945a4b04c32f5232151cd": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "DescriptionStyleModel", "state": {"description_width": ""}}, "59819150f8c14921b5ef4731d39582c1": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "SliderStyleModel", "state": {"description_width": ""}}, "59b36ac84aea4b579b4debe208df856d": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "SliderStyleModel", "state": {"description_width": ""}}, "5c257cb8d0ec47018e8025b86972a2d4": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "5e906f42b26447df938486edff0a3279": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "IntSliderModel", "state": {"description": "a", "layout": "IPY_MODEL_a5b1424906684386b3684a3a68869c9c", "max": 10, "style": "IPY_MODEL_27d89fd343d54297af4fd1239dead8a9", "value": 3}}, "617955d038984f978911a9e10340e381": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "DropdownModel", "state": {"_options_labels": ["0", "1"], "description": "b7", "index": 0, "layout": "IPY_MODEL_64276b7686874c1b89311da10578339c", "style": "IPY_MODEL_12dc76e4036a443ebce4e6160cdce68d"}}, "640b8d2c6ea24ee9a37770865ed1ae08": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "64276b7686874c1b89311da10578339c": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "667dae1fb1f340ecba78d5e8468bef24": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "6a1785db852a46b1a7c30577c26a4a41": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "6e6753c7318d4822bad2559cc1ffdee7": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "IntSliderModel", "state": {"description": "b", "layout": "IPY_MODEL_94f7b7a6598f4abd88cd39ef9baa6352", "max": 10, "min": -10, "style": "IPY_MODEL_e941b1949ef44972a64f29e0914c3f50"}}, "6eaa0ee4a23f4ebd9415df294305b090": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "VBoxModel", "state": {"_dom_classes": ["widget-interact"], "children": ["IPY_MODEL_617955d038984f978911a9e10340e381", "IPY_MODEL_2d0ca6848a4e4f9788a00ba3664bbcf4", "IPY_MODEL_00cabae1211f43e2bcf6668291da2ee8", "IPY_MODEL_11aa5239e3da4b17b5cbd58c42527cb7", "IPY_MODEL_f17aa215f3f24c359d05ecb68977e5bd", "IPY_MODEL_379dad789a7d4add995353d1614f454b", "IPY_MODEL_9f352b1311bc44aeaec779b52f8908f8", "IPY_MODEL_d7626c51e1e14729b340f09a18ec7d4c", "IPY_MODEL_3fdf3ca9695a4c4d8c49c536e1d7948a"], "layout": "IPY_MODEL_13e711fc62954eff9968e6fe0dc8cd4f"}}, "6eb093c0ba7c461db8267707c16e65df": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "VBoxModel", "state": {"_dom_classes": ["widget-interact"], "children": ["IPY_MODEL_d12961e45f6c498dbb17673cb678b442", "IPY_MODEL_7812a8ebefbe4259a5cf5541db166c29"], "layout": "IPY_MODEL_0852ab93304445318fd9f393f5dc7159"}}, "6fa5226fb7b245cb8be786568d87adef": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "DescriptionStyleModel", "state": {"description_width": ""}}, "70d777f035c843fd90ffb50f3d732651": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "DropdownModel", "state": {"_options_labels": ["0", "1"], "description": "b6", "index": 0, "layout": "IPY_MODEL_640b8d2c6ea24ee9a37770865ed1ae08", "style": "IPY_MODEL_22c3c930e1a04bccb72c8013e9c7fdb1"}}, "7143e59213834415b8fe997b00f60c4e": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "SliderStyleModel", "state": {"description_width": ""}}, "727cd2e8345348e58fd47bd853fac3a0": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "SliderStyleModel", "state": {"description_width": ""}}, "750250d8e65d47c7b898d42e86164f1b": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "7534d0021b01469e8783a063c1742faa": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "775bee3c08ec4f339f978bbe8479207c": {"model_module": "@jupyter-widgets/output", "model_module_version": "1.0.0", "model_name": "OutputModel", "state": {"layout": "IPY_MODEL_7534d0021b01469e8783a063c1742faa", "outputs": [{"ename": "NameError", "evalue": "name 'decimal_to_byte' is not defined", "output_type": "error", "traceback": ["\u001b[0;31m---------------------------------------------------------------------------\u001b[0m", "\u001b[0;31mNameError\u001b[0m                                 Traceback (most recent call last)", "\u001b[0;32m/opt/anaconda/lib/python3.7/site-packages/ipywidgets/widgets/interaction.py\u001b[0m in \u001b[0;36mupdate\u001b[0;34m(self, *args)\u001b[0m\n\u001b[1;32m    254\u001b[0m                     \u001b[0mvalue\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mwidget\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mget_interact_value\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    255\u001b[0m                     \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mkwargs\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0mwidget\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0m_kwarg\u001b[0m\u001b[0;34m]\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mvalue\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m--> 256\u001b[0;31m                 \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mresult\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mf\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m**\u001b[0m\u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mkwargs\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m    257\u001b[0m                 \u001b[0mshow_inline_matplotlib_plots\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    258\u001b[0m                 \u001b[0;32mif\u001b[0m \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mauto_display\u001b[0m \u001b[0;32mand\u001b[0m \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mresult\u001b[0m \u001b[0;32mis\u001b[0m \u001b[0;32mnot\u001b[0m \u001b[0;32mNone\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n", "\u001b[0;32m<ipython-input-30-b4d5e32d5362>\u001b[0m in \u001b[0;36mconvert_decimal_to_byte\u001b[0;34m(decimal)\u001b[0m\n\u001b[1;32m      2\u001b[0m \u001b[0;34m@\u001b[0m\u001b[0minteract\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mdecimal\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;36m0\u001b[0m\u001b[0;34m,\u001b[0m\u001b[0;36m255\u001b[0m\u001b[0;34m,\u001b[0m\u001b[0;36m1\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m      3\u001b[0m \u001b[0;32mdef\u001b[0m \u001b[0mconvert_decimal_to_byte\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mdecimal\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0;36m0\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m----> 4\u001b[0;31m     \u001b[0mprint\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m'byte:'\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mdecimal_to_byte\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mdecimal\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m", "\u001b[0;31mNameError\u001b[0m: name 'decimal_to_byte' is not defined"]}]}}, "7812a8ebefbe4259a5cf5541db166c29": {"model_module": "@jupyter-widgets/output", "model_module_version": "1.0.0", "model_name": "OutputModel", "state": {"layout": "IPY_MODEL_f1f6d749081c4faca17acb58693dadac", "outputs": [{"name": "stdout", "output_type": "stream", "text": "byte: 00000000\n"}]}}, "7849b4694e654c2e895b387432a06479": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "78cf8567daec4e799447ed9d90057d7b": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "IntSliderModel", "state": {"description": "b", "layout": "IPY_MODEL_6a1785db852a46b1a7c30577c26a4a41", "max": 10, "style": "IPY_MODEL_3331608fe51d49d6a28f8cb68bb4f613", "value": 7}}, "7a2851bdc08f48e0a6b4b77255a33fbe": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "IntSliderModel", "state": {"description": "c", "layout": "IPY_MODEL_fc131f372f1846d9b8715402f28c8810", "max": 10, "min": -10, "style": "IPY_MODEL_7143e59213834415b8fe997b00f60c4e"}}, "7a33d2921e56429e9f8bf26d5b6775c0": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "SliderStyleModel", "state": {"description_width": ""}}, "7a58492df31c416a96cca24d7a2a065c": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "7b6044f489d8425da2f5185a49c08d9d": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "7e4508a92f0042c5870d23d69fb8d123": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "SliderStyleModel", "state": {"description_width": ""}}, "837d2bba183648eda23a482a3a539231": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "IntSliderModel", "state": {"description": "a", "layout": "IPY_MODEL_87a90cdb008b448f81158b9375f144e7", "max": 10, "min": -10, "style": "IPY_MODEL_7e4508a92f0042c5870d23d69fb8d123", "value": 1}}, "8484949ae45c418bbf5c2070859a67c1": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "DescriptionStyleModel", "state": {"description_width": ""}}, "86c5042d0f254b949955a0630d9f828b": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "IntSliderModel", "state": {"description": "a", "layout": "IPY_MODEL_c589cc4406da47808610209910dff69c", "max": 10, "style": "IPY_MODEL_46ff26f6c1f545e589c4cd1fc29ea04d", "value": 3}}, "87a90cdb008b448f81158b9375f144e7": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "89709a57198a4ec4ac63d8d519fc1740": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "8a0f535989774a66a5077fb5efb2cb44": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "SliderStyleModel", "state": {"description_width": ""}}, "8ad0f8b7c4414bd9859409ab4e902161": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "DescriptionStyleModel", "state": {"description_width": ""}}, "8ae3b8c4e8c147d3be2f379bce780477": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "SliderStyleModel", "state": {"description_width": ""}}, "8bcaf6406d5a4f83b24a6a360bb8ecc4": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "IntSliderModel", "state": {"description": "c", "layout": "IPY_MODEL_f4347b9b90a7454eb5bb48997c76b83a", "max": 10, "min": -10, "style": "IPY_MODEL_727cd2e8345348e58fd47bd853fac3a0", "value": 1}}, "8f6463bc5348435e98084081dd404d6a": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "IntSliderModel", "state": {"description": "b", "layout": "IPY_MODEL_20efa432af7f4edfaf6a6583ae1bb672", "max": 10, "min": -10, "style": "IPY_MODEL_c63c127678674b07b134326874d287c8", "value": 2}}, "9104cea347054c95b7509dcee2389317": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "DescriptionStyleModel", "state": {"description_width": ""}}, "93724548b7ae4622a7cca3f756235a78": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "DescriptionStyleModel", "state": {"description_width": ""}}, "94479670d29643b7821d839d989bccc9": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "94d902de742a48f9bb214b57186e3da1": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "94f7b7a6598f4abd88cd39ef9baa6352": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "9690f568e9ef4d2b99352f440e7b51a0": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "96cc0be037914af9b7824f23b30fb2f6": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "97ee3e843a554969a2df492bcc0b7811": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "9ae2e1f0ec8b4a109d5eed0814d28e39": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "VBoxModel", "state": {"_dom_classes": ["widget-interact"], "children": ["IPY_MODEL_289c8552c1b94702a93951265d8dfd4b", "IPY_MODEL_70d777f035c843fd90ffb50f3d732651", "IPY_MODEL_c5b0d1558846475581d3eea59bbd2ff3", "IPY_MODEL_e3284c4b17544bacbde44ba9bba14d62", "IPY_MODEL_261d0c0e27c043069f64197ecef0f773", "IPY_MODEL_3e7cc10566824db8806a4ea0ca9740dc", "IPY_MODEL_c0f2c038224f45339ad8b09c82d95736", "IPY_MODEL_3aec2f7b331b4642b2d64c098c25fdc8", "IPY_MODEL_cc8b824b0fe04ddaa237a41fc9f5f262"], "layout": "IPY_MODEL_49412ced038e4807a96bf5d02a46647d"}}, "9f352b1311bc44aeaec779b52f8908f8": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "DropdownModel", "state": {"_options_labels": ["0", "1"], "description": "b1", "index": 0, "layout": "IPY_MODEL_eb60cb8e496441e8a9f8d575ef0fcaf5", "style": "IPY_MODEL_52927b17a74945a4b04c32f5232151cd"}}, "a1fa08967ea34ac5b217df198fe2ad19": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "a54f4e9d6fd04833a03789d2b241f139": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "SliderStyleModel", "state": {"description_width": ""}}, "a56a349799c0410f86952f14fc21c09d": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "a5b1424906684386b3684a3a68869c9c": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "a8b7889c80524c87af823a15bfe83241": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "IntSliderModel", "state": {"description": "decimal", "layout": "IPY_MODEL_298e2537e8ad41da8f23cdde41a3e556", "max": 255, "style": "IPY_MODEL_d7bb867bf222407a9a6a0e214b807542"}}, "a9101ab6d90449cdb394779e7eeff83d": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "aa7965a3bb534df59919a39042fc5c12": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "ab481efba8cd440999e30fbe9414b634": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "SliderStyleModel", "state": {"description_width": ""}}, "ac060722c2954304a9359f9d55ee4970": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "VBoxModel", "state": {"_dom_classes": ["widget-interact"], "children": ["IPY_MODEL_c2fabc5b44a34f37a722b230965d247e", "IPY_MODEL_6e6753c7318d4822bad2559cc1ffdee7", "IPY_MODEL_7a2851bdc08f48e0a6b4b77255a33fbe", "IPY_MODEL_d4a720a89beb4e66b4966d4f78cc44de"], "layout": "IPY_MODEL_7b6044f489d8425da2f5185a49c08d9d"}}, "ac3dee2b9f66420c9cf93bb37a0f555e": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "SliderStyleModel", "state": {"description_width": ""}}, "acec103236dd4e7bb1e38844228e9971": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "IntSliderModel", "state": {"description": "b", "layout": "IPY_MODEL_e29bde0d124c4cf39a2526d49a983649", "max": 10, "style": "IPY_MODEL_ac3dee2b9f66420c9cf93bb37a0f555e", "value": 4}}, "af9e78b8a1d540f3a8e11360ef164ecc": {"model_module": "@jupyter-widgets/output", "model_module_version": "1.0.0", "model_name": "OutputModel", "state": {"layout": "IPY_MODEL_17eb7f3e363d40f39cb6e14d234ea6fa", "outputs": [{"name": "stdout", "output_type": "stream", "text": "c: 5.00\n"}]}}, "b2c89ae1bc2b43ac967c5ddddac214ae": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "IntSliderModel", "state": {"description": "b", "layout": "IPY_MODEL_34f568e1356d4b0daab3415aedf8942c", "max": 10, "style": "IPY_MODEL_59b36ac84aea4b579b4debe208df856d", "value": 4}}, "b2df5fa9e4ed473eb816048b40b5ce84": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "VBoxModel", "state": {"_dom_classes": ["widget-interact"], "children": ["IPY_MODEL_5e906f42b26447df938486edff0a3279", "IPY_MODEL_b2c89ae1bc2b43ac967c5ddddac214ae", "IPY_MODEL_eb962828109445279a7a87ff04012dec"], "layout": "IPY_MODEL_16ec0cf868bb469a98fcfb5f7e1fd15d"}}, "b6fda21af10e451f84dfe1730d67265d": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "VBoxModel", "state": {"_dom_classes": ["widget-interact"], "children": ["IPY_MODEL_c890e7ea0f1b4077a2e2a2ded79741b0", "IPY_MODEL_209f97f1e73741238d44a81a4df90ef5"], "layout": "IPY_MODEL_31386e59283b4b638d40982fc6420d1b"}}, "bb127ec9d5c24895a5d8de7cc1b58427": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "bb4b1fbc9b5843d6a8c167d362d1cb0a": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "SliderStyleModel", "state": {"description_width": ""}}, "bcf273001bbe4f9cb422982dff0c3d3d": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "be0c53c6369244e083996c10295c1513": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "c0f2c038224f45339ad8b09c82d95736": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "DropdownModel", "state": {"_options_labels": ["0", "1"], "description": "b1", "index": 0, "layout": "IPY_MODEL_e8cd1a111f064914b8e03fad77e229c0", "style": "IPY_MODEL_93724548b7ae4622a7cca3f756235a78"}}, "c28290a4022d40dabf04ff1b20acb53b": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "DescriptionStyleModel", "state": {"description_width": ""}}, "c2fabc5b44a34f37a722b230965d247e": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "IntSliderModel", "state": {"description": "a", "layout": "IPY_MODEL_f09d712201184c9b94c00e25903f8e3a", "max": 10, "min": -10, "style": "IPY_MODEL_39cdbbd6ae204994b8b178a2c75cfae4"}}, "c589cc4406da47808610209910dff69c": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "c5b0d1558846475581d3eea59bbd2ff3": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "DropdownModel", "state": {"_options_labels": ["0", "1"], "description": "b5", "index": 0, "layout": "IPY_MODEL_96cc0be037914af9b7824f23b30fb2f6", "style": "IPY_MODEL_cb10697d686a4670aeedeedf40fcc5ec"}}, "c63c127678674b07b134326874d287c8": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "SliderStyleModel", "state": {"description_width": ""}}, "c6f489e68ab54111812164c0f3b4f0ee": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "c7870247a42147698dfd6eee0fab2881": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "SliderStyleModel", "state": {"description_width": ""}}, "c890e7ea0f1b4077a2e2a2ded79741b0": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "IntSliderModel", "state": {"description": "decimal", "layout": "IPY_MODEL_9690f568e9ef4d2b99352f440e7b51a0", "max": 255, "style": "IPY_MODEL_a54f4e9d6fd04833a03789d2b241f139"}}, "cac978c41c684879960028e25ec207a6": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "cb10697d686a4670aeedeedf40fcc5ec": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "DescriptionStyleModel", "state": {"description_width": ""}}, "cc8b824b0fe04ddaa237a41fc9f5f262": {"model_module": "@jupyter-widgets/output", "model_module_version": "1.0.0", "model_name": "OutputModel", "state": {"layout": "IPY_MODEL_f7cd89217fbd45748e57a2e525f13028", "outputs": [{"name": "stdout", "output_type": "stream", "text": "decimal: 0\n"}]}}, "cec62cbb12004a10a969885260df23d5": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "SliderStyleModel", "state": {"description_width": ""}}, "d12961e45f6c498dbb17673cb678b442": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "IntSliderModel", "state": {"description": "decimal", "layout": "IPY_MODEL_cac978c41c684879960028e25ec207a6", "max": 255, "style": "IPY_MODEL_e8480ad196184a33ba56b974eab42669"}}, "d367eef3861f4c1d9ae74424d5c69a71": {"model_module": "@jupyter-widgets/output", "model_module_version": "1.0.0", "model_name": "OutputModel", "state": {"layout": "IPY_MODEL_a9101ab6d90449cdb394779e7eeff83d", "outputs": [{"ename": "NameError", "evalue": "name 'get_y' is not defined", "output_type": "error", "traceback": ["\u001b[0;31m---------------------------------------------------------------------------\u001b[0m", "\u001b[0;31mNameError\u001b[0m                                 Traceback (most recent call last)", "\u001b[0;32m/opt/anaconda/lib/python3.7/site-packages/ipywidgets/widgets/interaction.py\u001b[0m in \u001b[0;36mupdate\u001b[0;34m(self, *args)\u001b[0m\n\u001b[1;32m    254\u001b[0m                     \u001b[0mvalue\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mwidget\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mget_interact_value\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    255\u001b[0m                     \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mkwargs\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0mwidget\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0m_kwarg\u001b[0m\u001b[0;34m]\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mvalue\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m--> 256\u001b[0;31m                 \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mresult\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mf\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m**\u001b[0m\u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mkwargs\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m    257\u001b[0m                 \u001b[0mshow_inline_matplotlib_plots\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    258\u001b[0m                 \u001b[0;32mif\u001b[0m \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mauto_display\u001b[0m \u001b[0;32mand\u001b[0m \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mresult\u001b[0m \u001b[0;32mis\u001b[0m \u001b[0;32mnot\u001b[0m \u001b[0;32mNone\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n", "\u001b[0;32m<ipython-input-18-c8a2a34505f1>\u001b[0m in \u001b[0;36mplot_parabola\u001b[0;34m(a, b, c)\u001b[0m\n\u001b[1;32m     12\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m     13\u001b[0m     \u001b[0mx\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mnp\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mlinspace\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mxmin\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mxmax\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mresolution\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m---> 14\u001b[0;31m     \u001b[0max\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mplot\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mx\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mget_y\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mx\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0ma\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mb\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mc\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m", "\u001b[0;31mNameError\u001b[0m: name 'get_y' is not defined"]}]}}, "d4a720a89beb4e66b4966d4f78cc44de": {"model_module": "@jupyter-widgets/output", "model_module_version": "1.0.0", "model_name": "OutputModel", "state": {"layout": "IPY_MODEL_fcd42c6f375e41c78391767fa7efdc06", "outputs": [{"data": {"image/png": "iVBORw0KGgoAAAANSUhEUgAAAZ0AAAEaCAYAAADKaorCAAAAOXRFWHRTb2Z0d2FyZQBNYXRwbG90bGliIHZlcnNpb24zLjMuMCwgaHR0cHM6Ly9tYXRwbG90bGliLm9yZy86wFpkAAAACXBIWXMAAAsTAAALEwEAmpwYAAAZWElEQVR4nO3de7CkdX3n8fdHRjR6UEBG7t5KhgpKVJhCTZSaEUQkrKhBA7tF8JIdMdGKtVpR4yqsZjdeVt1NMBBUKtEYZXYjccRRGM2wxKwXLmHkJjIQXBkRFmGAWV3JwHf/6Gfc9tjnMnP6/Lr78H5VdZ3n8jtPf85zevoz/fTTz0lVIUlSC48YdQBJ0sOHpSNJasbSkSQ1Y+lIkpqxdCRJzVg6kqRmLB1JUjOWjtRAkqOSfCPJZUk+m+SRo84kjYKlI7XxA+BFVXU0cCtw0mjjSKNh6UgNVNXtVfXTbvYB4KFhbDfJD5IcOYxtSS3Ey+BI7SR5MvA54Oiq+pcFbmtP4MfAHlX1kyHEkxadr3SkRpI8Dvg08Jq5CifJWUnOmmOThwP/a1iFM8/7lBbE0tGSk2QqyYNJ9u9b9swktyfZY4HbfmKSdUnuSHJ/ki92ZUKSDyb5u76xH0rytSS7J1lG7xXOf6iqGxeSoc/hwM1Jzklyd5Kbkryg7/5nzLPQO05yapLrkvwkyc1JVi10m3p4sHS05FTVNuC7wBF9i98P/Kequn/HgiQXJdk6w+2iGTb/OODPgCcBTwb2Ad7QrfsAsDrJc5KcARwPvLKqHgBOBZ4LvDvJpUl+ewg/6uHASuBLXY6/Bj7et362PLssyVuBfw+cBkwBL6d3coQ0p2WjDiAtksvplc6XkhwNHAa8sn9AVZ24sxutqs3A5m72Z0k2AHt1636c5KPAXwGPB15QVfd26z5N79DaMP0a8JGqugggySeAM5Msq6rts+XZVUmWA2cCL6yqTd3iaxayTT28WDpaqi4Hju2mPwi8e6H/wwdI8irgLcAhwO7AY4A1fUP+id6T8r+pqh/s5LYvAnYcHnt0t+wt3fzXB5TkM4F/2ze/D7C1qrbPN88u3OexwDV9hSPtFA+vaam6HDgiyW/RezL9m+kDknw5ybYZbl8eMP5F9A5ZvQU4gN6T/J3A1d36w4Fz6L2yeN3OBq6qE6tqz6rak97hwPfvmJ/+5N+dBfc44H/3LX4FvUNtO8bMmWdn7rOzN7B1Z382aQdLR0vVJmA/4MPAO2vAZwOq6qVVNTXD7aUDtvkseh/y3ETvkNr5wBOB65McCHwROAP4PeDwRX5z/XBgO/CvkzwiyW929/1egEXM80/AC5I8Kz2HJPnVIWxXDxOWjpakqvoZvfcabq2qX3rVsos+AzwSuBu4CLgJuJ7eK6n19N5fWdedwvwh4D8O6X4HORz4FPAbwD30DqGdVFU3dWfTLUqeqvqfwB/T+/nvBy4EfmWh29XDhx8O1ZLUnRa8GXh1VX1z1Hkk9fhKR0vVmcA/WjjSeLF0tKQkOSLJvcDRwJtHnUfSLxqL0klyfpI7k1zbt2zvJBu6T1lvSLLXDN97ejfmpiSnt0utcVRVV1XV46vqhVV116jzSPpFY1E6wF/S+7R0v3cAX6uqQ4CvdfO/IMne9A6jPBc4it4H4waWkyRp9MaidKrqMnpnBPU7id7nC+i+vnzAt74E2FBVd1fVPcAGfrm8JEljYpyvSLBvVd3eTf8I2HfAmAPpfW5ih9u6Zb8kyRq6T44/+tGPPvJJT3rSEKMujoceeohHPGIs/l8wo0nICOYcNnMO16Tk/N73vndXVS1fyDbGuXR+rqoqyYLO7a6q84DzAA499NC68cZhXeh38Vx66aWsWrVq1DFmNQkZwZzDZs7hmpScSb6/0G2Mc7XesePS9N3XOweM2QIc3Dd/ULdMkjSGxrl01gE7zkY7HfjCgDEXA8cl2as7geC4bpkkaQyNRekk+SzwDeDQJLcleT29iw++OMlN9K5s+/5u7MruEu5U1d3A++hd3PFy4L3dMknSGBqL93Sq6tQZVh0zYOwVwO/2zZ9P78KLkqQxNxavdCRJDw+WjiSpGUtHktSMpSNJasbSkSQ1Y+lIkpqxdCRJzVg6kqRmLB1JUjOWjiSpGUtHktSMpSNJasbSkSQ1Y+lIkpqxdCRJzVg6kqRmLB1JUjOWjiSpmbEunSSHJrm673ZfkrdMG7Mqyb19Y94zoriSpDksG3WA2VTVjcCzAZLsBmwBLhww9B+q6sSG0SRJu2CsX+lMcwxwc1V9f9RBJEm7ZpJK5xTgszOse36STUm+nOQZLUNJkuYvVTXqDHNKsjvwQ+AZVXXHtHWPAx6qqm1JTgD+a1UdMmAba4A1AMuXLz9y7dq1DZIvzLZt25iamhp1jFlNQkYw57CZc7gmJefq1auvrKqVC9pIVY39DTgJuGSeY28F9pltzIoVK2oSbNy4cdQR5jQJGavMOWzmHK5JyQlcUQt8Pp+Uw2unMsOhtST7JUk3fRS9Q4Y/bphNkjRPY332GkCSxwIvBt7Qt+wMgKo6FzgZeGOS7cBPgVO6RpYkjZmxL52q+j/AE6YtO7dv+mzg7Na5JEk7b1IOr0mSlgBLR5LUjKUjSWrG0pEkNWPpSJKasXQkSc1YOpKkZiwdSVIzlo4kqRlLR5LUjKUjSWrG0pEkNWPpSJKasXQkSc1YOpKkZiwdSVIzlo4kqRlLR5LUzNiXTpJbk1yT5OokVwxYnyR/mmRzku8kOWIUOSVJc1s26gDztLqq7pph3UuBQ7rbc4Fzuq+SpDEz9q905uEk4FPV801gzyT7jzqUJOmXTULpFHBJkiuTrBmw/kDgB33zt3XLJEljJlU16gyzSnJgVW1J8kRgA/Dmqrqsb/1FwPur6uvd/NeAt1fVFdO2swZYA7B8+fIj165d2+xn2FXbtm1jampq1DFmNQkZwZzDZs7hmpScq1evvrKqVi5oI1U1MTfgLOBt05b9BXBq3/yNwP6zbWfFihU1CTZu3DjqCHOahIxV5hw2cw7XpOQErqgFPo+P9eG1JI9NsseOaeA44Nppw9YBv9OdxfY84N6qur1xVEnSPIz72Wv7AhcmgV7Wv6mqryQ5A6CqzgXWAycAm4GfAK8dUVZJ0hzGunSq6hbgWQOWn9s3XcDvt8wlSdo1Y314TZK0tFg6kqRmLB1JUjOWjiSpGUtHktSMpSNJasbSkSQ1Y+lIkpqxdCRJzVg6kqRmLB1JUjOWjiSpGUtHktSMpSNJasbSkSQ1Y+lIkpqxdCRJzVg6kqRmLB1JUjNjWzpJDk6yMcn1Sa5L8gcDxqxKcm+Sq7vbe0aRVZI0P8tGHWAW24G3VtVVSfYArkyyoaqunzbuH6rqxBHkkyTtpLF9pVNVt1fVVd30/cANwIGjTSVJWohU1agzzCnJU4DLgGdW1X19y1cBfwvcBvwQeFtVXTfDNtYAawCWL19+5Nq1axc39BBs27aNqampUceY1SRkBHMOmzmHa1Jyrl69+sqqWrmgjVTVWN+AKeBK4JUD1j0OmOqmTwBums82V6xYUZNg48aNo44wp0nIWGXOYTPncE1KTuCKWuBz+tgeXgNI8kh6r2Q+U1Wfn76+qu6rqm3d9HrgkUn2aRxTkjRPY1s6SQJ8Erihqj4yw5j9unEkOYrez/PjdiklSTtjnM9e+w3gNOCaJFd3y/4IeBJAVZ0LnAy8Mcl24KfAKd1LQEnSGBrb0qmqrwOZY8zZwNltEkmSFmpsD69JkpYeS0eS1IylI0lqxtKRJDVj6UiSmrF0JEnNWDqSpGYsHUlSM5aOJKkZS0eS1IylI0lqxtKRJDVj6UiSmrF0JEnNWDqSpGYsHUlSM5aOJKkZS0eS1MzYl06S45PcmGRzkncMWP+oJBd067+V5CkjiClJmoexLp0kuwEfA14KHAacmuSwacNeD9xTVU8HPgp8oG1KSdJ8papmH5BsAN5WVZvaRPqF+34+cFZVvaSbfydAVf1J35iLuzHfSLIM+BGwvGb5wR5/0CF1/Ls/tbjhh2Dr1q3sueeeo44xq0nICOYcNnMO16TkXHvGr19ZVSsXso1l8xjzduC/JLkV+KOqun0hd7iTDgR+0Dd/G/DcmcZU1fYk9wJPAO7qH5RkDbAG4DH7PoWtW7cuUuThefDBB8c+5yRkBHMOmzmHa1JyDkVVzesG/BawCTgT+JX5ft9CbsDJwCf65k8Dzp425lrgoL75m4F9ZtvuihUrahJs3Lhx1BHmNAkZq8w5bOYcrknJCVxRC3xen9d7OkkC3AicA7wZuCnJacOrvhltAQ7umz+oWzZwTHd47fHAjxtkkyTtpDlLJ8k/0nti/yi9Q1mvAVYBRyU5bzHDAZcDhyR5apLdgVOAddPGrANO76ZPBv6+a2RJ0piZz3s6a4DrBzyRvznJDYuQ6eeq9x7Nm4CLgd2A86vquiTvpfcybx3wSeDTSTYDd9MrJknSGJqzdKrqullW/+YQs8x0/+uB9dOWvadv+v8Cr1rsHJKkhVvQ53Sq6pZhBZEkLX1j/eFQSdLSYulIkpqxdCRJzVg6kqRmLB1JUjOWjiSpGUtHktSMpSNJasbSkSQ1Y+lIkpqxdCRJzVg6kqRmLB1JUjOWjiSpGUtHktSMpSNJasbSkSQ1M+efqx6FJB8C/hXwAHAz8Nqq2jpg3K3A/cCDwPaqWtkwpiRpJ43rK50NwDOr6teA7wHvnGXs6qp6toUjSeNvLEunqi6pqu3d7DeBg0aZR5I0HKmqUWeYVZIvAhdU1V8PWPfPwD1AAX9RVefNsp01wBqA5cuXH7l27dpFSjw827ZtY2pqatQxZjUJGcGcw2bO4ZqUnKtXr75ywUeVqmokN+CrwLUDbif1jXkXcCFdOQ7YxoHd1ycCm4Cj53PfK1asqEmwcePGUUeY0yRkrDLnsJlzuCYlJ3BFLfC5f2QnElTVsbOtT/Ia4ETgmO6HHbSNLd3XO5NcCBwFXDbkqJKkIRnL93SSHA/8IfCyqvrJDGMem2SPHdPAcfReKUmSxtRYlg5wNrAHsCHJ1UnOBUhyQJL13Zh9ga8n2QR8G/hSVX1lNHElSfMxlp/Tqaqnz7D8h8AJ3fQtwLNa5pIkLcy4vtKRJC1Blo4kqRlLR5LUjKUjSWrG0pEkNWPpSJKasXQkSc1YOpKkZiwdSVIzlo4kqRlLR5LUjKUjSWrG0pEkNWPpSJKasXQkSc1YOpKkZiwdSVIzlo4kqZmxLZ0kZyXZkuTq7nbCDOOOT3Jjks1J3tE6pyRp/paNOsAcPlpV/3mmlUl2Az4GvBi4Dbg8ybqqur5VQEnS/I3tK515OgrYXFW3VNUDwOeAk0acSZI0g1TVqDMMlOQs4DXAfcAVwFur6p5pY04Gjq+q3+3mTwOeW1VvGrC9NcAagOXLlx+5du3aRc0/DNu2bWNqamrUMWY1CRnBnMNmzuGalJyrV6++sqpWLmQbIz28luSrwH4DVr0LOAd4H1Dd1w8Dr9vV+6qq84DzAA499NBatWrVrm6qmUsvvZRxzzkJGcGcw2bO4ZqUnMMw0tKpqmPnMy7Jx4GLBqzaAhzcN39Qt0ySNIbG9j2dJPv3zb4CuHbAsMuBQ5I8NcnuwCnAuhb5JEk7b5zPXvtgkmfTO7x2K/AGgCQHAJ+oqhOqanuSNwEXA7sB51fVdSPKK0maw9iWTlWdNsPyHwIn9M2vB9a3yiVJ2nVje3hNkrT0WDqSpGYsHUlSM5aOJKkZS0eS1IylI0lqxtKRJDVj6UiSmrF0JEnNWDqSpGYsHUlSM5aOJKkZS0eS1IylI0lqxtKRJDVj6UiSmrF0JEnNWDqSpGbG8s9VJ7kAOLSb3RPYWlXPHjDuVuB+4EFge1WtbBRRkrQLxrJ0quq3d0wn+TBw7yzDV1fVXYufSpK0UGNZOjskCfBq4EWjziJJWrhxf0/nhcAdVXXTDOsLuCTJlUnWNMwlSdoFqarR3HHyVWC/AaveVVVf6MacA2yuqg/PsI0Dq2pLkicCG4A3V9VlM4xdA6wBWL58+ZFr164dxo+xqLZt28bU1NSoY8xqEjKCOYfNnMM1KTlXr1595YLfO6+qsbzRO/R3B3DQPMefBbxtPmNXrFhRk2Djxo2jjjCnSchYZc5hM+dwTUpO4Ipa4HP7OB9eOxb4blXdNmhlkscm2WPHNHAccG3DfJKknTTOpXMK8Nn+BUkOSLK+m90X+HqSTcC3gS9V1VcaZ5Qk7YSxPXutql4zYNkPgRO66VuAZzWOJUlagHF+pSNJWmIsHUlSM5aOJKkZS0eS1IylI0lqxtKRJDVj6UiSmrF0JEnNWDqSpGYsHUlSM5aOJKkZS0eS1IylI0lqxtKRJDVj6UiSmrF0JEnNWDqSpGYsHUlSM5aOJKmZkZZOklcluS7JQ0lWTlv3ziSbk9yY5CUzfP9Tk3yrG3dBkt3bJJck7YpRv9K5FnglcFn/wiSHAacAzwCOB/48yW4Dvv8DwEer6unAPcDrFzeuJGkhRlo6VXVDVd04YNVJwOeq6mdV9c/AZuCo/gFJArwI+O/dor8CXr6IcSVJC7Rs1AFmcCDwzb7527pl/Z4AbK2q7bOM+bkka4A13ezPklw7pKyLaR/grlGHmMMkZARzDps5h2tSch660A0seukk+Sqw34BV76qqLyz2/e9QVecB53WZrqiqlXN8y8hNQs5JyAjmHDZzDtck5VzoNha9dKrq2F34ti3AwX3zB3XL+v0Y2DPJsu7VzqAxkqQxMuoTCWayDjglyaOSPBU4BPh2/4CqKmAjcHK36HSg2SsnSdLOG/Up069IchvwfOBLSS4GqKrrgLXA9cBXgN+vqge771mf5IBuE28H/l2SzfTe4/nkPO/6vCH+GItpEnJOQkYw57CZc7geNjnTe8EgSdLiG9fDa5KkJcjSkSQ1s2RLZ9IusdPdx9Xd7dYkV88w7tYk13TjFnz64s5KclaSLX1ZT5hh3PHd/t2c5B0jyPmhJN9N8p0kFybZc4ZxI9mfc+2f7iSaC7r130rylFbZ+jIcnGRjkuu7f0t/MGDMqiT39j0e3tM6Z5dj1t9jev6025/fSXJE43yH9u2jq5Pcl+Qt08aMbF8mOT/Jnf2fX0yyd5INSW7qvu41w/ee3o25Kcnpc95ZVS3JG/Cr9D7IdCmwsm/5YcAm4FHAU4Gbgd0GfP9a4JRu+lzgjQ2zfxh4zwzrbgX2GeF+PQt42xxjduv269OA3bv9fVjjnMcBy7rpDwAfGJf9OZ/9A/wecG43fQpwwQh+1/sDR3TTewDfG5BzFXBR62w7+3sETgC+DAR4HvCtEWbdDfgR8ORx2ZfA0cARwLV9yz4IvKObfsegf0PA3sAt3de9uum9ZruvJftKpyb0Ejvdfb8a+GyL+1skRwGbq+qWqnoA+By9/d5MVV1S//9qFd+k9zmucTGf/XMSvccd9B6Hx3SPjWaq6vaquqqbvh+4gVmu+jHmTgI+VT3fpPcZv/1HlOUY4Oaq+v6I7v+XVNVlwN3TFvc/Bmd6DnwJsKGq7q6qe4AN9K6XOaMlWzqzOBD4Qd/8gi+xM2QvBO6oqptmWF/AJUmu7C7tMwpv6g5RnD/DS+757OOWXkfvf7mDjGJ/zmf//HxM9zi8l97jciS6w3vPAb41YPXzk2xK8uUkz2ib7Ofm+j2O02PyFGb+T+U47Msd9q2q27vpHwH7Dhiz0/t1XK+9Ni8Zk0vszNc8857K7K9yXlBVW5I8EdiQ5Lvd/1Ka5ATOAd5H7x/5++gdCnzdMO9/vuazP5O8C9gOfGaGzSz6/px0SaaAvwXeUlX3TVt9Fb3DRNu69/f+jt6HuVubiN9j997wy4B3Dlg9Lvvyl1RVJRnK52smunRqwi6xM1feJMvo/amHI2fZxpbu651JLqR3qGao/7jmu1+TfBy4aMCq+ezjBZvH/nwNcCJwTHUHoAdsY9H35wDz2T87xtzWPS4eT+9x2VSSR9IrnM9U1eenr+8voapan+TPk+xTVU0vXjmP32OTx+Q8vBS4qqrumL5iXPZlnzuS7F9Vt3eHIu8cMGYLvfeidjiI3vvoM3o4Hl4b50vsHAt8t6puG7QyyWOT7LFjmt6b5U2vlj3tOPgrZrj/y4FD0jsDcHd6hxPWtci3Q5LjgT8EXlZVP5lhzKj253z2zzp6jzvoPQ7/fqbiXCzde0ifBG6oqo/MMGa/He81JTmK3nNK03Kc5+9xHfA73VlszwPu7Tt01NKMRzLGYV9O0/8YnOk58GLguCR7dYfaj+uWzWwUZ0q0uNF7QrwN+BlwB3Bx37p30Tt76EbgpX3L1wMHdNNPo1dGm4H/BjyqQea/BM6YtuwAYH1fpk3d7Tp6h5Fa79dPA9cA3+kelPtPz9nNn0DvbKebR5RzM71jzVd3t3On5xzl/hy0f4D30itJgEd3j7vN3ePwaSPYhy+gdxj1O3378QTgjB2PU+BN3b7bRO+EjV8fQc6Bv8dpOQN8rNvf19B3RmvDnI+lVyKP71s2FvuSXhHeDvxL97z5enrvIX4NuAn4KrB3N3Yl8Im+731d9zjdDLx2rvvyMjiSpGYejofXJEkjYulIkpqxdCRJzVg6kqRmLB1JUjOWjiSpGUtHktSMpSONgfT+bs2Lu+k/TvJno84kLYaJvvaatIScCby3u2Dlc+hdFFJacrwigTQmkvwPYApYVb2/XyMtOR5ek8ZAksPp/aXOBywcLWWWjjRi3ZW7P0PvLzVu666QLS1Jlo40QkkeA3weeGtV3UDvD+OdOdpU0uLxPR1JUjO+0pEkNWPpSJKasXQkSc1YOpKkZiwdSVIzlo4kqRlLR5LUzP8DfV/Ks2wk1c8AAAAASUVORK5CYII=\n", "text/plain": "<Figure size 432x288 with 1 Axes>"}, "metadata": {"needs_background": "light"}, "output_type": "display_data"}]}}, "d553dd6c37aa4e75895e24ec9c28c9fb": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "d6912793ded942adb4bdf091b11dcbcb": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "VBoxModel", "state": {"_dom_classes": ["widget-interact"], "children": ["IPY_MODEL_a8b7889c80524c87af823a15bfe83241", "IPY_MODEL_775bee3c08ec4f339f978bbe8479207c"], "layout": "IPY_MODEL_97ee3e843a554969a2df492bcc0b7811"}}, "d7626c51e1e14729b340f09a18ec7d4c": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "DropdownModel", "state": {"_options_labels": ["0", "1"], "description": "b0", "index": 0, "layout": "IPY_MODEL_7849b4694e654c2e895b387432a06479", "style": "IPY_MODEL_8484949ae45c418bbf5c2070859a67c1"}}, "d7bb867bf222407a9a6a0e214b807542": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "SliderStyleModel", "state": {"description_width": ""}}, "dabbd3d8ad3b43a7ac660454c0cdef4f": {"model_module": "@jupyter-widgets/output", "model_module_version": "1.0.0", "model_name": "OutputModel", "state": {"layout": "IPY_MODEL_07422485bb9e49ff9389dea7ae548969", "outputs": [{"ename": "NameError", "evalue": "name 'length_of_hypotenus' is not defined", "output_type": "error", "traceback": ["\u001b[0;31m---------------------------------------------------------------------------\u001b[0m", "\u001b[0;31mNameError\u001b[0m                                 Traceback (most recent call last)", "\u001b[0;32m/opt/anaconda/lib/python3.7/site-packages/ipywidgets/widgets/interaction.py\u001b[0m in \u001b[0;36mupdate\u001b[0;34m(self, *args)\u001b[0m\n\u001b[1;32m    254\u001b[0m                     \u001b[0mvalue\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mwidget\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mget_interact_value\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    255\u001b[0m                     \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mkwargs\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0mwidget\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0m_kwarg\u001b[0m\u001b[0;34m]\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mvalue\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m--> 256\u001b[0;31m                 \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mresult\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mf\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m**\u001b[0m\u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mkwargs\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m    257\u001b[0m                 \u001b[0mshow_inline_matplotlib_plots\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    258\u001b[0m                 \u001b[0;32mif\u001b[0m \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mauto_display\u001b[0m \u001b[0;32mand\u001b[0m \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mresult\u001b[0m \u001b[0;32mis\u001b[0m \u001b[0;32mnot\u001b[0m \u001b[0;32mNone\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n", "\u001b[0;32m<ipython-input-16-dc91d03df19f>\u001b[0m in \u001b[0;36mcalculate_hypotenus_length\u001b[0;34m(a, b)\u001b[0m\n\u001b[1;32m      1\u001b[0m \u001b[0;34m@\u001b[0m\u001b[0minteract\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0ma\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;36m0\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;36m10\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;36m1\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mb\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;36m0\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;36m10\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;36m1\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m      2\u001b[0m \u001b[0;32mdef\u001b[0m \u001b[0mcalculate_hypotenus_length\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0ma\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0;36m3\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mb\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0;36m4\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m----> 3\u001b[0;31m     \u001b[0mprint\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m'c: {:.2f}'\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mformat\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mlength_of_hypotenus\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0ma\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mb\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m", "\u001b[0;31mNameError\u001b[0m: name 'length_of_hypotenus' is not defined"]}]}}, "dd0e4eab528849a288b12645706e960a": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "IntSliderModel", "state": {"description": "a", "layout": "IPY_MODEL_89709a57198a4ec4ac63d8d519fc1740", "max": 10, "min": -10, "style": "IPY_MODEL_21c55ecf806347fe945e0ee8a73a78c0", "value": 1}}, "e29bde0d124c4cf39a2526d49a983649": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "e3284c4b17544bacbde44ba9bba14d62": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "DropdownModel", "state": {"_options_labels": ["0", "1"], "description": "b4", "index": 0, "layout": "IPY_MODEL_0a02333a23514a3ea2e030786cbbb011", "style": "IPY_MODEL_2beb1667860e4c34a36d1f290e380050"}}, "e8480ad196184a33ba56b974eab42669": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "SliderStyleModel", "state": {"description_width": ""}}, "e8cd1a111f064914b8e03fad77e229c0": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "e941b1949ef44972a64f29e0914c3f50": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "SliderStyleModel", "state": {"description_width": ""}}, "eb60cb8e496441e8a9f8d575ef0fcaf5": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "eb962828109445279a7a87ff04012dec": {"model_module": "@jupyter-widgets/output", "model_module_version": "1.0.0", "model_name": "OutputModel", "state": {"layout": "IPY_MODEL_2f7d9146e8a8499885da80bcaa51fe85", "outputs": [{"ename": "NameError", "evalue": "name 'length_of_hypotenus' is not defined", "output_type": "error", "traceback": ["\u001b[0;31m---------------------------------------------------------------------------\u001b[0m", "\u001b[0;31mNameError\u001b[0m                                 Traceback (most recent call last)", "\u001b[0;32m/opt/anaconda/lib/python3.7/site-packages/ipywidgets/widgets/interaction.py\u001b[0m in \u001b[0;36mupdate\u001b[0;34m(self, *args)\u001b[0m\n\u001b[1;32m    254\u001b[0m                     \u001b[0mvalue\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mwidget\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mget_interact_value\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    255\u001b[0m                     \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mkwargs\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0mwidget\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0m_kwarg\u001b[0m\u001b[0;34m]\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mvalue\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m--> 256\u001b[0;31m                 \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mresult\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mf\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m**\u001b[0m\u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mkwargs\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m    257\u001b[0m                 \u001b[0mshow_inline_matplotlib_plots\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    258\u001b[0m                 \u001b[0;32mif\u001b[0m \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mauto_display\u001b[0m \u001b[0;32mand\u001b[0m \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mresult\u001b[0m \u001b[0;32mis\u001b[0m \u001b[0;32mnot\u001b[0m \u001b[0;32mNone\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n", "\u001b[0;32m<ipython-input-17-34a798c98941>\u001b[0m in \u001b[0;36mcalculate_hypotenuse_length\u001b[0;34m(a, b)\u001b[0m\n\u001b[1;32m      1\u001b[0m \u001b[0;34m@\u001b[0m\u001b[0minteract\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0ma\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;36m0\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;36m10\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;36m1\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mb\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;36m0\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;36m10\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;36m1\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m      2\u001b[0m \u001b[0;32mdef\u001b[0m \u001b[0mcalculate_hypotenuse_length\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0ma\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0;36m3\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mb\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0;36m4\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m----> 3\u001b[0;31m     \u001b[0mprint\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m'c: {:.2f}'\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mformat\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mlength_of_hypotenus\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0ma\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mb\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m", "\u001b[0;31mNameError\u001b[0m: name 'length_of_hypotenus' is not defined"]}]}}, "efe7a7d0532e4c3c92e38bd71b060fa6": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "f09d712201184c9b94c00e25903f8e3a": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "f17aa215f3f24c359d05ecb68977e5bd": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "DropdownModel", "state": {"_options_labels": ["0", "1"], "description": "b3", "index": 0, "layout": "IPY_MODEL_20e92dcf6fd342b2ac47f05b6f9e4734", "style": "IPY_MODEL_0a279905beaa44d384065e1c8ab37d0b"}}, "f1f6d749081c4faca17acb58693dadac": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "f4347b9b90a7454eb5bb48997c76b83a": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "f7cd89217fbd45748e57a2e525f13028": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "faf70cd1f04543f18232f891044d9409": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "fc131f372f1846d9b8715402f28c8810": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "fcb0fe9eef934ae8b3e79fd981eeb7bc": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "IntSliderModel", "state": {"description": "a", "layout": "IPY_MODEL_aa7965a3bb534df59919a39042fc5c12", "max": 10, "min": -10, "style": "IPY_MODEL_c7870247a42147698dfd6eee0fab2881"}}, "fcd42c6f375e41c78391767fa7efdc06": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "fd6f04f13b2646f7ac1f57bc90b080ec": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "IntSliderModel", "state": {"description": "a", "layout": "IPY_MODEL_124fd741dba248f58f72cb54c2cfb2cd", "max": 10, "style": "IPY_MODEL_ab481efba8cd440999e30fbe9414b634", "value": 3}}, "fe12a74ac60c41e78b77818528b21cc7": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "IntSliderModel", "state": {"description": "c", "layout": "IPY_MODEL_bcf273001bbe4f9cb422982dff0c3d3d", "max": 10, "min": -10, "style": "IPY_MODEL_cec62cbb12004a10a969885260df23d5", "value": 1}}, "fe4b44296409452eb4cd514ab6d5a788": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}}, "version_major": 2, "version_minor": 0}
</script>

<span id="document-Lab3a/Improved Quadratic Equation Solver"></span><div class="section" id="improved-quadratic-equation-solver">
<h3>Improved Quadratic Equation Solver<a class="headerlink" href="#improved-quadratic-equation-solver" title="Permalink to this headline">¶</a></h3>
<p>In this notebook, we will improve the quadratic equation solver in the previous lab using conditional executions.<br />
First of all, run the following to setup the environment.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">reset</span> -f
<span class="kn">from</span> <span class="nn">ipywidgets</span> <span class="kn">import</span> <span class="n">interact</span>
<span class="kn">import</span> <span class="nn">math</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="zero-discriminant">
<h4>Zero Discriminant<a class="headerlink" href="#zero-discriminant" title="Permalink to this headline">¶</a></h4>
<p>Recall that the quadratic equation is</p>
<div class="math notranslate nohighlight">
\[
ax^2+bx+c=0
\]</div>
<p>where <span class="math notranslate nohighlight">\(a\)</span>, <span class="math notranslate nohighlight">\(b\)</span>, and <span class="math notranslate nohighlight">\(c\)</span> are real-valued coefficients, and <span class="math notranslate nohighlight">\(x\)</span> is the unknown variable. The roots are normally given by</p>
<div class="math notranslate nohighlight">
\[
\frac{-b-\sqrt{b^2-4ac}}{2a}, \frac{-b+\sqrt{b^2-4ac}}{2a}.
\]</div>
<p>The roots are the same (repeated) when the discriminant <span class="math notranslate nohighlight">\(b^2-4ac\)</span> is zero.</p>
<p><strong>Exercise</strong> Assign to <code class="docutils literal notranslate"><span class="pre">roots</span></code> only one root when the discriminant is zero. E.g., if <span class="math notranslate nohighlight">\((a,b,c)=(1,-2,1)\)</span>, then <code class="docutils literal notranslate"><span class="pre">roots</span></code> should be assigned the value <code class="docutils literal notranslate"><span class="pre">1.0</span></code> instead of <code class="docutils literal notranslate"><span class="pre">1.0,</span> <span class="pre">1.0</span></code>. If there are two roots, give them in the order of the above formula.</p>
<p><em>Hint</em>: Use the <a class="reference external" href="https://docs.python.org/3/reference/compound_stmts.html#if"><code class="docutils literal notranslate"><span class="pre">if</span></code> statement</a>.</p>
<p><em>Hint:</em> The following is a solution template with some missing code. You are NOT required to follow the template.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_roots</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">):</span>
    <span class="n">d</span> <span class="o">=</span> <span class="n">b</span><span class="o">**</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">4</span> <span class="o">*</span> <span class="n">a</span> <span class="o">*</span> <span class="n">c</span>    <span class="c1"># discriminant</span>
    <span class="k">if</span> <span class="n">math</span><span class="o">.</span><span class="n">isclose</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span>
        <span class="n">roots</span> <span class="o">=</span> <span class="n">__________</span>  <span class="c1"># repeated root</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">d</span> <span class="o">**=</span> <span class="mf">0.5</span>
        <span class="n">roots</span> <span class="o">=</span> <span class="n">__________________________________</span>
    <span class="k">return</span> <span class="n">roots</span>
</pre></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_roots</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">):</span>
    <span class="n">d</span> <span class="o">=</span> <span class="n">b</span><span class="o">**</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">4</span> <span class="o">*</span> <span class="n">a</span> <span class="o">*</span> <span class="n">c</span>    <span class="c1"># discriminant</span>
    <span class="k">if</span> <span class="n">math</span><span class="o">.</span><span class="n">isclose</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span>
    <span class="c1"># YOUR CODE HERE</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">roots</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># tests</span>
<span class="k">def</span> <span class="nf">test_get_roots</span><span class="p">(</span><span class="n">roots</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">):</span>
    <span class="n">roots_</span> <span class="o">=</span> <span class="n">get_roots</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">roots</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">correct</span> <span class="o">=</span> <span class="n">roots_</span> <span class="ow">is</span> <span class="kc">None</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">roots</span><span class="p">,</span> <span class="nb">float</span><span class="p">):</span>
        <span class="n">correct</span> <span class="o">=</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">roots_</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span> <span class="ow">and</span> <span class="n">math</span><span class="o">.</span><span class="n">isclose</span><span class="p">(</span><span class="n">roots</span><span class="p">,</span> <span class="n">roots_</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">correct</span> <span class="o">=</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">roots_</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">roots_</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span> <span class="ow">and</span> <span class="nb">all</span><span class="p">([</span>
            <span class="n">math</span><span class="o">.</span><span class="n">isclose</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">roots_</span><span class="p">)</span> <span class="k">for</span> <span class="n">root</span><span class="p">,</span> <span class="n">roots_</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">roots</span><span class="p">,</span> <span class="n">roots_</span><span class="p">)</span>
        <span class="p">])</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">correct</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;With (a, b, c)=</span><span class="si">{</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="si">}</span><span class="s1">, roots should be </span><span class="si">{</span><span class="n">roots</span><span class="si">}</span><span class="s1"> not </span><span class="si">{</span><span class="n">roots_</span><span class="si">}</span><span class="s1">.&#39;</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">correct</span>

<span class="n">test_get_roots</span><span class="p">((</span><span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">),</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">test_get_roots</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p><strong>Exercise</strong> Why use <code class="docutils literal notranslate"><span class="pre">math.isclose(d,0)</span></code> instead of <code class="docutils literal notranslate"><span class="pre">d</span> <span class="pre">==</span> <span class="pre">0</span></code>?</p>
<p>YOUR ANSWER HERE</p>
</div>
<div class="section" id="linear-equation">
<h4>Linear Equation<a class="headerlink" href="#linear-equation" title="Permalink to this headline">¶</a></h4>
<p>If <span class="math notranslate nohighlight">\(a=0\)</span>, the earlier formula for the roots are invalid due to division by zero. Nevertheless, the equation remains valid:</p>
<div class="math notranslate nohighlight">
\[
bx + c=0.
\]</div>
<p><strong>Exercise</strong> Improve the function <code class="docutils literal notranslate"><span class="pre">get_roots</span></code> to return the root <span class="math notranslate nohighlight">\(-\frac{c}{b}\)</span> if <span class="math notranslate nohighlight">\(a=0\)</span>.</p>
<p><em>Hint:</em> Solution template:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_roots</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">):</span>
    <span class="n">d</span> <span class="o">=</span> <span class="n">b</span><span class="o">**</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">4</span> <span class="o">*</span> <span class="n">a</span> <span class="o">*</span> <span class="n">c</span>    <span class="c1"># discriminant</span>
    <span class="k">if</span> <span class="n">__________________</span><span class="p">:</span>
        <span class="n">roots</span> <span class="o">=</span> <span class="n">______</span>
    <span class="k">elif</span> <span class="n">math</span><span class="o">.</span><span class="n">isclose</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span>
        <span class="n">roots</span> <span class="o">=</span> <span class="n">__________</span>  <span class="c1"># repeated root</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">d</span> <span class="o">**=</span> <span class="mf">0.5</span>
        <span class="n">roots</span> <span class="o">=</span> <span class="n">__________________________________</span>
    <span class="k">return</span> <span class="n">roots</span>
</pre></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_roots</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">):</span>
    <span class="n">d</span> <span class="o">=</span> <span class="n">b</span><span class="o">**</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">4</span> <span class="o">*</span> <span class="n">a</span> <span class="o">*</span> <span class="n">c</span>
    <span class="c1"># YOUR CODE HERE</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">roots</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># tests</span>
<span class="k">def</span> <span class="nf">test_get_roots</span><span class="p">(</span><span class="n">roots</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">):</span>
    <span class="n">roots_</span> <span class="o">=</span> <span class="n">get_roots</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">roots</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">correct</span> <span class="o">=</span> <span class="n">roots_</span> <span class="ow">is</span> <span class="kc">None</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">roots</span><span class="p">,</span> <span class="nb">float</span><span class="p">):</span>
        <span class="n">correct</span> <span class="o">=</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">roots_</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span> <span class="ow">and</span> <span class="n">math</span><span class="o">.</span><span class="n">isclose</span><span class="p">(</span><span class="n">roots</span><span class="p">,</span> <span class="n">roots_</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">correct</span> <span class="o">=</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">roots_</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">roots_</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span> <span class="ow">and</span> <span class="nb">all</span><span class="p">([</span>
            <span class="n">math</span><span class="o">.</span><span class="n">isclose</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">roots_</span><span class="p">)</span> <span class="k">for</span> <span class="n">root</span><span class="p">,</span> <span class="n">roots_</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">roots</span><span class="p">,</span> <span class="n">roots_</span><span class="p">)</span>
        <span class="p">])</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">correct</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;With (a, b, c)=</span><span class="si">{</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="si">}</span><span class="s1">, roots should be </span><span class="si">{</span><span class="n">roots</span><span class="si">}</span><span class="s1"> not </span><span class="si">{</span><span class="n">roots_</span><span class="si">}</span><span class="s1">.&#39;</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">correct</span>


<span class="n">test_get_roots</span><span class="p">((</span><span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0</span><span class="p">),</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">test_get_roots</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">test_get_roots</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="degenerate-cases">
<h4>Degenerate Cases<a class="headerlink" href="#degenerate-cases" title="Permalink to this headline">¶</a></h4>
<p>What if <span class="math notranslate nohighlight">\(a=b=0\)</span>? In that case, the equation becomes</p>
<div class="math notranslate nohighlight">
\[
c = 0
\]</div>
<p>which is always satisfied if <span class="math notranslate nohighlight">\(c=0\)</span>, but never satisfied if <span class="math notranslate nohighlight">\(c\neq 0\)</span>.</p>
<p><strong>Exercise</strong> Improve the function <code class="docutils literal notranslate"><span class="pre">get_roots</span></code> to return root(s) under all cases:</p>
<ul class="simple">
<li><p>If <span class="math notranslate nohighlight">\(a=0\)</span> and <span class="math notranslate nohighlight">\(b\neq 0\)</span>, assign <code class="docutils literal notranslate"><span class="pre">roots</span></code> to the single root <span class="math notranslate nohighlight">\(-\frac{c}{b}\)</span>.</p></li>
<li><p>If <span class="math notranslate nohighlight">\(a=b=0\)</span> and <span class="math notranslate nohighlight">\(c\neq 0\)</span>, assign <code class="docutils literal notranslate"><span class="pre">roots</span></code> to <code class="docutils literal notranslate"><span class="pre">None</span></code>.<br />
Note that <code class="docutils literal notranslate"><span class="pre">None</span></code> is an object, not a string.</p></li>
<li><p>If <span class="math notranslate nohighlight">\(a=b=c=0\)</span>, there are infinitely many roots. Assign to <code class="docutils literal notranslate"><span class="pre">roots</span></code> the tuple <code class="docutils literal notranslate"><span class="pre">-float('inf'),</span> <span class="pre">float('inf')</span></code>.<br />
Note that <code class="docutils literal notranslate"><span class="pre">float('inf')</span></code> converts the string <code class="docutils literal notranslate"><span class="pre">'inf'</span></code> to a floating point value that represents <span class="math notranslate nohighlight">\(\infty\)</span>.</p></li>
</ul>
<p><em>Hint:</em> Use nested <code class="docutils literal notranslate"><span class="pre">if</span></code> statements such as the followings (with the blanks filled in properly):</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_roots</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">):</span>
    <span class="n">d</span> <span class="o">=</span> <span class="n">b</span><span class="o">**</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">4</span> <span class="o">*</span> <span class="n">a</span> <span class="o">*</span> <span class="n">c</span>
    <span class="k">if</span> <span class="n">__________________</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">__________________</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">__________________</span><span class="p">:</span>
                <span class="n">roots</span> <span class="o">=</span> <span class="o">-</span><span class="nb">float</span><span class="p">(</span><span class="s1">&#39;inf&#39;</span><span class="p">),</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;inf&#39;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">roots</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">______________</span>
    <span class="k">elif</span> <span class="n">math</span><span class="o">.</span><span class="n">isclose</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span>
        <span class="n">roots</span> <span class="o">=</span> <span class="n">__________</span>  <span class="c1"># repeated root</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">d</span> <span class="o">**=</span> <span class="mf">0.5</span>
        <span class="n">roots</span> <span class="o">=</span> <span class="n">__________________________________</span>
    <span class="k">return</span> <span class="n">roots</span>
</pre></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_roots</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">):</span>
    <span class="n">d</span> <span class="o">=</span> <span class="n">b</span><span class="o">**</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">4</span> <span class="o">*</span> <span class="n">a</span> <span class="o">*</span> <span class="n">c</span>
    <span class="c1"># YOUR CODE HERE</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">roots</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># tests</span>
<span class="k">def</span> <span class="nf">test_get_roots</span><span class="p">(</span><span class="n">roots</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">):</span>
    <span class="n">roots_</span> <span class="o">=</span> <span class="n">get_roots</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">roots</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">correct</span> <span class="o">=</span> <span class="n">roots_</span> <span class="ow">is</span> <span class="kc">None</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">roots</span><span class="p">,</span> <span class="nb">float</span><span class="p">):</span>
        <span class="n">correct</span> <span class="o">=</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">roots_</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span> <span class="ow">and</span> <span class="n">math</span><span class="o">.</span><span class="n">isclose</span><span class="p">(</span><span class="n">roots</span><span class="p">,</span> <span class="n">roots_</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">correct</span> <span class="o">=</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">roots_</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">roots_</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span> <span class="ow">and</span> <span class="nb">all</span><span class="p">([</span>
            <span class="n">math</span><span class="o">.</span><span class="n">isclose</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">roots_</span><span class="p">)</span> <span class="k">for</span> <span class="n">root</span><span class="p">,</span> <span class="n">roots_</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">roots</span><span class="p">,</span> <span class="n">roots_</span><span class="p">)</span>
        <span class="p">])</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">correct</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;With (a, b, c)=</span><span class="si">{</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="si">}</span><span class="s1">, roots should be </span><span class="si">{</span><span class="n">roots</span><span class="si">}</span><span class="s1"> not </span><span class="si">{</span><span class="n">roots_</span><span class="si">}</span><span class="s1">.&#39;</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">correct</span>


<span class="n">test_get_roots</span><span class="p">((</span><span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">),</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">test_get_roots</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">test_get_roots</span><span class="p">((</span><span class="o">-</span><span class="nb">float</span><span class="p">(</span><span class="s1">&#39;inf&#39;</span><span class="p">),</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;inf&#39;</span><span class="p">)),</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">test_get_roots</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">test_get_roots</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">test_get_roots</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="run-the-calculator">
<h4>Run the calculator<a class="headerlink" href="#run-the-calculator" title="Permalink to this headline">¶</a></h4>
<p>After you have complete the exercises, you can run your robust solver below:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># quadratic equations solver</span>
<span class="nd">@interact</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="n">b</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="n">c</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
<span class="k">def</span> <span class="nf">quadratic_equation_solver</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">b</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="n">c</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Root(s):&#39;</span><span class="p">,</span><span class="n">get_roots</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<span id="document-Lab3b/Big Number Conversion"></span><div class="section" id="big-number-conversion">
<h3>Big Number Conversion<a class="headerlink" href="#big-number-conversion" title="Permalink to this headline">¶</a></h3>
<div class="section" id="conversion-to-decimal">
<h4>Conversion to Decimal<a class="headerlink" href="#conversion-to-decimal" title="Permalink to this headline">¶</a></h4>
<p>In this notebook, we will use iterations to convert numbers with arbitrary size.</p>
<div class="section" id="binary-to-decimal">
<h5>Binary-to-Decimal<a class="headerlink" href="#binary-to-decimal" title="Permalink to this headline">¶</a></h5>
<p>In a previous lab, we considered converting a byte string to decimal.<br />
What about converting a binary string of arbitrary length to decimal?</p>
<p>Given a binary string of an arbitrarily length <span class="math notranslate nohighlight">\(k\)</span>,</p>
<div class="math notranslate nohighlight">
\[ 
b_{k-1}\circ \dots \circ b_1\circ b_0,
\]</div>
<p>the decimal number can be computed by the formula</p>
<div class="math notranslate nohighlight">
\[
2^0 \cdot b_0 + 2^1 \cdot b_1 + \dots + 2^{k-1} \cdot b_{k-1}.
\]</div>
<p>In mathematics, we use the summation notation to write the above formula:</p>
<div class="math notranslate nohighlight">
\[ 
\sum_{i=0}^{k-1} 2^i \cdot b_{i}.
\]</div>
<p>In a program, the formula can be implemented as a for loop:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">binary_to_decimal</span><span class="p">(</span><span class="n">binary_str</span><span class="p">):</span>
    <span class="n">k</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">binary_str</span><span class="p">)</span>
    <span class="n">decimal</span> <span class="o">=</span> <span class="mi">0</span>                                     <span class="c1"># initialization</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">k</span><span class="p">):</span>
        <span class="n">decimal</span> <span class="o">+=</span> <span class="mi">2</span><span class="o">**</span><span class="n">i</span> <span class="o">*</span> <span class="nb">int</span><span class="p">(</span><span class="n">binary_str</span><span class="p">[(</span><span class="n">k</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">-</span><span class="n">i</span><span class="p">])</span>  <span class="c1"># iteration</span>
    <span class="k">return</span> <span class="n">decimal</span>
</pre></div>
</div>
<p>Note that <span class="math notranslate nohighlight">\(b_i\)</span> is given by <code class="docutils literal notranslate"><span class="pre">binary_str[(k-1)-i]</span></code>:</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{array}{c|c:c:c:c|}\texttt{binary_str} &amp; b_{k-1} &amp; b_{k-2} &amp; \dots &amp; b_0\\ \text{indexing} &amp; [0] &amp; [1] &amp; \dots &amp; [k-1] \end{array}
\end{split}\]</div>
<p>The following is another way to write the for loop.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">binary_to_decimal</span><span class="p">(</span><span class="n">binary_str</span><span class="p">):</span>
    <span class="n">decimal</span> <span class="o">=</span> <span class="mi">0</span>                                <span class="c1"># initialization</span>
    <span class="k">for</span> <span class="n">bit</span> <span class="ow">in</span> <span class="n">binary_str</span><span class="p">:</span>
        <span class="n">decimal</span> <span class="o">=</span> <span class="n">decimal</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="n">bit</span><span class="p">)</span>       <span class="c1"># iteration</span>
    <span class="k">return</span> <span class="n">decimal</span>
</pre></div>
</div>
<p>The algorithm implements the same formula factorized as follows:</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{aligned} \sum_{i=0}^{k-1} 2^i \cdot b_{i} 
&amp;=  \left(\sum_{i=1}^{k-1} 2^i \cdot b_{i}\right) + b_0\\
&amp;=  \left(\sum_{i=1}^{k-1} 2^{i-1} \cdot b_{i}\right)\times 2 + b_0 \\
&amp;=  \left(\sum_{j=0}^{k-2} 2^{j} \cdot b_{j+1}\right)\times 2 + b_0 &amp;&amp; \text{with $j=i-1$} \\
&amp;= \underbrace{(\dots (\underbrace{(\underbrace{\overbrace{0}^{\text{initialization}\kern-2em}\times 2 + b_{k-1}}_{\text{first iteration} }) \times 2 + b_{k-2}}_{\text{second iteration} }) \dots )\times 2 + b_0}_{\text{last iteration} }.\end{aligned}
\end{split}\]</div>
<p><strong>Exercise</strong> Complete the code for <code class="docutils literal notranslate"><span class="pre">binary_to_decimal</span></code> with the most efficient implementation you can think of.<br />
(You can choose one of the two implementations above but take the time to type in the code instead of copy-and-paste.)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">binary_to_decimal</span><span class="p">(</span><span class="n">binary_str</span><span class="p">):</span>
    <span class="c1"># YOUR CODE HERE</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">decimal</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># tests</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="k">def</span> <span class="nf">test_binary_to_decimal</span><span class="p">(</span><span class="n">decimal</span><span class="p">,</span> <span class="n">binary_str</span><span class="p">):</span>
    <span class="n">decimal_</span> <span class="o">=</span> <span class="n">binary_to_decimal</span><span class="p">(</span><span class="n">binary_str</span><span class="p">)</span>
    <span class="n">correct</span> <span class="o">=</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">decimal_</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span> <span class="ow">and</span> <span class="n">decimal_</span> <span class="o">==</span> <span class="n">decimal</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">correct</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">binary_str</span><span class="si">}</span><span class="s1"> should give </span><span class="si">{</span><span class="n">decimal</span><span class="si">}</span><span class="s1"> not </span><span class="si">{</span><span class="n">decimal_</span><span class="si">}</span><span class="s1">.&#39;</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">correct</span>

<span class="n">test_binary_to_decimal</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">)</span>
<span class="n">test_binary_to_decimal</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="s1">&#39;11111111&#39;</span><span class="p">)</span>
<span class="n">test_binary_to_decimal</span><span class="p">(</span><span class="mi">52154</span><span class="p">,</span> <span class="s1">&#39;1100101110111010&#39;</span><span class="p">)</span>
<span class="n">test_binary_to_decimal</span><span class="p">(</span><span class="mi">3430</span><span class="p">,</span> <span class="s1">&#39;110101100110&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># binary-to-decimal converter</span>
<span class="kn">from</span> <span class="nn">ipywidgets</span> <span class="kn">import</span> <span class="n">interact</span>
<span class="n">bits</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">]</span>
<span class="nd">@interact</span><span class="p">(</span><span class="n">binary_str</span><span class="o">=</span><span class="s1">&#39;1011&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">convert_byte_to_decimal</span><span class="p">(</span><span class="n">binary_str</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">bit</span> <span class="ow">in</span> <span class="n">binary_str</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">bit</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">bits</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Not a binary string.&#39;</span><span class="p">)</span>
            <span class="k">break</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;decimal:&#39;</span><span class="p">,</span> <span class="n">binary_to_decimal</span><span class="p">(</span><span class="n">binary_str</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="undecimal-to-decimal">
<h5>Undecimal-to-Decimal<a class="headerlink" href="#undecimal-to-decimal" title="Permalink to this headline">¶</a></h5>
<p>A base-11 number system is called an <a class="reference external" href="https://en.wikipedia.org/wiki/Undecimal">undecimal system</a>. The digits range from 0 to 10 with 10 denoted as X:</p>
<div class="math notranslate nohighlight">
\[
0, 1, 2, 3, 4, 5, 6, 7, 8, 9, X.
\]</div>
<p>The <a class="reference external" href="https://en.wikipedia.org/wiki/International_Standard_Book_Number">International Standard Book Number (ISBN)</a> uses an undecimal digit.</p>
<p><strong>Exercise</strong> In the following code, assign to <code class="docutils literal notranslate"><span class="pre">decimal</span></code> the integer represented by an undecimal string of arbitrary length.</p>
<p><em>Hint:</em> Write a conditional to</p>
<ol class="simple">
<li><p>check if a digit is (capital) <code class="docutils literal notranslate"><span class="pre">'X'</span></code>, and if so,</p></li>
<li><p>convert the digit to the integer value 10.</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">undecimal_to_decimal</span><span class="p">(</span><span class="n">undecimal_str</span><span class="p">):</span>
    <span class="c1"># YOUR CODE HERE</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">decimal</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># tests</span>
<span class="k">def</span> <span class="nf">test_undecimal_to_decimal</span><span class="p">(</span><span class="n">decimal</span><span class="p">,</span> <span class="n">undecimal_str</span><span class="p">):</span>
    <span class="n">decimal_</span> <span class="o">=</span> <span class="n">undecimal_to_decimal</span><span class="p">(</span><span class="n">undecimal_str</span><span class="p">)</span>
    <span class="n">correct</span> <span class="o">=</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">decimal_</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span> <span class="ow">and</span> <span class="n">decimal_</span> <span class="o">==</span> <span class="n">decimal</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">correct</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">undecimal_str</span><span class="si">}</span><span class="s1"> should give </span><span class="si">{</span><span class="n">decimal</span><span class="si">}</span><span class="s1"> not </span><span class="si">{</span><span class="n">decimal_</span><span class="si">}</span><span class="s1">.&#39;</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">correct</span>


<span class="n">test_undecimal_to_decimal</span><span class="p">(</span><span class="mi">27558279079916281</span><span class="p">,</span> <span class="s1">&#39;6662X0X584839464&#39;</span><span class="p">)</span>
<span class="n">test_undecimal_to_decimal</span><span class="p">(</span><span class="mi">23022771839270</span><span class="p">,</span> <span class="s1">&#39;73769X2556695&#39;</span><span class="p">)</span>
<span class="n">test_undecimal_to_decimal</span><span class="p">(</span><span class="mi">161804347284488</span><span class="p">,</span> <span class="s1">&#39;476129248X2067&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># undecimal-to-decimal calculator</span>
<span class="kn">from</span> <span class="nn">ipywidgets</span> <span class="kn">import</span> <span class="n">interact</span>
<span class="n">undecimal_digits</span> <span class="o">=</span> <span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)]</span> <span class="o">+</span> <span class="p">[</span><span class="s1">&#39;X&#39;</span><span class="p">]</span>
<span class="nd">@interact</span><span class="p">(</span><span class="n">undecimal_str</span><span class="o">=</span><span class="s1">&#39;X&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">convert_undecimal_to_decimal</span><span class="p">(</span><span class="n">undecimal_str</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">digit</span> <span class="ow">in</span> <span class="n">undecimal_str</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">digit</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">undecimal_digits</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Not an undecimal string.&#39;</span><span class="p">)</span>
            <span class="k">break</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;decimal:&#39;</span><span class="p">,</span> <span class="n">undecimal_to_decimal</span><span class="p">(</span><span class="n">undecimal_str</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="conversion-from-decimal">
<h4>Conversion from Decimal<a class="headerlink" href="#conversion-from-decimal" title="Permalink to this headline">¶</a></h4>
<p>Consider the reverse process that converts a non-negative decimal number of arbitrary size to a string representation in another number system.</p>
<div class="section" id="decimal-to-binary">
<h5>Decimal-to-Binary<a class="headerlink" href="#decimal-to-binary" title="Permalink to this headline">¶</a></h5>
<p>The following code converts a decimal number to a binary string.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">decimal_to_binary</span><span class="p">(</span><span class="n">decimal</span><span class="p">):</span>
    <span class="n">binary_str</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">decimal</span> <span class="o">%</span> <span class="mi">2</span><span class="p">)</span>
    <span class="k">while</span> <span class="n">decimal</span> <span class="o">//</span> <span class="mi">2</span><span class="p">:</span>
        <span class="n">decimal</span> <span class="o">//=</span> <span class="mi">2</span>
        <span class="n">binary_str</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">decimal</span> <span class="o">%</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="n">binary_str</span>
    <span class="k">return</span> <span class="n">binary_str</span>
</pre></div>
</div>
<p>To understand the while loop, consider the same formula before, where the braces indicate the value of <code class="docutils literal notranslate"><span class="pre">decimal</span></code> at different times:</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{aligned} \sum_{i=0}^{k-1} 2^i \cdot b_{i} &amp;=  \left(\sum_{i=0}^{k-2} 2^{i-2} \cdot b_{i-1}\right)\times 2 + b_0 \\
&amp;= \underbrace{(\underbrace{ \dots (\underbrace{(0\times 2 + b_{k-1}) \times 2 + b_{k-2}}_{\text{right before the last iteration} }  )\times 2 \dots + b_1}_{\text{right before the second iteration} })\times 2 + b_0}_{\text{right before the first iteration} }.\end{aligned}
\end{split}\]</div>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(b_0\)</span> is the remainder <code class="docutils literal notranslate"><span class="pre">decimal</span> <span class="pre">%</span> <span class="pre">2</span></code> right before the first iteration,</p></li>
<li><p><span class="math notranslate nohighlight">\(b_1\)</span> is the remainder <code class="docutils literal notranslate"><span class="pre">decimal</span> <span class="pre">//</span> <span class="pre">2</span> <span class="pre">%</span> <span class="pre">2</span></code> right before the second iteration, and</p></li>
<li><p><span class="math notranslate nohighlight">\(b_{k-1}\)</span> is the remainder <code class="docutils literal notranslate"><span class="pre">decimal</span> <span class="pre">//</span> <span class="pre">2</span> <span class="pre">%</span> <span class="pre">2</span></code> right before the last iteration.</p></li>
</ul>
<p>We can also write a for loop instead of a while loop:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">floor</span><span class="p">,</span> <span class="n">log2</span>
<span class="k">def</span> <span class="nf">decimal_to_binary</span><span class="p">(</span><span class="n">decimal</span><span class="p">):</span>
    <span class="n">binary_str</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="n">num_bits</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="p">(</span><span class="n">decimal</span> <span class="ow">and</span> <span class="n">floor</span><span class="p">(</span><span class="n">log2</span><span class="p">(</span><span class="n">decimal</span><span class="p">)))</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_bits</span><span class="p">):</span>
        <span class="n">binary_str</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">decimal</span> <span class="o">%</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="n">binary_str</span>
        <span class="n">decimal</span> <span class="o">//=</span> <span class="mi">2</span>
    <span class="k">return</span> <span class="n">binary_str</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># decimal-to-binary calculator</span>
<span class="nd">@interact</span><span class="p">(</span><span class="n">decimal</span><span class="o">=</span><span class="s1">&#39;11&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">convert_decimal_to_binary</span><span class="p">(</span><span class="n">decimal</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">decimal</span><span class="o">.</span><span class="n">isdigit</span><span class="p">():</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Not a non-negative integer.&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;binary:&#39;</span><span class="p">,</span> <span class="n">decimal_to_binary</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">decimal</span><span class="p">)))</span>
</pre></div>
</div>
</div>
</div>
<p><strong>Exercise</strong> Explain what the expression <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">+</span> <span class="pre">(decimal</span> <span class="pre">and</span> <span class="pre">floor(log2(decimal)))</span></code> calculates. In particular, explain the purpose of the logical <code class="docutils literal notranslate"><span class="pre">and</span></code> operation in the expression?</p>
<p>YOUR ANSWER HERE</p>
</div>
<div class="section" id="decimal-to-undecimal">
<h5>Decimal-to-Undecimal<a class="headerlink" href="#decimal-to-undecimal" title="Permalink to this headline">¶</a></h5>
<p><strong>Exercise</strong> Assign to <code class="docutils literal notranslate"><span class="pre">undecimal_str</span></code> the undecimal string that represents a non-negative integer <code class="docutils literal notranslate"><span class="pre">decimal</span></code> of any size.</p>
<p><em>Hint:</em> For loop or while loop?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">decimal_to_undecimal</span><span class="p">(</span><span class="n">decimal</span><span class="p">):</span>
    <span class="c1"># YOUR CODE HERE</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">undecimal_str</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># tests</span>
<span class="k">def</span> <span class="nf">test_decimal_to_undecimal</span><span class="p">(</span><span class="n">undecimal</span><span class="p">,</span><span class="n">decimal</span><span class="p">):</span>
    <span class="n">undecimal_</span> <span class="o">=</span> <span class="n">decimal_to_undecimal</span><span class="p">(</span><span class="n">decimal</span><span class="p">)</span>
    <span class="n">correct</span> <span class="o">=</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">undecimal</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="n">undecimal</span> <span class="o">==</span> <span class="n">undecimal_</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">correct</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span>
            <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">decimal</span><span class="si">}</span><span class="s1"> should be represented as the undecimal string </span><span class="si">{</span><span class="n">undecimal</span><span class="si">}</span><span class="s1">, not </span><span class="si">{</span><span class="n">undecimal_</span><span class="si">}</span><span class="s1">.&#39;</span>
        <span class="p">)</span>
    <span class="k">assert</span> <span class="n">correct</span>

<span class="n">test_decimal_to_undecimal</span><span class="p">(</span><span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">test_decimal_to_undecimal</span><span class="p">(</span><span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">test_decimal_to_undecimal</span><span class="p">(</span><span class="s1">&#39;1752572309X478&#39;</span><span class="p">,</span> <span class="mi">57983478668530</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># undecimal-to-decimal calculator</span>
<span class="kn">from</span> <span class="nn">ipywidgets</span> <span class="kn">import</span> <span class="n">interact</span>
<span class="nd">@interact</span><span class="p">(</span><span class="n">decimal</span><span class="o">=</span><span class="s1">&#39;10&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">convert_decimal_to_undecimal</span><span class="p">(</span><span class="n">decimal</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">decimal</span><span class="o">.</span><span class="n">isdigit</span><span class="p">():</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Not a non-negative integer.&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;undecimal:&#39;</span><span class="p">,</span> <span class="n">decimal_to_undecimal</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">decimal</span><span class="p">)))</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
</div>


<script type="application/vnd.jupyter.widget-state+json">
{"state": {"08a28e5c7e1c4304bf77145877bb0ed9": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "VBoxModel", "state": {"_dom_classes": ["widget-interact"], "children": ["IPY_MODEL_9aaab034111f48f98afeae8d8b12be0c", "IPY_MODEL_6cabb22176d248b080df1d500f55ea17"], "layout": "IPY_MODEL_3bcf16bca72445c29279f9fdc22a5820"}}, "09d2bcfb909041adadf23c32b275f8da": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "0d1f59bed23e40ccbd87c43e0522ec22": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "16a9f5f0defc49d3915cad5a12c90cc1": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "1756e812e84f418299eb79e8540cd28b": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "VBoxModel", "state": {"_dom_classes": ["widget-interact"], "children": ["IPY_MODEL_e9c106429c5a402286dd0273c630dc1a", "IPY_MODEL_9bfae783f6774d60a02c3eeaefef6710"], "layout": "IPY_MODEL_926e52d4462b4cc791e9c03ea12f767c"}}, "1a1183d589d54bd2969207bb93fef405": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "1d7baa96c60543dc894b596ac405fa71": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "1e3626cbd4ae46669fd2028de5e5e109": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "TextModel", "state": {"description": "decimal", "layout": "IPY_MODEL_dc514c31ed45424a9c184fd4f810c2e7", "style": "IPY_MODEL_e4cd2c4d0a3146109176232b61c5f561", "value": "2"}}, "1e7c13963cfb4c63a1c267cf8811577a": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "20b8005e48974bc7adcafbfa4d95b72f": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "2332c965c99d4e9991982ae725c089d9": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "VBoxModel", "state": {"_dom_classes": ["widget-interact"], "children": ["IPY_MODEL_cf6a521f6b664ab983aac2f9a1db9b35", "IPY_MODEL_f9a4ff3d734b401bbd330532ebdb378d"], "layout": "IPY_MODEL_52631876998a43ffada7481dc22f2955"}}, "242f05ced770405ab1d3021a24569ae7": {"model_module": "@jupyter-widgets/output", "model_module_version": "1.0.0", "model_name": "OutputModel", "state": {"layout": "IPY_MODEL_a6ebebfbb0354b2ba247440a47c69e0e", "outputs": [{"name": "stdout", "output_type": "stream", "text": "binary: 1011\n"}]}}, "24ecffaff99c4ebfad6515cf9ffebef7": {"model_module": "@jupyter-widgets/output", "model_module_version": "1.0.0", "model_name": "OutputModel", "state": {"layout": "IPY_MODEL_f28c1634347841efbc92100b79163a96", "outputs": [{"name": "stdout", "output_type": "stream", "text": "4\nbinary: 1000\n"}]}}, "2638ed2962e34248bc7570a1ec13a11d": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "27d185beb9414d79a83e9a610b54c4de": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "DescriptionStyleModel", "state": {"description_width": ""}}, "2b8eeefb614a4d6e9fe0ea92c141e68e": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "2e357f44a0a54287b228b2dd513acfce": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "322832f438234118a7df2539f0cc7760": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "VBoxModel", "state": {"_dom_classes": ["widget-interact"], "children": ["IPY_MODEL_5f8022a5ed6c4586954441489a6a4009", "IPY_MODEL_9845401471624c41bf583fb64901b715"], "layout": "IPY_MODEL_fc8356a4234a47e682530a35efb09674"}}, "363a03432ce04e078862159c9825cb12": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "VBoxModel", "state": {"_dom_classes": ["widget-interact"], "children": ["IPY_MODEL_54612f16a5b74b7a849e6b2a5c2c4c71", "IPY_MODEL_eac3ac02b92a445a83c5192bb2379210"], "layout": "IPY_MODEL_16a9f5f0defc49d3915cad5a12c90cc1"}}, "3bcf16bca72445c29279f9fdc22a5820": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "3e966975d0884603a64265bb08aec790": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "43dfa481a7f143b18bd14b5a0c99c987": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "44b0ff9ed65443f48daefacabf2de2f2": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "44dbed1b041b45519bfd71fecbe200b1": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "4a66ac0117d94949ab2b472fa8cddc13": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "TextModel", "state": {"description": "decimal", "layout": "IPY_MODEL_54c63eb846064530b6adb99b46ebe325", "style": "IPY_MODEL_551b97621491422da956de339398938c", "value": "0"}}, "521f1418ed2b4c66a728a15c1809f108": {"model_module": "@jupyter-widgets/output", "model_module_version": "1.0.0", "model_name": "OutputModel", "state": {"layout": "IPY_MODEL_6c664970df6e41678ba0124a3a05d3f0", "outputs": [{"name": "stdout", "output_type": "stream", "text": "binary: 1011\n"}]}}, "52631876998a43ffada7481dc22f2955": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "54612f16a5b74b7a849e6b2a5c2c4c71": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "TextModel", "state": {"description": "decimal", "layout": "IPY_MODEL_b2a82d3e81b64747be1349b189cf5f2e", "style": "IPY_MODEL_ab882b70fa3146639943d01e569c3f15", "value": "11"}}, "54c63eb846064530b6adb99b46ebe325": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "551b97621491422da956de339398938c": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "DescriptionStyleModel", "state": {"description_width": ""}}, "5886b81e704841219dd3df022eb72b30": {"model_module": "@jupyter-widgets/output", "model_module_version": "1.0.0", "model_name": "OutputModel", "state": {"layout": "IPY_MODEL_f90004965ecc415c92d364c193557402", "outputs": [{"name": "stdout", "output_type": "stream", "text": "binary: 0\n"}]}}, "591f108f9e3d49dd82d0e1eed47a8bbd": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "VBoxModel", "state": {"_dom_classes": ["widget-interact"], "children": ["IPY_MODEL_b383160d06214eacbecca71bbc0d246a", "IPY_MODEL_e9b87f4aafd54e789ba92cca4696b025"], "layout": "IPY_MODEL_43dfa481a7f143b18bd14b5a0c99c987"}}, "5f8022a5ed6c4586954441489a6a4009": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "TextModel", "state": {"description": "binary_str", "layout": "IPY_MODEL_3e966975d0884603a64265bb08aec790", "style": "IPY_MODEL_cad10025849149faaa0f8391611eabd5", "value": "1011"}}, "5fb3377e85274692b3b142c933a72645": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "TextModel", "state": {"description": "decimal", "layout": "IPY_MODEL_67adc920f967450ab6c8be3610818a3e", "style": "IPY_MODEL_b8c3ec429667488d8453f1fea450cf76", "value": "8"}}, "5fcf31ac0e2d4775a01a671593335059": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "DescriptionStyleModel", "state": {"description_width": ""}}, "66aced16cc254c63967f91468ed981a0": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "DescriptionStyleModel", "state": {"description_width": ""}}, "67adc920f967450ab6c8be3610818a3e": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "6a3f6d7a24374c8f8758d7cad2b5741f": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "6c664970df6e41678ba0124a3a05d3f0": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "6cabb22176d248b080df1d500f55ea17": {"model_module": "@jupyter-widgets/output", "model_module_version": "1.0.0", "model_name": "OutputModel", "state": {"layout": "IPY_MODEL_ee1e199027b144f39771b9b845d6c259", "outputs": [{"name": "stdout", "output_type": "stream", "text": "decimal: 45\n"}]}}, "6dda5bfe60134a36a64f18b539b55b6b": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "TextModel", "state": {"description": "decimal", "layout": "IPY_MODEL_0d1f59bed23e40ccbd87c43e0522ec22", "style": "IPY_MODEL_27d185beb9414d79a83e9a610b54c4de", "value": "11"}}, "71b6e9258a83401094a6c8e5bc1f0551": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "VBoxModel", "state": {"_dom_classes": ["widget-interact"], "children": ["IPY_MODEL_9295129cc2fc495795cf043cbf955e81", "IPY_MODEL_242f05ced770405ab1d3021a24569ae7"], "layout": "IPY_MODEL_c05d6fc852134c5c99759f55c11205ca"}}, "7645e88a632c4b55b54619ada36635be": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "DescriptionStyleModel", "state": {"description_width": ""}}, "8002555fe1aa48d097fda5d7cd361499": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "DescriptionStyleModel", "state": {"description_width": ""}}, "806ff9f7cd234b0c8e758ec9df04075d": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "VBoxModel", "state": {"_dom_classes": ["widget-interact"], "children": ["IPY_MODEL_6dda5bfe60134a36a64f18b539b55b6b", "IPY_MODEL_8c296a23eb50472ca3e59ff1eed9a26e"], "layout": "IPY_MODEL_2b8eeefb614a4d6e9fe0ea92c141e68e"}}, "86045e64a4ba49938f5cf34ca271e234": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "VBoxModel", "state": {"_dom_classes": ["widget-interact"], "children": ["IPY_MODEL_1e3626cbd4ae46669fd2028de5e5e109", "IPY_MODEL_5886b81e704841219dd3df022eb72b30"], "layout": "IPY_MODEL_f3ed64f4e5a442e7a07a12d9b667a693"}}, "87fd782fa23742929faf6c90c7cbf77c": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "DescriptionStyleModel", "state": {"description_width": ""}}, "8c296a23eb50472ca3e59ff1eed9a26e": {"model_module": "@jupyter-widgets/output", "model_module_version": "1.0.0", "model_name": "OutputModel", "state": {"layout": "IPY_MODEL_9a4d59a3b2e64154bf0f4b5f5d1da433", "outputs": [{"name": "stdout", "output_type": "stream", "text": "binary: 11\n"}]}}, "906290fc35a641b499f7f14f87e38cc0": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "926e52d4462b4cc791e9c03ea12f767c": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "9295129cc2fc495795cf043cbf955e81": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "TextModel", "state": {"description": "decimal", "layout": "IPY_MODEL_6a3f6d7a24374c8f8758d7cad2b5741f", "style": "IPY_MODEL_5fcf31ac0e2d4775a01a671593335059", "value": "11"}}, "9845401471624c41bf583fb64901b715": {"model_module": "@jupyter-widgets/output", "model_module_version": "1.0.0", "model_name": "OutputModel", "state": {"layout": "IPY_MODEL_20b8005e48974bc7adcafbfa4d95b72f", "outputs": [{"name": "stdout", "output_type": "stream", "text": "decimal: 11\n"}]}}, "9a4d59a3b2e64154bf0f4b5f5d1da433": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "9aaab034111f48f98afeae8d8b12be0c": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "TextModel", "state": {"description": "binary_str", "layout": "IPY_MODEL_2e357f44a0a54287b228b2dd513acfce", "style": "IPY_MODEL_8002555fe1aa48d097fda5d7cd361499", "value": "101101"}}, "9bfae783f6774d60a02c3eeaefef6710": {"model_module": "@jupyter-widgets/output", "model_module_version": "1.0.0", "model_name": "OutputModel", "state": {"layout": "IPY_MODEL_e4ce15b8896e407b9c5845554058b7a7", "outputs": [{"name": "stdout", "output_type": "stream", "text": "binary: 0\n"}]}}, "a3986354d4e44ed781c9259d23ead789": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "VBoxModel", "state": {"_dom_classes": ["widget-interact"], "children": ["IPY_MODEL_eefeee0215ef410ca7349f51adb7b1d3", "IPY_MODEL_cca8e8ea71884670a53ed23a695505e3"], "layout": "IPY_MODEL_d82e692bed074722bdd7cccbe5544259"}}, "a6ebebfbb0354b2ba247440a47c69e0e": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "ab882b70fa3146639943d01e569c3f15": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "DescriptionStyleModel", "state": {"description_width": ""}}, "ac0f698d36b3421394a942091949f933": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "ac21be946cba4d2392e9a758cf960d23": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "VBoxModel", "state": {"_dom_classes": ["widget-interact"], "children": ["IPY_MODEL_e3d154bf38b34dd59a836f001dbcdf64", "IPY_MODEL_521f1418ed2b4c66a728a15c1809f108"], "layout": "IPY_MODEL_ac0f698d36b3421394a942091949f933"}}, "ae3655ce81284397930e86f8ddfea6d9": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "b2a82d3e81b64747be1349b189cf5f2e": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "b383160d06214eacbecca71bbc0d246a": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "TextModel", "state": {"description": "decimal", "layout": "IPY_MODEL_c310e87f9ce9473db71328538f3e19b5", "style": "IPY_MODEL_7645e88a632c4b55b54619ada36635be", "value": "2"}}, "b78a184c729e44d190a9f7082143542d": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "DescriptionStyleModel", "state": {"description_width": ""}}, "b8c3ec429667488d8453f1fea450cf76": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "DescriptionStyleModel", "state": {"description_width": ""}}, "c05d6fc852134c5c99759f55c11205ca": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "c29f38a04e88466da3e49d2904268a3e": {"model_module": "@jupyter-widgets/output", "model_module_version": "1.0.0", "model_name": "OutputModel", "state": {"layout": "IPY_MODEL_1a1183d589d54bd2969207bb93fef405", "outputs": [{"ename": "ValueError", "evalue": "math domain error", "output_type": "error", "traceback": ["\u001b[0;31m---------------------------------------------------------------------------\u001b[0m", "\u001b[0;31mValueError\u001b[0m                                Traceback (most recent call last)", "\u001b[0;32m/opt/anaconda/lib/python3.7/site-packages/ipywidgets/widgets/interaction.py\u001b[0m in \u001b[0;36mupdate\u001b[0;34m(self, *args)\u001b[0m\n\u001b[1;32m    254\u001b[0m                     \u001b[0mvalue\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mwidget\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mget_interact_value\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    255\u001b[0m                     \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mkwargs\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0mwidget\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0m_kwarg\u001b[0m\u001b[0;34m]\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mvalue\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m--> 256\u001b[0;31m                 \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mresult\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mf\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m**\u001b[0m\u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mkwargs\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m    257\u001b[0m                 \u001b[0mshow_inline_matplotlib_plots\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    258\u001b[0m                 \u001b[0;32mif\u001b[0m \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mauto_display\u001b[0m \u001b[0;32mand\u001b[0m \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mresult\u001b[0m \u001b[0;32mis\u001b[0m \u001b[0;32mnot\u001b[0m \u001b[0;32mNone\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n", "\u001b[0;32m<ipython-input-17-24964008c992>\u001b[0m in \u001b[0;36mconvert_decimal_to_binary\u001b[0;34m(decimal)\u001b[0m\n\u001b[1;32m      5\u001b[0m         \u001b[0mprint\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m'Not a non-negative integer.'\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m      6\u001b[0m     \u001b[0;32melse\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m----> 7\u001b[0;31m         \u001b[0mprint\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m'binary:'\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mdecimal_to_binary\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mint\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mdecimal\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m", "\u001b[0;32m<ipython-input-16-518c83e55b20>\u001b[0m in \u001b[0;36mdecimal_to_binary\u001b[0;34m(decimal)\u001b[0m\n\u001b[1;32m      2\u001b[0m \u001b[0;32mdef\u001b[0m \u001b[0mdecimal_to_binary\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mdecimal\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m      3\u001b[0m     \u001b[0mbinary_str\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0;34m''\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m----> 4\u001b[0;31m     \u001b[0;32mfor\u001b[0m \u001b[0mi\u001b[0m \u001b[0;32min\u001b[0m \u001b[0mrange\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mceil\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mlog2\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mdecimal\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m      5\u001b[0m         \u001b[0mbinary_str\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mstr\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mdecimal\u001b[0m \u001b[0;34m%\u001b[0m \u001b[0;36m2\u001b[0m\u001b[0;34m)\u001b[0m \u001b[0;34m+\u001b[0m \u001b[0mbinary_str\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m      6\u001b[0m         \u001b[0mdecimal\u001b[0m \u001b[0;34m//=\u001b[0m \u001b[0;36m2\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n", "\u001b[0;31mValueError\u001b[0m: math domain error"]}]}}, "c310e87f9ce9473db71328538f3e19b5": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "c4c5753f64114974a0657d0789a66b69": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "VBoxModel", "state": {"_dom_classes": ["widget-interact"], "children": ["IPY_MODEL_4a66ac0117d94949ab2b472fa8cddc13", "IPY_MODEL_c29f38a04e88466da3e49d2904268a3e"], "layout": "IPY_MODEL_1d7baa96c60543dc894b596ac405fa71"}}, "cad10025849149faaa0f8391611eabd5": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "DescriptionStyleModel", "state": {"description_width": ""}}, "cca8e8ea71884670a53ed23a695505e3": {"model_module": "@jupyter-widgets/output", "model_module_version": "1.0.0", "model_name": "OutputModel", "state": {"layout": "IPY_MODEL_d7b2d94a10714bf091a948fdbce96e4a", "outputs": [{"name": "stdout", "output_type": "stream", "text": "undecimal: X\n"}]}}, "cf6a521f6b664ab983aac2f9a1db9b35": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "TextModel", "state": {"description": "undecimal_str", "layout": "IPY_MODEL_2638ed2962e34248bc7570a1ec13a11d", "style": "IPY_MODEL_dfa9135b22be45648aecea77173e86f2", "value": "X"}}, "d7b2d94a10714bf091a948fdbce96e4a": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "d82e692bed074722bdd7cccbe5544259": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "dc514c31ed45424a9c184fd4f810c2e7": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "dfa9135b22be45648aecea77173e86f2": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "DescriptionStyleModel", "state": {"description_width": ""}}, "e3d154bf38b34dd59a836f001dbcdf64": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "TextModel", "state": {"description": "decimal", "layout": "IPY_MODEL_44dbed1b041b45519bfd71fecbe200b1", "style": "IPY_MODEL_87fd782fa23742929faf6c90c7cbf77c", "value": "11"}}, "e4cd2c4d0a3146109176232b61c5f561": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "DescriptionStyleModel", "state": {"description_width": ""}}, "e4ce15b8896e407b9c5845554058b7a7": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "e64d9ce62af8455e9ccc53d581f80e73": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "e9b87f4aafd54e789ba92cca4696b025": {"model_module": "@jupyter-widgets/output", "model_module_version": "1.0.0", "model_name": "OutputModel", "state": {"layout": "IPY_MODEL_09d2bcfb909041adadf23c32b275f8da", "outputs": [{"name": "stdout", "output_type": "stream", "text": "1\nbinary: 0\n"}]}}, "e9c106429c5a402286dd0273c630dc1a": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "TextModel", "state": {"description": "decimal", "layout": "IPY_MODEL_906290fc35a641b499f7f14f87e38cc0", "style": "IPY_MODEL_66aced16cc254c63967f91468ed981a0", "value": "2"}}, "eac3ac02b92a445a83c5192bb2379210": {"model_module": "@jupyter-widgets/output", "model_module_version": "1.0.0", "model_name": "OutputModel", "state": {"layout": "IPY_MODEL_44b0ff9ed65443f48daefacabf2de2f2", "outputs": [{"name": "stdout", "output_type": "stream", "text": "binary: 1011\n"}]}}, "ee1e199027b144f39771b9b845d6c259": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "eefeee0215ef410ca7349f51adb7b1d3": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "TextModel", "state": {"description": "decimal", "layout": "IPY_MODEL_ae3655ce81284397930e86f8ddfea6d9", "style": "IPY_MODEL_b78a184c729e44d190a9f7082143542d", "value": "10"}}, "f28c1634347841efbc92100b79163a96": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "f3ed64f4e5a442e7a07a12d9b667a693": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "f90004965ecc415c92d364c193557402": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "f9a4ff3d734b401bbd330532ebdb378d": {"model_module": "@jupyter-widgets/output", "model_module_version": "1.0.0", "model_name": "OutputModel", "state": {"layout": "IPY_MODEL_e64d9ce62af8455e9ccc53d581f80e73", "outputs": [{"name": "stdout", "output_type": "stream", "text": "decimal: 10\n"}]}}, "fc8356a4234a47e682530a35efb09674": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {}}, "ff0f6cbb1af248d182e84c8375d484b5": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "VBoxModel", "state": {"_dom_classes": ["widget-interact"], "children": ["IPY_MODEL_5fb3377e85274692b3b142c933a72645", "IPY_MODEL_24ecffaff99c4ebfad6515cf9ffebef7"], "layout": "IPY_MODEL_1e7c13963cfb4c63a1c267cf8811577a"}}}, "version_major": 2, "version_minor": 0}
</script>

<span id="document-Lab4/Mastermind"></span><div class="section" id="mastermind">
<h3>Mastermind<a class="headerlink" href="#mastermind" title="Permalink to this headline">¶</a></h3>
<p>In this notebook, you will write a game called <a class="reference external" href="https://en.wikipedia.org/wiki/Mastermind_(board_game)"><em>Mastermind</em></a>.<br />
Play the video below to learn about the rule of the game.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%html</span>
<span class="p">&lt;</span><span class="nt">iframe</span> <span class="na">width</span><span class="o">=</span><span class="s">&quot;912&quot;</span> <span class="na">height</span><span class="o">=</span><span class="s">&quot;513&quot;</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;https://www.youtube.com/embed/wsYPsrzCKiA&quot;</span> <span class="na">frameborder</span><span class="o">=</span><span class="s">&quot;0&quot;</span> <span class="na">allow</span><span class="o">=</span><span class="s">&quot;accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture&quot;</span> <span class="na">allowfullscreen</span><span class="p">&gt;&lt;/</span><span class="nt">iframe</span><span class="p">&gt;</span>
</pre></div>
</div>
</div>
</div>
<ol class="simple">
<li><p><strong>Mastermind</strong> first creates a hidden <code class="docutils literal notranslate"><span class="pre">code</span></code> of length <code class="docutils literal notranslate"><span class="pre">code_length</span></code> consisting code pegs with possibly duplicate colors chosen from a sequence of <code class="docutils literal notranslate"><span class="pre">colors</span></code>.</p></li>
<li><p><strong>Coderbreaker</strong> provides a <code class="docutils literal notranslate"><span class="pre">guess</span></code> of the <code class="docutils literal notranslate"><span class="pre">code</span></code>.</p></li>
<li><p><strong>Mastermind</strong> generates a <code class="docutils literal notranslate"><span class="pre">feedback</span></code> consisting of key pegs of black and white colors:</p>
<ul class="simple">
<li><p>The number of black pegs (<code class="docutils literal notranslate"><span class="pre">black_key_pegs_count</span></code>) is the number of code pegs that are the correct colors in the correct positions.</p></li>
<li><p>The number of white pegs (<code class="docutils literal notranslate"><span class="pre">white_key_pegs_count</span></code>) is the number of code pegs that are the correct colors but in incorrect positions.</p></li>
<li><p>Each code peg should be counted only once, i.e., a code peg cannot be awarded more than one key peg. E.g.,</p>
<ul>
<li><p>If the <code class="docutils literal notranslate"><span class="pre">code</span></code> is <code class="docutils literal notranslate"><span class="pre">'RBGG'</span></code> and <code class="docutils literal notranslate"><span class="pre">guess</span></code> is <code class="docutils literal notranslate"><span class="pre">'BGGG'</span></code>, then</p></li>
<li><p>the feedback should be <code class="docutils literal notranslate"><span class="pre">'bbw'</span></code> with</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">black_key_pegs_count</span> <span class="pre">==</span> <span class="pre">2</span></code> because of <code class="docutils literal notranslate"><span class="pre">__GG</span></code> in the guess, and</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">white_key_pegs_count</span> <span class="pre">==</span> <span class="pre">1</span></code> because of <code class="docutils literal notranslate"><span class="pre">_B__</span></code> in the guess.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">_G__</span></code> in the <code class="docutils literal notranslate"><span class="pre">guess</span></code> should not be awarded an additional white peg because <code class="docutils literal notranslate"><span class="pre">__GG</span></code> in the <code class="docutils literal notranslate"><span class="pre">code</span></code> has been counted.</p></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>Codebreaker</strong> wins if the code is correctly guessed within certain number (<code class="docutils literal notranslate"><span class="pre">max_num_guesses</span></code>) of guesses.</p></li>
</ol>
<div class="section" id="random-code-generation">
<h4>Random Code Generation<a class="headerlink" href="#random-code-generation" title="Permalink to this headline">¶</a></h4>
<p>The first exercise is to generate a random hidden code so even one person can play the game as Codebreaker.<br />
Watch the following video to understand how computers generate random objects.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%html</span>
<span class="p">&lt;</span><span class="nt">iframe</span> <span class="na">width</span><span class="o">=</span><span class="s">&quot;912&quot;</span> <span class="na">height</span><span class="o">=</span><span class="s">&quot;513&quot;</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;https://www.youtube.com/embed/GtOt7EBNEwQ&quot;</span> <span class="na">frameborder</span><span class="o">=</span><span class="s">&quot;0&quot;</span> <span class="na">allow</span><span class="o">=</span><span class="s">&quot;accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture&quot;</span> <span class="na">allowfullscreen</span><span class="p">&gt;&lt;/</span><span class="nt">iframe</span><span class="p">&gt;</span>
</pre></div>
</div>
</div>
</div>
<p>To generate random content in Python, we can import the <strong>random</strong> module, which provides some useful functions to generate random objects as follows.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">random</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span> <span class="nb">print</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">())</span>  <span class="c1"># random floating point numbers in [0,1)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span> <span class="nb">print</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">10</span><span class="p">),</span><span class="n">end</span><span class="o">=</span><span class="s1">&#39; &#39;</span><span class="p">)</span>  <span class="c1"># random integer in range [3,10]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span> <span class="nb">print</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="s1">&#39;RBG&#39;</span><span class="p">),</span><span class="n">end</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>  <span class="c1"># random element in the sequence &#39;RBG&#39;</span>
</pre></div>
</div>
</div>
</div>
<p>We can generate a reproducible pseudo-random sequence by specifying the seed.<br />
By default Python uses the system time as seed.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># repeatedly run the cell to see new sequences.</span>
<span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">123456</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span> <span class="nb">print</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">10</span><span class="p">),</span><span class="n">end</span><span class="o">=</span><span class="s1">&#39; &#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p><strong>Exercise</strong> Define a function that generates a random <code class="docutils literal notranslate"><span class="pre">code</span></code>. The functions takes in</p>
<ul class="simple">
<li><p>a string <code class="docutils literal notranslate"><span class="pre">colors</span></code> whose characters represent distinct colors to choose from, and</p></li>
<li><p>a positive integer <code class="docutils literal notranslate"><span class="pre">code_length</span></code> representing the length of the code.</p></li>
</ul>
<p>For instance, <code class="docutils literal notranslate"><span class="pre">get_code('ROYGBP',4)</span></code> returns a code of <code class="docutils literal notranslate"><span class="pre">4</span></code> code pegs randomly with colors chosen from <code class="docutils literal notranslate"><span class="pre">'R'</span></code>ed, <code class="docutils literal notranslate"><span class="pre">'O'</span></code>range, <code class="docutils literal notranslate"><span class="pre">'Y'</span></code>ellow, <code class="docutils literal notranslate"><span class="pre">'G'</span></code>reen, <code class="docutils literal notranslate"><span class="pre">'B'</span></code>lue, and <code class="docutils literal notranslate"><span class="pre">'P'</span></code>urple. One possible outcome is <code class="docutils literal notranslate"><span class="pre">'ROYY'</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">random</span>
<span class="k">def</span> <span class="nf">get_code</span><span class="p">(</span><span class="n">colors</span><span class="p">,</span> <span class="n">code_length</span><span class="p">):</span>
    <span class="n">code</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The function body will iterate code_length times.</span>
<span class="sd">    In each iteration, generate a random (integer) position in range 0 to len(colors)-1. </span>
<span class="sd">    From color, get the character at that random position and append the character to code</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># YOUR CODE HERE</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">code</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="guess-validation">
<h4>Guess Validation<a class="headerlink" href="#guess-validation" title="Permalink to this headline">¶</a></h4>
<p><strong>Exercise</strong> Define a function <code class="docutils literal notranslate"><span class="pre">valid_code</span></code> that</p>
<ul class="simple">
<li><p>takes <code class="docutils literal notranslate"><span class="pre">colors</span></code>, <code class="docutils literal notranslate"><span class="pre">code_length</span></code>, and <code class="docutils literal notranslate"><span class="pre">guess</span></code> as the first, second, and third arguments respectively, and</p></li>
<li><p>return <code class="docutils literal notranslate"><span class="pre">True</span></code> if <code class="docutils literal notranslate"><span class="pre">guess</span></code> is a valid code, i.e., a string of length <code class="docutils literal notranslate"><span class="pre">code_length</span></code> with characters from those of <code class="docutils literal notranslate"><span class="pre">colors</span></code>, and</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p></li>
</ul>
<p><em>Hint:</em> Solution template:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">__________</span><span class="p">(</span><span class="n">colors</span><span class="p">,</span> <span class="n">code_length</span><span class="p">,</span> <span class="n">guess</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">guess</span><span class="p">)</span> <span class="n">__</span> <span class="n">code_length</span><span class="p">:</span>
        <span class="n">is_valid</span> <span class="o">=</span> <span class="n">____</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">peg</span> <span class="ow">in</span> <span class="n">guess</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">color</span> <span class="ow">in</span> <span class="n">colors</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">peg</span> <span class="o">==</span> <span class="n">color</span><span class="p">:</span> <span class="n">____</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">is_valid</span> <span class="o">=</span> <span class="n">_____</span>
                <span class="n">____</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">is_valid</span> <span class="o">=</span> <span class="n">____</span>
    <span class="k">return</span> <span class="n">is_valid</span>
</pre></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># YOUR CODE HERE</span>
<span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># tests</span>
<span class="k">assert</span> <span class="n">valid_code</span><span class="p">(</span><span class="s1">&#39;RBG&#39;</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="s1">&#39;R&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="kc">True</span>
<span class="k">assert</span> <span class="n">valid_code</span><span class="p">(</span><span class="s1">&#39;RBG&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="s1">&#39;B&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="kc">False</span>
<span class="k">assert</span> <span class="n">valid_code</span><span class="p">(</span><span class="s1">&#39;RBG&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="s1">&#39;RP&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="kc">False</span>
<span class="k">assert</span> <span class="n">valid_code</span><span class="p">(</span><span class="s1">&#39;RBG&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="kc">True</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="feedback-generation">
<h4>Feedback Generation<a class="headerlink" href="#feedback-generation" title="Permalink to this headline">¶</a></h4>
<p>According to the rules of Mastermind, double-counting of a single peg (as black and white) is not allowed. To facilitate this check, we have written a new module <code class="docutils literal notranslate"><span class="pre">markposition</span></code> that allows you to mark any non-negative integer position as counted.</p>
<p><strong>Exercise</strong> Write an <code class="docutils literal notranslate"><span class="pre">import</span></code> statement to import from the module <code class="docutils literal notranslate"><span class="pre">markposition</span></code> the functions</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">mark_as_counted</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">check_if_counted</span></code>, and</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">reset_all_to_not_counted</span></code>.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># YOUR CODE HERE</span>
<span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Tests</span>
<span class="n">reset_all_to_not_counted</span><span class="p">()</span>
<span class="n">mark_as_counted</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">check_if_counted</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">check_if_counted</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p><strong>Exercise</strong> Using the functions imported from <code class="docutils literal notranslate"><span class="pre">markposition</span></code>, mark only the positions <code class="docutils literal notranslate"><span class="pre">0</span></code>, <code class="docutils literal notranslate"><span class="pre">2</span></code>, <code class="docutils literal notranslate"><span class="pre">4</span></code>, <code class="docutils literal notranslate"><span class="pre">6</span></code>, <code class="docutils literal notranslate"><span class="pre">8</span></code>, and <code class="docutils literal notranslate"><span class="pre">10</span></code> as counted. All other positions are not counted.<br />
<em>Hint</em>: Use <code class="docutils literal notranslate"><span class="pre">help</span></code> to learn how to use the imported functions.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># YOUR CODE HERE</span>
<span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Tests</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">11</span><span class="p">):</span>
    <span class="k">assert</span> <span class="ow">not</span> <span class="n">check_if_counted</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">if</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">2</span> <span class="k">else</span> <span class="n">check_if_counted</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p><strong>Exercise</strong> Define a function <code class="docutils literal notranslate"><span class="pre">get_feedback</span></code> that</p>
<ul class="simple">
<li><p>takes <code class="docutils literal notranslate"><span class="pre">code</span></code> and <code class="docutils literal notranslate"><span class="pre">guess</span></code> as the first and second arguments respectively, and</p></li>
<li><p>returns a feedback string that starts with the appropriate number of characters <code class="docutils literal notranslate"><span class="pre">'b'</span></code> (for black key pegs) followed by the appropriate number of characters <code class="docutils literal notranslate"><span class="pre">'w'</span></code> (for white key pegs).</p></li>
</ul>
<p><em>Hint:</em> Solution template:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_feedback</span><span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="n">guess</span><span class="p">):</span>
    <span class="n">black_key_pegs_count</span> <span class="o">=</span> <span class="n">white_key_pegs_count</span> <span class="o">=</span> <span class="n">counted</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">reset_all_to_not_counted</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">_________________</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">___________________</span><span class="p">:</span>
            <span class="n">black_key_pegs_count</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">mark_as_counted</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">guess</span><span class="p">)):</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">code</span><span class="p">)):</span>
            <span class="k">if</span>  <span class="n">__________________________________________________________</span><span class="p">:</span>
                <span class="n">white_key_pegs_count</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">mark_as_counted</span><span class="p">(</span><span class="n">j</span><span class="p">)</span>
                <span class="k">break</span>
    <span class="n">key</span> <span class="o">=</span> <span class="s1">&#39;b&#39;</span> <span class="o">*</span> <span class="n">black_key_pegs_count</span> <span class="o">+</span> <span class="s1">&#39;w&#39;</span> <span class="o">*</span> <span class="n">white_key_pegs_count</span>
    <span class="k">return</span> <span class="n">key</span>
</pre></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># YOUR CODE HERE</span>
<span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># tests</span>
<span class="k">def</span> <span class="nf">test_get_feedback</span><span class="p">(</span><span class="n">feedback</span><span class="p">,</span><span class="n">code</span><span class="p">,</span><span class="n">guess</span><span class="p">):</span>
    <span class="n">feedback_</span> <span class="o">=</span> <span class="n">get_feedback</span><span class="p">(</span><span class="n">code</span><span class="p">,</span><span class="n">guess</span><span class="p">)</span>
    <span class="n">correct</span> <span class="o">=</span> <span class="n">feedback</span> <span class="o">==</span> <span class="n">feedback_</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">correct</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span>
            <span class="sa">f</span><span class="s1">&#39;With code=&quot;</span><span class="si">{</span><span class="n">code</span><span class="si">}</span><span class="s1">&quot; and guess=&quot;</span><span class="si">{</span><span class="n">guess</span><span class="si">}</span><span class="s1">&quot;, feedback should be &quot;</span><span class="si">{</span><span class="n">feedback</span><span class="si">}</span><span class="s1">&quot;, not &quot;</span><span class="si">{</span><span class="n">feedback_</span><span class="si">}</span><span class="s1">&quot;.&#39;</span>
        <span class="p">)</span>
    <span class="k">assert</span> <span class="n">correct</span>

<span class="n">test_get_feedback</span><span class="p">(</span><span class="mi">10</span><span class="o">*</span><span class="s1">&#39;b&#39;</span><span class="o">+</span><span class="s1">&#39;w&#39;</span><span class="o">*</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;RGBRGBRGBY&quot;</span><span class="p">,</span><span class="s2">&quot;RGBRGBRGBY&quot;</span><span class="p">)</span>
<span class="n">test_get_feedback</span><span class="p">(</span><span class="mi">0</span><span class="o">*</span><span class="s1">&#39;b&#39;</span><span class="o">+</span><span class="s1">&#39;w&#39;</span><span class="o">*</span><span class="mi">10</span><span class="p">,</span><span class="s2">&quot;RGBRGBRGBY&quot;</span><span class="p">,</span><span class="s2">&quot;YRGBRGBRGB&quot;</span><span class="p">)</span>
<span class="n">test_get_feedback</span><span class="p">(</span><span class="mi">8</span><span class="o">*</span><span class="s1">&#39;b&#39;</span><span class="o">+</span><span class="s1">&#39;w&#39;</span><span class="o">*</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;RGRGRGRG&quot;</span><span class="p">,</span><span class="s2">&quot;RGRGRGRG&quot;</span><span class="p">)</span>
<span class="n">test_get_feedback</span><span class="p">(</span><span class="mi">0</span><span class="o">*</span><span class="s1">&#39;b&#39;</span><span class="o">+</span><span class="s1">&#39;w&#39;</span><span class="o">*</span><span class="mi">8</span><span class="p">,</span><span class="s2">&quot;RGRGRGRG&quot;</span><span class="p">,</span><span class="s2">&quot;GRGRGRGR&quot;</span><span class="p">)</span>
<span class="n">test_get_feedback</span><span class="p">(</span><span class="mi">0</span><span class="o">*</span><span class="s1">&#39;b&#39;</span><span class="o">+</span><span class="s1">&#39;w&#39;</span><span class="o">*</span><span class="mi">6</span><span class="p">,</span><span class="s2">&quot;RRRRGGG&quot;</span><span class="p">,</span><span class="s2">&quot;GGGGRRR&quot;</span><span class="p">)</span>
<span class="n">test_get_feedback</span><span class="p">(</span><span class="mi">1</span><span class="o">*</span><span class="s1">&#39;b&#39;</span><span class="o">+</span><span class="s1">&#39;w&#39;</span><span class="o">*</span><span class="mi">6</span><span class="p">,</span><span class="s2">&quot;RRRRGGG&quot;</span><span class="p">,</span><span class="s2">&quot;GGGRRRR&quot;</span><span class="p">)</span>
<span class="n">test_get_feedback</span><span class="p">(</span><span class="mi">5</span><span class="o">*</span><span class="s1">&#39;b&#39;</span><span class="o">+</span><span class="s1">&#39;w&#39;</span><span class="o">*</span><span class="mi">2</span><span class="p">,</span><span class="s2">&quot;RRRRGGG&quot;</span><span class="p">,</span><span class="s2">&quot;RRRGGGR&quot;</span><span class="p">)</span>
<span class="n">test_get_feedback</span><span class="p">(</span><span class="mi">1</span><span class="o">*</span><span class="s1">&#39;b&#39;</span><span class="o">+</span><span class="s1">&#39;w&#39;</span><span class="o">*</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;RRRRGGG&quot;</span><span class="p">,</span><span class="s2">&quot;RYYPPBB&quot;</span><span class="p">)</span>
<span class="n">test_get_feedback</span><span class="p">(</span><span class="mi">0</span><span class="o">*</span><span class="s1">&#39;b&#39;</span><span class="o">+</span><span class="s1">&#39;w&#39;</span><span class="o">*</span><span class="mi">1</span><span class="p">,</span><span class="s2">&quot;RRRRG&quot;</span><span class="p">,</span><span class="s2">&quot;GBBBB&quot;</span><span class="p">)</span>
<span class="n">test_get_feedback</span><span class="p">(</span><span class="mi">0</span><span class="o">*</span><span class="s1">&#39;b&#39;</span><span class="o">+</span><span class="s1">&#39;w&#39;</span><span class="o">*</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;RRRRG&quot;</span><span class="p">,</span><span class="s2">&quot;YBBBB&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="play-the-game">
<h4>Play the Game<a class="headerlink" href="#play-the-game" title="Permalink to this headline">¶</a></h4>
<p>After finishing the previous exercises, you can play the game as a code breaker against a random mastermind.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># mastermind</span>
<span class="kn">import</span> <span class="nn">ipywidgets</span> <span class="k">as</span> <span class="nn">widgets</span>
<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">display</span><span class="p">,</span> <span class="n">HTML</span>


<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="sd">&#39;&#39;&#39;The main function that runs the mastermind game.&#39;&#39;&#39;</span>
    <span class="n">max_num_guesses</span> <span class="o">=</span> <span class="n">code_length</span> <span class="o">=</span> <span class="n">code</span> <span class="o">=</span> <span class="n">num_guesses_left</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">is_game_ended</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">colors</span> <span class="o">=</span> <span class="s1">&#39;ROYGBP&#39;</span>
    <span class="n">color_code</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;R&quot;</span><span class="p">:</span> <span class="s2">&quot;#F88,#F00,#800&quot;</span><span class="p">,</span>
        <span class="s2">&quot;O&quot;</span><span class="p">:</span> <span class="s2">&quot;#FD8,#F80,#840&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Y&quot;</span><span class="p">:</span> <span class="s2">&quot;#FF8,#FF0,#AA0&quot;</span><span class="p">,</span>
        <span class="s2">&quot;G&quot;</span><span class="p">:</span> <span class="s2">&quot;#8F8,#0F0,#080&quot;</span><span class="p">,</span>
        <span class="s2">&quot;B&quot;</span><span class="p">:</span> <span class="s2">&quot;#88F,#00F,#008&quot;</span><span class="p">,</span>
        <span class="s2">&quot;P&quot;</span><span class="p">:</span> <span class="s2">&quot;#F8F,#F0F,#808&quot;</span><span class="p">,</span>
        <span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="s2">&quot;#888,#000,#000&quot;</span><span class="p">,</span>
        <span class="s2">&quot;w&quot;</span><span class="p">:</span> <span class="s2">&quot;#FFF,#EEE,#888&quot;</span>
    <span class="p">}</span>

    <span class="c1"># returns the HTML code for a colored peg.</span>
    <span class="k">def</span> <span class="nf">getPeg</span><span class="p">(</span><span class="n">color</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">30</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;&#39;&#39;&lt;div style=&#39;display:inline-block;</span>
<span class="s1">                              background-image: radial-gradient(circle, </span><span class="si">{0}</span><span class="s1">); </span>
<span class="s1">                              width:</span><span class="si">{1}</span><span class="s1">px; height:</span><span class="si">{1}</span><span class="s1">px; border-radius:50%;&#39;&gt;</span>
<span class="s1">                  &lt;/div&gt;&#39;&#39;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">color_code</span><span class="p">[</span><span class="n">color</span><span class="p">],</span> <span class="n">size</span><span class="p">)</span>

    <span class="n">colors_display</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">HBox</span><span class="p">([</span><span class="n">widgets</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="s1">&#39;Color codes:&#39;</span><span class="p">)]</span> <span class="o">+</span> <span class="p">[</span>
        <span class="n">widgets</span><span class="o">.</span><span class="n">HBox</span><span class="p">([</span><span class="n">widgets</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">color</span><span class="p">),</span>
                      <span class="n">widgets</span><span class="o">.</span><span class="n">HTML</span><span class="p">(</span><span class="n">getPeg</span><span class="p">(</span><span class="n">color</span><span class="p">))])</span> <span class="k">for</span> <span class="n">color</span> <span class="ow">in</span> <span class="n">colors</span>
    <span class="p">])</span>

    <span class="n">max_num_guesses_input</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">IntSlider</span><span class="p">(</span><span class="nb">min</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
                                              <span class="nb">max</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span>
                                              <span class="n">value</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
                                              <span class="n">description</span><span class="o">=</span><span class="s2">&quot;# guesses:&quot;</span><span class="p">)</span>
    <span class="n">code_length_input</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">IntSlider</span><span class="p">(</span><span class="nb">min</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                                          <span class="nb">max</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
                                          <span class="n">value</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
                                          <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Code length:&quot;</span><span class="p">)</span>
    <span class="n">code_input</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Password</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;Code:&quot;</span><span class="p">)</span>
    <span class="n">start_new_game_button</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;Start a new game&quot;</span><span class="p">)</span>

    <span class="n">guess_input</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Text</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;Guess:&quot;</span><span class="p">)</span>
    <span class="n">submit_guess_button</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;Submit guess&quot;</span><span class="p">)</span>
    <span class="n">board</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Output</span><span class="p">()</span>
    <span class="n">message</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Output</span><span class="p">()</span>

    <span class="n">display</span><span class="p">(</span>
        <span class="n">widgets</span><span class="o">.</span><span class="n">VBox</span><span class="p">([</span>
            <span class="n">max_num_guesses_input</span><span class="p">,</span> <span class="n">code_length_input</span><span class="p">,</span> <span class="n">colors_display</span><span class="p">,</span>
            <span class="n">widgets</span><span class="o">.</span><span class="n">HBox</span><span class="p">([</span><span class="n">code_input</span><span class="p">,</span> <span class="n">start_new_game_button</span><span class="p">]),</span>
            <span class="n">widgets</span><span class="o">.</span><span class="n">HBox</span><span class="p">([</span><span class="n">guess_input</span><span class="p">,</span> <span class="n">submit_guess_button</span><span class="p">]),</span> <span class="n">board</span><span class="p">,</span> <span class="n">message</span>
        <span class="p">]))</span>

    <span class="c1"># A listener that starts a new game</span>
    <span class="k">def</span> <span class="nf">start_new_game</span><span class="p">(</span><span class="n">button</span><span class="p">):</span>
        <span class="k">nonlocal</span> <span class="n">code</span><span class="p">,</span> <span class="n">num_guesses_left</span><span class="p">,</span> <span class="n">is_game_ended</span><span class="p">,</span> <span class="n">max_num_guesses</span><span class="p">,</span> <span class="n">code_length</span>
        <span class="n">max_num_guesses</span> <span class="o">=</span> <span class="n">max_num_guesses_input</span><span class="o">.</span><span class="n">value</span>
        <span class="n">code_length</span> <span class="o">=</span> <span class="n">code_length_input</span><span class="o">.</span><span class="n">value</span>
        <span class="n">board</span><span class="o">.</span><span class="n">clear_output</span><span class="p">()</span>
        <span class="n">message</span><span class="o">.</span><span class="n">clear_output</span><span class="p">()</span>
        <span class="n">code</span> <span class="o">=</span> <span class="n">code_input</span><span class="o">.</span><span class="n">value</span> <span class="ow">or</span> <span class="n">get_code</span><span class="p">(</span><span class="n">colors</span><span class="p">,</span> <span class="n">code_length</span><span class="p">)</span>
        <span class="k">with</span> <span class="n">message</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">valid_code</span><span class="p">(</span><span class="n">colors</span><span class="p">,</span> <span class="n">code_length</span><span class="p">,</span> <span class="n">code</span><span class="p">):</span>
                <span class="n">display</span><span class="p">(</span>
                    <span class="n">HTML</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;&lt;p&gt;The code </span><span class="si">{}</span><span class="s1"> is invalid.&lt;br&gt;</span>
<span class="s1">                        Leave the code box empty to randomly generated a code.</span>
<span class="s1">                        &lt;/p&gt;&#39;&#39;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">code</span><span class="p">)))</span>
                <span class="n">is_game_ended</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">num_guesses_left</span> <span class="o">=</span> <span class="n">max_num_guesses</span>
                <span class="n">is_game_ended</span> <span class="o">=</span> <span class="n">num_guesses_left</span> <span class="o">&lt;=</span> <span class="mi">0</span>
                <span class="n">display</span><span class="p">(</span>
                    <span class="n">HTML</span><span class="p">(</span><span class="s1">&#39;&lt;p&gt;Game started! </span><span class="si">{}</span><span class="s1"> Guesses left.&lt;/p&gt;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                        <span class="n">num_guesses_left</span><span class="p">)))</span>

    <span class="c1"># A listener that submits a guess</span>
    <span class="k">def</span> <span class="nf">submit_guess</span><span class="p">(</span><span class="n">button</span><span class="p">):</span>
        <span class="k">nonlocal</span> <span class="n">num_guesses_left</span><span class="p">,</span> <span class="n">is_game_ended</span>
        <span class="n">guess</span> <span class="o">=</span> <span class="n">guess_input</span><span class="o">.</span><span class="n">value</span>
        <span class="k">with</span> <span class="n">message</span><span class="p">:</span>
            <span class="n">message</span><span class="o">.</span><span class="n">clear_output</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">is_game_ended</span><span class="p">:</span>
                <span class="n">display</span><span class="p">(</span>
                    <span class="n">HTML</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;&lt;p&gt;Game has not started.&lt;br&gt; </span>
<span class="s1">                        Please start a new game.&lt;/p&gt;&#39;&#39;&#39;</span><span class="p">))</span>
                <span class="k">return</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">valid_code</span><span class="p">(</span><span class="n">colors</span><span class="p">,</span> <span class="n">code_length</span><span class="p">,</span> <span class="n">guess</span><span class="p">):</span>
                <span class="n">display</span><span class="p">(</span><span class="n">HTML</span><span class="p">(</span><span class="s1">&#39;&lt;p&gt;Invalid guess.&lt;/p&gt;&#39;</span><span class="p">))</span>
                <span class="k">return</span>
        <span class="n">feedback</span> <span class="o">=</span> <span class="n">get_feedback</span><span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="n">guess</span><span class="p">)</span>
        <span class="n">num_guesses_left</span> <span class="o">-=</span> <span class="mi">1</span>
        <span class="k">with</span> <span class="n">board</span><span class="p">:</span>
            <span class="n">content</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
            <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">guess</span><span class="p">:</span>
                <span class="n">content</span> <span class="o">+=</span> <span class="n">getPeg</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
            <span class="n">content</span> <span class="o">+=</span> <span class="s1">&#39;&#39;&#39;&lt;div style=&#39;display:inline-block; </span>
<span class="s1">                             margin: 0px 5px 0px 30px; </span>
<span class="s1">                             position:relative; top:5px;&#39;&gt;Feeback:&lt;/div&gt;</span>
<span class="s1">                          &lt;div style=&#39;display:inline-block; </span>
<span class="s1">                             border: 1px solid; width:120px; height:30px;&#39;&gt;&#39;&#39;&#39;</span>
            <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">feedback</span><span class="p">:</span>
                <span class="n">content</span> <span class="o">+=</span> <span class="n">getPeg</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="mi">28</span><span class="p">)</span>
            <span class="n">content</span> <span class="o">+=</span> <span class="s2">&quot;&lt;/div&gt;&quot;</span>
            <span class="n">display</span><span class="p">(</span><span class="n">HTML</span><span class="p">(</span><span class="n">content</span><span class="p">))</span>

        <span class="k">with</span> <span class="n">message</span><span class="p">:</span>
            <span class="n">message</span><span class="o">.</span><span class="n">clear_output</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">feedback</span> <span class="o">==</span> <span class="s1">&#39;b&#39;</span> <span class="o">*</span> <span class="n">code_length</span><span class="p">:</span>
                <span class="n">is_game_ended</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="n">display</span><span class="p">(</span>
                    <span class="n">HTML</span><span class="p">(</span><span class="s1">&#39;&lt;p&gt;You won with </span><span class="si">{}</span><span class="s1"> guesses left!&lt;/p&gt;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                        <span class="n">num_guesses_left</span><span class="p">)))</span>
                <span class="k">return</span>
            <span class="n">is_game_ended</span> <span class="o">=</span> <span class="n">num_guesses_left</span> <span class="o">&lt;=</span> <span class="mi">0</span>
            <span class="k">if</span> <span class="n">is_game_ended</span><span class="p">:</span>
                <span class="n">display</span><span class="p">(</span><span class="n">HTML</span><span class="p">(</span><span class="s1">&#39;&lt;p&gt;Game over...&lt;/p&gt;&#39;</span><span class="p">))</span>
                <span class="k">return</span>
            <span class="n">display</span><span class="p">(</span><span class="n">HTML</span><span class="p">(</span><span class="s1">&#39;&lt;p&gt;</span><span class="si">{}</span><span class="s1"> Guesses left.&lt;/p&gt;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">num_guesses_left</span><span class="p">)))</span>

    <span class="n">start_new_game_button</span><span class="o">.</span><span class="n">on_click</span><span class="p">(</span><span class="n">start_new_game</span><span class="p">)</span>
    <span class="n">submit_guess_button</span><span class="o">.</span><span class="n">on_click</span><span class="p">(</span><span class="n">submit_guess</span><span class="p">)</span>


<span class="n">main</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<span id="document-Lab5/Pandas"></span><div class="section" id="pandas">
<h3>Pandas<a class="headerlink" href="#pandas" title="Permalink to this headline">¶</a></h3>
<p>In this lab, we will analyze COVID19 data using a powerful package called <a class="reference external" href="https://pandas.pydata.org/docs/user_guide/index.html"><code class="docutils literal notranslate"><span class="pre">pandas</span></code></a>.<br />
The package name comes from <em>panel data</em> and <em>Python for data analysis</em>.</p>
<div class="section" id="loading-csv-files-with-pandas">
<h4>Loading CSV Files with Pandas<a class="headerlink" href="#loading-csv-files-with-pandas" title="Permalink to this headline">¶</a></h4>
<p><a class="reference external" href="https://data.gov.hk/en-data/dataset/hk-dh-chpsebcddr-novel-infectious-agent">DATA.GOV.HK</a> provides an <a class="reference external" href="https://data.gov.hk/en/help/api-spec#historicalAPI">API</a> to retrieve historical data on COVID-19 cases in Hong Kong.</p>
<p>The following uses the <code class="docutils literal notranslate"><span class="pre">urlencode</span></code> function to create the url that links to a csv file containing probable and confirmed cases of COVID-19 by Aug 1st, 2020.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">urllib.parse</span> <span class="kn">import</span> <span class="n">urlencode</span>

<span class="n">url_data_gov_hk_get</span> <span class="o">=</span> <span class="s1">&#39;https://api.data.gov.hk/v1/historical-archive/get-file&#39;</span>
<span class="n">url_covid_csv</span> <span class="o">=</span> <span class="s1">&#39;http://www.chp.gov.hk/files/misc/enhanced_sur_covid_19_eng.csv&#39;</span>
<span class="n">time</span> <span class="o">=</span> <span class="s1">&#39;20200801-1204&#39;</span>
<span class="n">url_covid</span> <span class="o">=</span> <span class="n">url_data_gov_hk_get</span> <span class="o">+</span> <span class="s1">&#39;?&#39;</span> <span class="o">+</span> <span class="n">urlencode</span><span class="p">({</span>
    <span class="s1">&#39;url&#39;</span><span class="p">:</span> <span class="n">url_covid_csv</span><span class="p">,</span>
    <span class="s1">&#39;time&#39;</span><span class="p">:</span> <span class="n">time</span>
<span class="p">})</span>

<span class="nb">print</span><span class="p">(</span><span class="n">url_covid</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">urlencode</span></code> creates a string <code class="docutils literal notranslate"><span class="pre">'url=&lt;...&gt;&amp;time=&lt;...&gt;'</span></code> with some <a class="reference external" href="https://www.w3schools.com/tags/ref_urlencode.ASP">special symbols encoded</a>, e.g.:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">:</span></code> is replaced by <code class="docutils literal notranslate"><span class="pre">%3A</span></code>, and</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">/</span></code> is replaced by <code class="docutils literal notranslate"><span class="pre">%2F</span></code>.</p></li>
</ul>
<p><strong>Exercise</strong> Write a function <code class="docutils literal notranslate"><span class="pre">simple_encode</span></code> that takes in a string and return a string with <code class="docutils literal notranslate"><span class="pre">:</span></code> and <code class="docutils literal notranslate"><span class="pre">/</span></code> encoded as described above.<br />
<em>Hint:</em> Use the <code class="docutils literal notranslate"><span class="pre">replace</span></code> method of <code class="docutils literal notranslate"><span class="pre">str</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">simple_encode</span><span class="p">(</span><span class="n">string</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Returns the string with : and / encoded to %3A and %2F respectively.&#39;&#39;&#39;</span>
    <span class="c1"># YOUR CODE HERE</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># tests</span>
<span class="k">assert</span> <span class="n">simple_encode</span><span class="p">(</span>
    <span class="s1">&#39;http://www.chp.gov.hk/files/misc/enhanced_sur_covid_19_eng.csv&#39;</span>
<span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;http%3A</span><span class="si">%2F%2F</span><span class="s1">www.chp.gov.hk</span><span class="si">%2F</span><span class="s1">files</span><span class="si">%2F</span><span class="s1">misc</span><span class="si">%2F</span><span class="s1">enhanced_sur_covid_19_eng.csv&#39;</span>
</pre></div>
</div>
</div>
</div>
<p>Like the function <code class="docutils literal notranslate"><span class="pre">open</span></code> that loads a file into memory, <code class="docutils literal notranslate"><span class="pre">pandas</span></code> has a function <code class="docutils literal notranslate"><span class="pre">read_csv</span></code> that loads a csv file.<br />
The csv file can even reside on the web.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="n">df_covid</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">url_covid</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">df_covid</span><span class="p">))</span>
<span class="n">df_covid</span>
</pre></div>
</div>
</div>
</div>
<p>The above creates a <a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html?highlight=dataframe#pandas.DataFrame"><code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> object</a>. The content of the csv file is displayed as an HTML table conveniently.<br />
(We can control how much information to show by setting the <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/options.html">display options</a>.)</p>
<p><strong>Exercise</strong> Using the function <code class="docutils literal notranslate"><span class="pre">pd.read_csv</span></code>, load <code class="docutils literal notranslate"><span class="pre">building_list_eng.csv</span></code> as <code class="docutils literal notranslate"><span class="pre">df_building</span></code> from the url <code class="docutils literal notranslate"><span class="pre">url_building</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">url_building_csv</span> <span class="o">=</span> <span class="s1">&#39;http://www.chp.gov.hk/files/misc/building_list_eng.csv&#39;</span>
<span class="n">time</span> <span class="o">=</span> <span class="s1">&#39;20200801-1203&#39;</span>
<span class="n">url_building</span> <span class="o">=</span> <span class="n">url_data_gov_hk_get</span> <span class="o">+</span> <span class="s1">&#39;?&#39;</span> <span class="o">+</span> <span class="n">urlencode</span><span class="p">({</span>
    <span class="s1">&#39;url&#39;</span><span class="p">:</span> <span class="n">url_building_csv</span><span class="p">,</span>
    <span class="s1">&#39;time&#39;</span><span class="p">:</span> <span class="n">time</span>
<span class="p">})</span>

<span class="c1"># YOUR CODE HERE</span>
<span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
<span class="n">df_building</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># tests</span>
<span class="k">assert</span> <span class="nb">all</span><span class="p">(</span><span class="n">df_building</span><span class="o">.</span><span class="n">columns</span> <span class="o">==</span> <span class="p">[</span><span class="s1">&#39;District&#39;</span><span class="p">,</span> <span class="s1">&#39;Building name&#39;</span><span class="p">,</span> <span class="s1">&#39;Last date of residence of the case(s)&#39;</span><span class="p">,</span>
       <span class="s1">&#39;Related probable/confirmed cases&#39;</span><span class="p">])</span>  <span class="c1"># check column names</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="selecting-and-removing-columns">
<h4>Selecting and Removing columns<a class="headerlink" href="#selecting-and-removing-columns" title="Permalink to this headline">¶</a></h4>
<p>We can obtain the column labels of a <code class="docutils literal notranslate"><span class="pre">Dataframe</span></code> using its <code class="docutils literal notranslate"><span class="pre">columns</span></code> attribute.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_covid</span><span class="o">.</span><span class="n">columns</span>
</pre></div>
</div>
</div>
</div>
<p>Using the indexing operator <code class="docutils literal notranslate"><span class="pre">[]</span></code>, a column of a <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> can be returned as a <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html"><code class="docutils literal notranslate"><span class="pre">Series</span></code> object</a>, which is essentially a named array.<br />
We can further use the method <code class="docutils literal notranslate"><span class="pre">value_counts</span></code> to return the counts of different values in another <code class="docutils literal notranslate"><span class="pre">Series</span></code> object.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">series_gender_counts</span> <span class="o">=</span> <span class="n">df_covid</span><span class="p">[</span><span class="s1">&#39;Gender&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>  <span class="c1"># return the number of male and female cases</span>

<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">series_gender_counts</span><span class="p">))</span>
<span class="n">series_gender_counts</span>
</pre></div>
</div>
</div>
</div>
<p><strong>Exercise</strong> For <code class="docutils literal notranslate"><span class="pre">df_building</span></code>, use the operator <code class="docutils literal notranslate"><span class="pre">[]</span></code> and method <code class="docutils literal notranslate"><span class="pre">value_counts</span></code> to assign <code class="docutils literal notranslate"><span class="pre">series_district_counts</span></code> to a <code class="docutils literal notranslate"><span class="pre">Series</span></code> object that stores the counts of buildings in different district.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># YOUR CODE HERE</span>
<span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
<span class="n">series_district_counts</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># tests</span>
<span class="k">assert</span> <span class="nb">all</span><span class="p">(</span><span class="n">series_district_counts</span><span class="p">[[</span><span class="s1">&#39;Wong Tai Sin&#39;</span><span class="p">,</span> <span class="s1">&#39;Kwun Tong&#39;</span><span class="p">]]</span> <span class="o">==</span> <span class="p">[</span><span class="mi">313</span><span class="p">,</span> <span class="mi">212</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<p>In <code class="docutils literal notranslate"><span class="pre">df_covid</span></code>, it appears that the column <code class="docutils literal notranslate"><span class="pre">Name</span> <span class="pre">of</span> <span class="pre">hospital</span> <span class="pre">admitted</span></code> contains no information. We can confirm this by:</p>
<ol class="simple">
<li><p>Returning the column as a <code class="docutils literal notranslate"><span class="pre">Series</span></code> with <code class="docutils literal notranslate"><span class="pre">df_covid_cases['Name</span> <span class="pre">of</span> <span class="pre">hospital</span> <span class="pre">admitted']</span></code>, and</p></li>
<li><p>printing an array of unique column values using the method <code class="docutils literal notranslate"><span class="pre">unique</span></code>.</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_covid</span><span class="p">[</span><span class="s1">&#39;Name of hospital admitted&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p><strong>Exercise</strong> Drop the column <code class="docutils literal notranslate"><span class="pre">Name</span> <span class="pre">of</span> <span class="pre">hospital</span> <span class="pre">admitted</span></code> using the <code class="docutils literal notranslate"><span class="pre">drop</span></code> method of the DataFrame.</p>
<p>Use the keyword argument <code class="docutils literal notranslate"><span class="pre">inplace=True</span></code>, so that the method will</p>
<ul class="simple">
<li><p>mutate the original DataFrame in place instead of</p></li>
<li><p>creating a copy of the DataFrame with the column dropped.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># YOUR CODE HERE</span>
<span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
<span class="n">df_covid</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># tests</span>
<span class="k">assert</span> <span class="nb">all</span><span class="p">(</span><span class="n">df_covid</span><span class="o">.</span><span class="n">columns</span> <span class="o">==</span> <span class="p">[</span><span class="s1">&#39;Case no.&#39;</span><span class="p">,</span> <span class="s1">&#39;Report date&#39;</span><span class="p">,</span> <span class="s1">&#39;Date of onset&#39;</span><span class="p">,</span> <span class="s1">&#39;Gender&#39;</span><span class="p">,</span> <span class="s1">&#39;Age&#39;</span><span class="p">,</span>
       <span class="s1">&#39;Hospitalised/Discharged/Deceased&#39;</span><span class="p">,</span> <span class="s1">&#39;HK/Non-HK resident&#39;</span><span class="p">,</span>
       <span class="s1">&#39;Case classification*&#39;</span><span class="p">,</span> <span class="s1">&#39;Confirmed/probable&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="selecting-rows-of-dataframe">
<h4>Selecting Rows of DataFrame<a class="headerlink" href="#selecting-rows-of-dataframe" title="Permalink to this headline">¶</a></h4>
<p>We can select the confirmed male cases using the attribute <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.loc.html"><code class="docutils literal notranslate"><span class="pre">.loc</span></code></a> and the indexing operator <code class="docutils literal notranslate"><span class="pre">[]</span></code>.<br />
<code class="docutils literal notranslate"><span class="pre">.loc</span></code> implements an advanced indexing method <code class="docutils literal notranslate"><span class="pre">__getitem__</span></code> that can take a boolean vector.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_confirmed_male</span> <span class="o">=</span> <span class="n">df_covid</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">df_covid</span><span class="p">[</span><span class="s1">&#39;Confirmed/probable&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;Confirmed&#39;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df_covid</span><span class="p">[</span><span class="s1">&#39;Gender&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;M&#39;</span><span class="p">)]</span>
<span class="n">df_confirmed_male</span>
</pre></div>
</div>
</div>
</div>
<p><strong>Exercise</strong> Assign <code class="docutils literal notranslate"><span class="pre">df_confirmed_local</span></code> to a <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> of confirmed cases that are local or epidemiologically linked with a local case.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># YOUR CODE HERE</span>
<span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>

<span class="n">df_confirmed_local</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># tests</span>
<span class="k">assert</span> <span class="nb">set</span><span class="p">(</span><span class="n">df_confirmed_local</span><span class="p">[</span><span class="s1">&#39;Case classification*&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span> <span class="o">==</span> <span class="p">{</span>
    <span class="s1">&#39;Epidemiologically linked with local case&#39;</span><span class="p">,</span> <span class="s1">&#39;Local case&#39;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="challenge">
<h4>Challenge<a class="headerlink" href="#challenge" title="Permalink to this headline">¶</a></h4>
<p><strong>Exercise</strong> Write a function <code class="docutils literal notranslate"><span class="pre">case_counts</span></code> that</p>
<ul class="simple">
<li><p>takes an argument <code class="docutils literal notranslate"><span class="pre">district</span></code>, and</p></li>
<li><p>returns the number of cases in <code class="docutils literal notranslate"><span class="pre">district</span></code>.</p></li>
</ul>
<p><em>Hint:</em> Be careful that there can be more than one case for each building and there may be multiple buildings associated with one case.<br />
You may want to use the <code class="docutils literal notranslate"><span class="pre">split</span></code> and <code class="docutils literal notranslate"><span class="pre">strip</span></code> methods of <code class="docutils literal notranslate"><span class="pre">str</span></code> to obtain a list of cases from the <code class="docutils literal notranslate"><span class="pre">Dataframe</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">case_counts</span><span class="p">(</span><span class="n">district</span><span class="p">):</span>
    <span class="c1"># YOUR CODE HERE</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># tests</span>
<span class="k">assert</span> <span class="n">case_counts</span><span class="p">(</span><span class="s1">&#39;Kwai Tsing&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="mi">109</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<span id="document-Lab6/Combinatorics"></span><div class="section" id="combinatorics">
<h3>Combinatorics<a class="headerlink" href="#combinatorics" title="Permalink to this headline">¶</a></h3>
<div class="section" id="permutation-using-recursion">
<h4>Permutation using Recursion<a class="headerlink" href="#permutation-using-recursion" title="Permalink to this headline">¶</a></h4>
<p>A <a class="reference external" href="https://en.wikipedia.org/wiki/Permutation#k-permutations_of_n"><span class="math notranslate nohighlight">\(k\)</span>-permutation of <span class="math notranslate nohighlight">\(n\)</span></a> items <span class="math notranslate nohighlight">\(a_0,\dots,a_{n-1}\)</span> is an ordered tuple</p>
<div class="math notranslate nohighlight">
\[
(a_{i_0},\dots,a_{i_{k-1}})
\]</div>
<p>of <span class="math notranslate nohighlight">\(k\)</span> out of the <span class="math notranslate nohighlight">\(n\)</span> objects, where <span class="math notranslate nohighlight">\(0\leq i_0,\dots,i_{k-1}&lt;n\)</span> are distinct indices. An <span class="math notranslate nohighlight">\(n\)</span>-permutation of <span class="math notranslate nohighlight">\(n\)</span> objects is simply called a permutation of <span class="math notranslate nohighlight">\(n\)</span> objects.</p>
<p>For examples:</p>
<ul class="simple">
<li><p>The list of (<span class="math notranslate nohighlight">\(3\)</span>-)permutations of <code class="docutils literal notranslate"><span class="pre">1,2,3</span></code> is:</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)]</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>The list of <span class="math notranslate nohighlight">\(2\)</span>-permutations of <code class="docutils literal notranslate"><span class="pre">1,2,3</span></code> is:</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">)]</span>
</pre></div>
</div>
</div>
</div>
<p>In the above, we used</p>
<ul class="simple">
<li><p>a <code class="docutils literal notranslate"><span class="pre">tuple</span></code> delimited by <code class="docutils literal notranslate"><span class="pre">()</span></code> such as <code class="docutils literal notranslate"><span class="pre">(1,2,3)</span></code> to store items of a permutation, and</p></li>
<li><p>a <code class="docutils literal notranslate"><span class="pre">list</span></code> delimited by <code class="docutils literal notranslate"><span class="pre">[]</span></code> such as <code class="docutils literal notranslate"><span class="pre">[(1,</span> <span class="pre">2,</span> <span class="pre">3),</span> <span class="pre">(1,</span> <span class="pre">3,</span> <span class="pre">2),</span> <span class="pre">(2,</span> <span class="pre">1,</span> <span class="pre">3),</span> <span class="pre">(2,</span> <span class="pre">3,</span> <span class="pre">1),</span> <span class="pre">(3,</span> <span class="pre">1,</span> <span class="pre">2),</span> <span class="pre">(3,</span> <span class="pre">2,</span> <span class="pre">1)]</span></code> to store all the permutations.</p></li>
</ul>
<p>Generating permutations is a fundamental problem in computing and combinatorics.<br />
A simple way to generate permutations is by recursion. (There are also <a class="reference external" href="https://www.topcoder.com/generating-permutations/">other algorithms</a>.)</p>
<p><strong>Recurrence relation (Line 10):</strong></p>
<ul class="simple">
<li><p>Removing the first element of a <span class="math notranslate nohighlight">\(k\)</span>-permutation of <span class="math notranslate nohighlight">\(n\)</span> objects gives a different <span class="math notranslate nohighlight">\((k-1)\)</span>-permutation of the remaining <span class="math notranslate nohighlight">\(n-1\)</span> objects.</p></li>
</ul>
<div class="math notranslate nohighlight">
\[ (a_{i_0}, \underbrace{a_{i_1},\dots,a_{i_{k-1}}}_{\text{($k-1$)-permutation of $a_{i_1},\dots,a_{i_{k-1}}$.}\kern-5em} ) \]</div>
<ul class="simple">
<li><p>Reversing the above removal process gives a way of constructing a <span class="math notranslate nohighlight">\(k\)</span>-permutation from a <span class="math notranslate nohighlight">\((k-1)\)</span>-permutation.<br />
E.g., the permutations of <span class="math notranslate nohighlight">\(1,2,3\)</span> can be constructed as follows:</p></li>
</ul>
<div class="math notranslate nohighlight">
\[[\overbrace{({\color{red} 1}, {\color{blue}{2, 3}}), ({\color{red} 1}, {\color{blue}{3, 2}})}^{\text{prepend 1 to permutations of $2,3$.} }, \overbrace{({\color{red} 2}, {\color{blue}{1, 3}}), ({\color{red} 2}, {\color{blue}{3, 1}})}^{\text{prepend 2 to permutations of $1,3$.} }, \overbrace{({\color{red} 3}, {\color{blue}{1, 2}}), ({\color{red} 3}, {\color{blue}{2, 1}})}^{\text{prepend 3 to permutations of $1,2$.} }]\]</div>
<p>The following is an implementation of the recursion <code class="docutils literal notranslate"><span class="pre">permutation(*a,k=None)</span></code> that</p>
<ul class="simple">
<li><p>takes in a variable number <span class="math notranslate nohighlight">\(n\)</span> of objects as positional arguments (in <code class="docutils literal notranslate"><span class="pre">a</span></code>),</p></li>
<li><p>takes in an integer <span class="math notranslate nohighlight">\(k\)</span> using a keyword argument (<code class="docutils literal notranslate"><span class="pre">k</span></code>, with the default <code class="docutils literal notranslate"><span class="pre">k=None</span></code> for <span class="math notranslate nohighlight">\(k=n\)</span>), and</p></li>
<li><p>returns the list of all <span class="math notranslate nohighlight">\(k\)</span>-permutations represented as ordered tuples of the <span class="math notranslate nohighlight">\(n\)</span> objects.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">permutation</span><span class="p">(</span><span class="o">*</span><span class="n">a</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Returns the list of (k-)permutations of the position arguments.&#39;&#39;&#39;</span>
    <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
    <span class="n">output</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="n">k</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">k</span> <span class="o">=</span> <span class="n">n</span>
    <span class="k">if</span> <span class="mi">0</span> <span class="o">&lt;</span> <span class="n">k</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
            <span class="n">output</span><span class="o">.</span><span class="n">extend</span><span class="p">([(</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="p">)</span> <span class="o">+</span> <span class="n">p</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">permutation</span><span class="p">(</span><span class="o">*</span><span class="n">a</span><span class="p">[:</span><span class="n">i</span><span class="p">],</span> <span class="o">*</span><span class="n">a</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:],</span> <span class="n">k</span><span class="o">=</span><span class="n">k</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)])</span>
    <span class="k">elif</span> <span class="n">k</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">[()]</span>
    <span class="k">return</span> <span class="n">output</span>

<span class="nb">print</span><span class="p">(</span><span class="n">permutation</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">permutation</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<p>The recurrence is implemented by the for loop:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span>        <span class="o">...</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
            <span class="n">output</span><span class="o">.</span><span class="n">extend</span><span class="p">([(</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="p">)</span> <span class="o">+</span> <span class="n">p</span>
                           <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">permutation</span><span class="p">(</span><span class="o">*</span><span class="n">a</span><span class="p">[:</span><span class="n">i</span><span class="p">],</span> <span class="o">*</span><span class="n">a</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:],</span> <span class="n">k</span><span class="o">=</span><span class="n">k</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)])</span>
        <span class="o">...</span>
</pre></div>
</div>
<p>In the above code, <code class="docutils literal notranslate"><span class="pre">(a[i],</span> <span class="pre">)</span> <span class="pre">+</span> <span class="pre">p</span></code> creates a <span class="math notranslate nohighlight">\(k\)</span>-permutation of the items in <code class="docutils literal notranslate"><span class="pre">a</span></code> by concatenating for each index <code class="docutils literal notranslate"><span class="pre">i</span></code></p>
<ul class="simple">
<li><p>a singleton tuple <code class="docutils literal notranslate"><span class="pre">(a[i],</span> <span class="pre">)</span></code> and</p></li>
<li><p>a <span class="math notranslate nohighlight">\(k-1\)</span> permutation <code class="docutils literal notranslate"><span class="pre">p</span></code> of all elements but <code class="docutils literal notranslate"><span class="pre">a[i]</span></code>.</p></li>
</ul>
<p>(See the example in the recurrence relation described earlier.)</p>
<p>Note that:</p>
<ul class="simple">
<li><p>The comma in <code class="docutils literal notranslate"><span class="pre">(a[i],</span> <span class="pre">)</span></code> is not a typo. Without commas, <code class="docutils literal notranslate"><span class="pre">(...)</span></code> does not create a tuple.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">a[:i]</span></code> returns a tuple of <code class="docutils literal notranslate"><span class="pre">a[0]</span></code> up to and excluding <code class="docutils literal notranslate"><span class="pre">a[i]</span></code>. <code class="docutils literal notranslate"><span class="pre">*a[:i]</span></code> unpacks the tuple such that its items are separate arguments to <code class="docutils literal notranslate"><span class="pre">permutation</span></code>.</p></li>
<li><p>Similarly, <code class="docutils literal notranslate"><span class="pre">*a[i</span> <span class="pre">+</span> <span class="pre">1:]</span></code> provides items as separate arguments starting from <code class="docutils literal notranslate"><span class="pre">a[i</span> <span class="pre">+</span> <span class="pre">1]</span></code> until the last item in <code class="docutils literal notranslate"><span class="pre">a</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[...</span> <span class="pre">for</span> <span class="pre">...]</span></code> generates a list of <span class="math notranslate nohighlight">\(k\)</span>-permutations, and <code class="docutils literal notranslate"><span class="pre">output.extend([...])</span></code> added the list to the end of the <code class="docutils literal notranslate"><span class="pre">output</span></code> list.</p></li>
</ul>
<p><strong>Exercise</strong> One of the base cases of the recusion happens when <span class="math notranslate nohighlight">\(k=0\)</span>, in which case there is only one <span class="math notranslate nohighlight">\(k\)</span>-permutation, namely the empty tuple <span class="math notranslate nohighlight">\(()\)</span>, and so the function returns <code class="docutils literal notranslate"><span class="pre">[()]</span></code>. There is another base case of the recursion. Explain the condition of that base case and its return value.</p>
<p>YOUR ANSWER HERE</p>
</div>
<div class="section" id="number-of-permutations">
<h4>Number of permutations<a class="headerlink" href="#number-of-permutations" title="Permalink to this headline">¶</a></h4>
<p>Computing permutations using recursion is slow. Why?<br />
There are simply too many permutations even for a reasonably small <span class="math notranslate nohighlight">\(n\)</span>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">n</span> <span class="o">=</span> <span class="mi">9</span>
<span class="n">output</span> <span class="o">=</span> <span class="n">permutation</span><span class="p">(</span><span class="o">*</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;# permutations:&#39;</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">output</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<p>Surprisingly, the number <span class="math notranslate nohighlight">\(P_n\)</span> of (<span class="math notranslate nohighlight">\(n-\)</span>)permutations of <span class="math notranslate nohighlight">\(n\)</span> items can be calculated much faster without enumerating all the permutations. It satisfies the following recurrence:</p>
<div class="math notranslate nohighlight">
\[\begin{split}
P_n = \begin{cases}
n P_{n-1} &amp; n&gt;0\\
1 &amp; n=0\\
0 &amp; \text{otherwise.}
\end{cases}
\end{split}\]</div>
<p>This quantity is fundamental in the field of <a class="reference external" href="https://en.wikipedia.org/wiki/Combinatorics">combinatorics</a> with enormous applications.</p>
<p><strong>Exercise</strong> Implement the above recurrence equation as a recursion <code class="docutils literal notranslate"><span class="pre">num_permutation(n)</span></code> which</p>
<ul class="simple">
<li><p>takes in an integer <code class="docutils literal notranslate"><span class="pre">n</span></code>, and</p></li>
<li><p>returns the number of permutations of <code class="docutils literal notranslate"><span class="pre">n</span></code> items.</p></li>
</ul>
<p><em>Hint: Ensure all base cases are covered, and can run efficiently for large <span class="math notranslate nohighlight">\(n\)</span>.</em></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">num_permutation</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="c1"># YOUR CODE HERE</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># tests</span>
<span class="k">assert</span> <span class="n">num_permutation</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3628800</span>
<span class="k">assert</span> <span class="n">num_permutation</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
<span class="k">assert</span> <span class="n">num_permutation</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span>
</pre></div>
</div>
</div>
</div>
<p><strong>Exercise</strong> Extend the function to <code class="docutils literal notranslate"><span class="pre">num_permutation(n,k=None)</span></code> which</p>
<ul class="simple">
<li><p>takes in an additional optional keyword argument <code class="docutils literal notranslate"><span class="pre">k</span></code>, and</p></li>
<li><p>returns the INTEGER number of <code class="docutils literal notranslate"><span class="pre">k</span></code>-permutations of <code class="docutils literal notranslate"><span class="pre">n</span></code> items.</p></li>
</ul>
<p>The number is given by the formula</p>
<div class="math notranslate nohighlight">
\[\begin{split}P_{n,k} = \begin{cases}
\frac{P_n}{P_{n-k}} &amp; 0\leq k \leq n\\
0 &amp; \text{otherwise.}
\end{cases}\end{split}\]</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">num_permutation</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="n">k</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="c1"># YOUR CODE HERE</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># tests</span>
<span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">num_permutation</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="nb">int</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">num_permutation</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">==</span> <span class="mi">6</span>
<span class="k">assert</span> <span class="n">num_permutation</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
<span class="k">assert</span> <span class="n">num_permutation</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span> <span class="o">==</span> <span class="mi">6</span>
<span class="k">assert</span> <span class="n">num_permutation</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span> <span class="o">==</span> <span class="mi">30240</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="permutation-using-iteration">
<h4>Permutation using Iteration<a class="headerlink" href="#permutation-using-iteration" title="Permalink to this headline">¶</a></h4>
<p>The following function <code class="docutils literal notranslate"><span class="pre">permutation_sequence(*a)</span></code> returns a generator that generates the list of <span class="math notranslate nohighlight">\(k\)</span>-permutations one-by-one for <span class="math notranslate nohighlight">\(k\)</span> from <span class="math notranslate nohighlight">\(0\)</span> to <code class="docutils literal notranslate"><span class="pre">len(a)</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">permutation_sequence</span><span class="p">(</span><span class="o">*</span><span class="n">a</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Returns a generator for the k-permuations of the positional arguments</span>
<span class="sd">    for k from 0 to len(a).&#39;&#39;&#39;</span>
    <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
    <span class="n">output</span><span class="p">,</span> <span class="n">idx_left</span> <span class="o">=</span> <span class="p">[()],</span> <span class="p">[</span><span class="nb">tuple</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">))]</span>
    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
        <span class="k">yield</span> <span class="n">output</span>
        <span class="n">next_output</span><span class="p">,</span> <span class="n">next_idx_left</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">idx_left</span><span class="p">)):</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">idx_left</span><span class="p">[</span><span class="n">m</span><span class="p">])):</span>
                <span class="n">i</span> <span class="o">=</span> <span class="n">idx_left</span><span class="p">[</span><span class="n">m</span><span class="p">][</span><span class="n">j</span><span class="p">]</span>
                <span class="n">next_output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">output</span><span class="p">[</span><span class="n">m</span><span class="p">]</span> <span class="o">+</span> <span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="p">))</span>
                <span class="n">next_idx_left</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">idx_left</span><span class="p">[</span><span class="n">m</span><span class="p">][:</span><span class="n">j</span><span class="p">]</span> <span class="o">+</span> <span class="n">idx_left</span><span class="p">[</span><span class="n">m</span><span class="p">][</span><span class="n">j</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:])</span>
        <span class="n">output</span><span class="p">,</span> <span class="n">idx_left</span> <span class="o">=</span> <span class="n">next_output</span><span class="p">,</span> <span class="n">next_idx_left</span>


<span class="k">for</span> <span class="n">permutation_list</span> <span class="ow">in</span> <span class="n">permutation_sequence</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">permutation_list</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span><span class="o">=</span><span class="nb">tuple</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Unlike the recursion <code class="docutils literal notranslate"><span class="pre">permutation</span></code>, the above generates a <span class="math notranslate nohighlight">\(k\)</span>-permutation <span class="math notranslate nohighlight">\((a_{i_0},\dots,a_{i_{k-1}})\)</span> of <span class="math notranslate nohighlight">\(n\)</span> object iteratively by</p>
<ul class="simple">
<li><p>choosing <span class="math notranslate nohighlight">\(i_j\)</span> for <span class="math notranslate nohighlight">\(j\)</span> from <span class="math notranslate nohighlight">\(0\)</span> to <span class="math notranslate nohighlight">\(k-1\)</span> such that</p></li>
<li><p><span class="math notranslate nohighlight">\(i_j\)</span> is not already chosen, i.e., <span class="math notranslate nohighlight">\(i_j\not\in \{i_0,\dots,i_{j-1}\}\)</span>.</p></li>
</ul>
<p>E.g., the permutations of <span class="math notranslate nohighlight">\(1,2,3\)</span> is generated iteratively as follows:</p>
<ul class="simple">
<li><p>1</p></li>
<li><p>1,2</p>
<ul>
<li><p><strong>(1,2,3)</strong></p></li>
</ul>
</li>
<li><p>1,3</p>
<ul>
<li><p><strong>(1,3,2)</strong></p></li>
</ul>
</li>
<li><p>2</p></li>
<li><p>2,1</p>
<ul>
<li><p><strong>(2,1,3)</strong></p></li>
</ul>
</li>
<li><p>2,3</p>
<ul>
<li><p><strong>(2,3,1)</strong></p></li>
</ul>
</li>
<li><p>3</p></li>
<li><p>3,1</p>
<ul>
<li><p><strong>(3,1,2)</strong></p></li>
</ul>
</li>
<li><p>3,2</p>
<ul>
<li><p><strong>(3,2,1)</strong></p></li>
</ul>
</li>
</ul>
<p><strong>Invariance maintained at the beginning of iteration:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">output</span></code> is the list of <span class="math notranslate nohighlight">\(k\)</span>-permutations, and</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">idx_left[m]</span></code> is the list of indices of arguments not yet in <code class="docutils literal notranslate"><span class="pre">output[m]</span></code>.</p></li>
</ul>
<p>A <span class="math notranslate nohighlight">\((k+1)\)</span>-permutation (in <code class="docutils literal notranslate"><span class="pre">next_output</span></code>) can then be generated by (Line 10) appending an argument (with an index from <code class="docutils literal notranslate"><span class="pre">idx_left</span></code>) to a <span class="math notranslate nohighlight">\(k\)</span>-permutation (in <code class="docutils literal notranslate"><span class="pre">output</span></code>).</p>
<p>Is iteration significantly faster?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">n</span> <span class="o">=</span> <span class="mi">9</span>
<span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">permutation_list</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">permutation_sequence</span><span class="p">(</span><span class="o">*</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">))):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;# </span><span class="si">{}</span><span class="s1">-permutations of </span><span class="si">{}</span><span class="s1"> items: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">permutation_list</span><span class="p">)))</span>
</pre></div>
</div>
</div>
</div>
<p>Unfortunately, there is not much improvement. Nevertheless, we can efficiently compute the number of <span class="math notranslate nohighlight">\(k\)</span>-permutations based on the previously computed number of <span class="math notranslate nohighlight">\(k-1\)</span>-permutations:</p>
<p>For <span class="math notranslate nohighlight">\(k\)</span> from <span class="math notranslate nohighlight">\(0\)</span> to <span class="math notranslate nohighlight">\(n\)</span>,</p>
<div class="math notranslate nohighlight">
\[
P_{n,k} = \underbrace{\overbrace{n\times  (n-1)\times \cdots }^{P_{n,k-1}\text{  if }k&gt;0}\times(n-k+1)}_{\text{$k$ terms in the product.}}.\]</div>
<p><strong>Exercise</strong> Use the <code class="docutils literal notranslate"><span class="pre">yield</span></code> statement to write the function <code class="docutils literal notranslate"><span class="pre">num_permutation_sequence(n)</span></code> that returns a generator of <span class="math notranslate nohighlight">\(P_{n,k}\)</span> with <code class="docutils literal notranslate"><span class="pre">k</span></code> from <code class="docutils literal notranslate"><span class="pre">0</span></code> to <code class="docutils literal notranslate"><span class="pre">n</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">num_permutation_sequence</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="n">output</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
        <span class="c1"># YOUR CODE HERE</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># tests</span>
<span class="k">assert</span> <span class="p">[</span><span class="n">m</span> <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">num_permutation_sequence</span><span class="p">(</span><span class="mi">3</span><span class="p">)]</span> <span class="o">==</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
<span class="k">assert</span> <span class="p">[</span><span class="n">m</span> <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">num_permutation_sequence</span><span class="p">(</span><span class="mi">10</span><span class="p">)]</span> <span class="o">==</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span> <span class="mi">720</span><span class="p">,</span> <span class="mi">5040</span><span class="p">,</span> <span class="mi">30240</span><span class="p">,</span> <span class="mi">151200</span><span class="p">,</span> <span class="mi">604800</span><span class="p">,</span> <span class="mi">1814400</span><span class="p">,</span> <span class="mi">3628800</span><span class="p">,</span> <span class="mi">3628800</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p><strong>Exercise (Challenge)</strong> Extend the function <code class="docutils literal notranslate"><span class="pre">num_permutation_sequence(n)</span></code> so that calling <code class="docutils literal notranslate"><span class="pre">send(0)</span></code> method causes the generator to increment <span class="math notranslate nohighlight">\(n\)</span> instead of <span class="math notranslate nohighlight">\(k\)</span> for the next number to generate. i.e., for <span class="math notranslate nohighlight">\(0\leq k \leq n\)</span>,</p>
<div class="math notranslate nohighlight">
\[\dots P_{n,k-1}\to P_{n,k} \xrightarrow{\text{send(0)}} P_{n+1,k} \to P_{n+1,k+1}\dots\]</div>
<p>where <span class="math notranslate nohighlight">\(\to\)</span> without labels is the normal transition without calling the <code class="docutils literal notranslate"><span class="pre">send</span></code> method.</p>
<p><em>Hint:</em></p>
<div class="math notranslate nohighlight">
\[P_{n+1,k}=P_{n,k} \times \frac{n+1}{n-k+1}.\]</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">num_permutation_sequence</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="c1"># YOUR CODE HERE</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># tests</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">num_permutation_sequence</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="k">assert</span> <span class="p">(</span><span class="nb">next</span><span class="p">(</span><span class="n">g</span><span class="p">),</span> <span class="nb">next</span><span class="p">(</span><span class="n">g</span><span class="p">),</span> <span class="n">g</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="nb">next</span><span class="p">(</span><span class="n">g</span><span class="p">),</span> <span class="nb">next</span><span class="p">(</span><span class="n">g</span><span class="p">),</span> <span class="nb">next</span><span class="p">(</span><span class="n">g</span><span class="p">),</span> <span class="n">g</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span> <span class="o">==</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">120</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="deduplication-using-decorator">
<h4>Deduplication using Decorator<a class="headerlink" href="#deduplication-using-decorator" title="Permalink to this headline">¶</a></h4>
<p>An issue with the function <code class="docutils literal notranslate"><span class="pre">permutation</span></code> is that it regards arguments at different positions as distinct even if they may have the same value. E.g.,<br />
<code class="docutils literal notranslate"><span class="pre">permutation(1,1,2)</span></code> returns <code class="docutils literal notranslate"><span class="pre">[(1,</span> <span class="pre">1,</span> <span class="pre">2),</span> <span class="pre">(1,</span> <span class="pre">2,</span> <span class="pre">1),</span> <span class="pre">(1,</span> <span class="pre">1,</span> <span class="pre">2),</span> <span class="pre">(1,</span> <span class="pre">2,</span> <span class="pre">1),</span> <span class="pre">(2,</span> <span class="pre">1,</span> <span class="pre">1),</span> <span class="pre">(2,</span> <span class="pre">1,</span> <span class="pre">1)]</span></code><br />
where each distinct permutation appears twice.</p>
<p>To remove duplicates from a list, we can</p>
<ul class="simple">
<li><p>convert the list to a <code class="docutils literal notranslate"><span class="pre">set</span></code> (which automatically remove duplicates),</p></li>
<li><p>and then convert the set back to a list.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Deduplicated:&#39;</span><span class="p">,</span><span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">permutation</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">))))</span>
</pre></div>
</div>
</div>
</div>
<p>Using a decorator, we can fix <code class="docutils literal notranslate"><span class="pre">permutation</span></code> without rewriting the function.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">functools</span>


<span class="k">def</span> <span class="nf">deduplicate_output</span><span class="p">(</span><span class="n">f</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Takes in a function f that returns a list possibly with duplicates,</span>
<span class="sd">    returns a decorator that remove duplicates from the output list.&#39;&#39;&#39;</span>
    <span class="nd">@functools</span><span class="o">.</span><span class="n">wraps</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)))</span>

    <span class="k">return</span> <span class="n">wrapper</span>


<span class="n">permutation</span> <span class="o">=</span> <span class="n">deduplicate_output</span><span class="p">(</span><span class="n">permutation</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Deduplicated: &#39;</span><span class="p">,</span> <span class="n">permutation</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="n">permutation</span> <span class="o">=</span> <span class="n">permutation</span><span class="o">.</span><span class="n">__wrapped__</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Original: &#39;</span><span class="p">,</span> <span class="n">permutation</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<p><strong>Exercise:</strong> Create a decorator to eliminate duplicate input positional arguments instead of the ouput, i.e.,<br />
<code class="docutils literal notranslate"><span class="pre">permutation(1,1,2)</span></code> will return the same result as <code class="docutils literal notranslate"><span class="pre">permutation(1,2)</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">deduplicate_input</span><span class="p">(</span><span class="n">f</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Takes in a function f that takes a variable number of arguments </span>
<span class="sd">    possibly with duplicates, returns a decorator that remove duplicates </span>
<span class="sd">    in the positional argument.&#39;&#39;&#39;</span>
    <span class="nd">@functools</span><span class="o">.</span><span class="n">wraps</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="c1"># YOUR CODE HERE</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">wrapper</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># tests</span>
<span class="n">permutation</span> <span class="o">=</span> <span class="n">deduplicate_input</span><span class="p">(</span><span class="n">permutation</span><span class="p">)</span>
<span class="k">assert</span> <span class="nb">set</span><span class="p">(</span><span class="n">permutation</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span> <span class="o">==</span> <span class="nb">set</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)])</span>
<span class="n">permutation</span> <span class="o">=</span> <span class="n">permutation</span><span class="o">.</span><span class="n">__wrapped__</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<span id="document-Lab7/Cybersecurity"></span><div class="section" id="cybersecurity">
<h3>Cybersecurity<a class="headerlink" href="#cybersecurity" title="Permalink to this headline">¶</a></h3>
<p>Python is a popular tool among hackers and engineers. In this lab, you will learn Cryptology in cybersecurity, which covers</p>
<ul class="simple">
<li><p><a class="reference external" href="https://en.wikipedia.org/wiki/Cryptography">Cryptography</a>: Encryption and decryption using a cipher.</p></li>
<li><p><a class="reference external" href="https://en.wikipedia.org/wiki/Cryptanalysis">Cryptanalysis</a>: Devising an attack to break a cipher.</p></li>
</ul>
<div class="section" id="caesar-symmetric-key-cipher">
<h4>Caesar symmetric key cipher<a class="headerlink" href="#caesar-symmetric-key-cipher" title="Permalink to this headline">¶</a></h4>
<p>We first implements a simple cipher called the <a class="reference external" href="https://en.wikipedia.org/wiki/Caesar_cipher">Caesar cipher</a>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%html</span>
<span class="p">&lt;</span><span class="nt">iframe</span> <span class="na">width</span><span class="o">=</span><span class="s">&quot;912&quot;</span> <span class="na">height</span><span class="o">=</span><span class="s">&quot;513&quot;</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;https://www.youtube.com/embed/sMOZf4GN3oc&quot;</span> <span class="na">frameborder</span><span class="o">=</span><span class="s">&quot;0&quot;</span> <span class="na">allow</span><span class="o">=</span><span class="s">&quot;accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture&quot;</span> <span class="na">allowfullscreen</span><span class="p">&gt;&lt;/</span><span class="nt">iframe</span><span class="p">&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="encrypt-decrypt-a-character">
<h5>Encrypt/decrypt a character<a class="headerlink" href="#encrypt-decrypt-a-character" title="Permalink to this headline">¶</a></h5>
<p><strong>How to encrypt a character?</strong></p>
<p>The following code encrypts a character <code class="docutils literal notranslate"><span class="pre">char</span></code> using a non-negative integer <code class="docutils literal notranslate"><span class="pre">key</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cc_n</span> <span class="o">=</span> <span class="mi">1114112</span>


<span class="k">def</span> <span class="nf">cc_encrypt_character</span><span class="p">(</span><span class="n">char</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Return the encryption of a character by an integer key using Caesar cipher.</span>
<span class="sd">    </span>
<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    char (str): a unicode (UTF-8) character to be encrypted.</span>
<span class="sd">    key (int): secret key to encrypt char.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">char_code</span> <span class="o">=</span> <span class="nb">ord</span><span class="p">(</span><span class="n">char</span><span class="p">)</span>
    <span class="n">shifted_char_code</span> <span class="o">=</span> <span class="p">(</span><span class="n">char_code</span> <span class="o">+</span> <span class="n">key</span><span class="p">)</span> <span class="o">%</span> <span class="n">cc_n</span>
    <span class="n">encrypted_char</span> <span class="o">=</span> <span class="nb">chr</span><span class="p">(</span><span class="n">shifted_char_code</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">encrypted_char</span>
</pre></div>
</div>
</div>
</div>
<p>For example, to encrypt the letter <code class="docutils literal notranslate"><span class="pre">'A'</span></code> using a secret key <code class="docutils literal notranslate"><span class="pre">5</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cc_encrypt_character</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>The character <code class="docutils literal notranslate"><span class="pre">'A'</span></code> is encrypted to the character <code class="docutils literal notranslate"><span class="pre">'F'</span></code> as follows:</p>
<ol class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ord(char)</span></code> return the integer <code class="docutils literal notranslate"><span class="pre">65</span></code> that is the code point (integer representation) of the unicode of <code class="docutils literal notranslate"><span class="pre">'A'</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">(char_code</span> <span class="pre">+</span> <span class="pre">key)</span> <span class="pre">%</span> <span class="pre">cc_n</span></code> cyclic shifts the code by the key <code class="docutils literal notranslate"><span class="pre">5</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">chr(shifted_char_code)</span></code> converts the shifted code back to a character, which is <code class="docutils literal notranslate"><span class="pre">'F'</span></code>.</p></li>
</ol>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Encryption</p></th>
<th class="head"><p></p></th>
<th class="head"><p></p></th>
<th class="head"><p></p></th>
<th class="head"><p></p></th>
<th class="head"><p></p></th>
<th class="head"><p></p></th>
<th class="head"><p></p></th>
<th class="head"><p></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">char</span></code></p></td>
<td><p>…</p></td>
<td><p><strong>A</strong></p></td>
<td><p>B</p></td>
<td><p>C</p></td>
<td><p>D</p></td>
<td><p>E</p></td>
<td><p>F</p></td>
<td><p>…</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ord(char)</span></code></p></td>
<td><p>…</p></td>
<td><p><strong>65</strong></p></td>
<td><p>66</p></td>
<td><p>67</p></td>
<td><p>68</p></td>
<td><p>69</p></td>
<td><p>70</p></td>
<td><p>…</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">(ord(char)</span> <span class="pre">+</span> <span class="pre">key)</span> <span class="pre">%</span> <span class="pre">cc_n</span></code></p></td>
<td><p>…</p></td>
<td><p><strong>70</strong></p></td>
<td><p>71</p></td>
<td><p>72</p></td>
<td><p>73</p></td>
<td><p>74</p></td>
<td><p>75</p></td>
<td><p>…</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">(chr(ord(char)</span> <span class="pre">+</span> <span class="pre">key)</span> <span class="pre">%</span> <span class="pre">cc_n)</span></code></p></td>
<td><p>…</p></td>
<td><p><strong>F</strong></p></td>
<td><p>G</p></td>
<td><p>H</p></td>
<td><p>I</p></td>
<td><p>J</p></td>
<td><p>K</p></td>
<td><p>…</p></td>
</tr>
</tbody>
</table>
<p>You may learn more about <code class="docutils literal notranslate"><span class="pre">ord</span></code> and <code class="docutils literal notranslate"><span class="pre">chr</span></code> from their docstrings:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">help</span><span class="p">(</span><span class="nb">ord</span><span class="p">)</span>
<span class="n">help</span><span class="p">(</span><span class="nb">chr</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p><strong>How to decrypt a character?</strong></p>
<p>Mathematically, we define the encryption and decryption of a character for Caesar cipher as</p>
<div class="math notranslate nohighlight">
\[\begin{split} \begin{aligned} E(x,k) &amp;:= x + k \mod n &amp; \text{(encryption)} \\
D(x,k) &amp;:= x - k \mod n &amp; \text{(decryption),} \end{aligned}
\end{split}\]</div>
<p>where <span class="math notranslate nohighlight">\(x\)</span> is the character code in <span class="math notranslate nohighlight">\(\{0,\dots,n\}\)</span> and <span class="math notranslate nohighlight">\(k\)</span> is the secret key. <code class="docutils literal notranslate"><span class="pre">mod</span></code> operator above is the modulo operator. In Mathematics, it has a lower precedence than addition and multiplication and is typeset with an extra space accordingly.</p>
<p>The encryption and decryption satisfies the recoverability condition</p>
<div class="math notranslate nohighlight">
\[ D(E(x,k),k) = x \]</div>
<p>so two people with a common secret key can encrypt and decrypt a character, but others not knowing the key cannot. This is a defining property of a <a class="reference external" href="https://en.wikipedia.org/wiki/Symmetric-key_algorithm">symmetric cipher</a>.</p>
<p>The following code decrypts a character using a key.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">cc_decrypt_character</span><span class="p">(</span><span class="n">char</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Return the decryption of a character by the key using Caesar cipher.</span>
<span class="sd">    </span>
<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    char (str): a unicode (UTF-8) character to be decrypted.</span>
<span class="sd">    key (int): secret key to decrypt char.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">char_code</span> <span class="o">=</span> <span class="nb">ord</span><span class="p">(</span><span class="n">char</span><span class="p">)</span>
    <span class="n">shifted_char_code</span> <span class="o">=</span> <span class="p">(</span><span class="n">char_code</span> <span class="o">-</span> <span class="n">key</span><span class="p">)</span> <span class="o">%</span> <span class="n">cc_n</span>
    <span class="n">decrypted_char</span> <span class="o">=</span> <span class="nb">chr</span><span class="p">(</span><span class="n">shifted_char_code</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">decrypted_char</span>
</pre></div>
</div>
</div>
</div>
<p>For instance, to decrypt the letter <code class="docutils literal notranslate"><span class="pre">'F'</span></code> by the secret key <code class="docutils literal notranslate"><span class="pre">5</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cc_decrypt_character</span><span class="p">(</span><span class="s1">&#39;F&#39;</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>The character <code class="docutils literal notranslate"><span class="pre">'F'</span></code> is decrypted back to <code class="docutils literal notranslate"><span class="pre">'A'</span></code> because
<code class="docutils literal notranslate"><span class="pre">(char_code</span> <span class="pre">-</span> <span class="pre">key)</span> <span class="pre">%</span> <span class="pre">cc_n</span></code> reverse cyclic shifts the code by the key <code class="docutils literal notranslate"><span class="pre">5</span></code>.</p>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Encryption</p></th>
<th class="head"><p></p></th>
<th class="head"><p></p></th>
<th class="head"><p></p></th>
<th class="head"><p></p></th>
<th class="head"><p></p></th>
<th class="head"><p></p></th>
<th class="head"><p></p></th>
<th class="head"><p></p></th>
<th class="head"><p>Decryption</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">char</span></code></p></td>
<td><p>…</p></td>
<td><p><strong>A</strong></p></td>
<td><p>B</p></td>
<td><p>C</p></td>
<td><p>D</p></td>
<td><p>E</p></td>
<td><p>F</p></td>
<td><p>…</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">(chr(ord(char)</span> <span class="pre">-</span> <span class="pre">key)</span> <span class="pre">%</span> <span class="pre">cc_n)</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ord(char)</span></code></p></td>
<td><p>…</p></td>
<td><p><strong>65</strong></p></td>
<td><p>66</p></td>
<td><p>67</p></td>
<td><p>68</p></td>
<td><p>69</p></td>
<td><p>70</p></td>
<td><p>…</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">(ord(char)</span> <span class="pre">-</span> <span class="pre">key)</span> <span class="pre">%</span> <span class="pre">cc_n</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">(ord(char)</span> <span class="pre">+</span> <span class="pre">key)</span> <span class="pre">%</span> <span class="pre">cc_n</span></code></p></td>
<td><p>…</p></td>
<td><p><strong>70</strong></p></td>
<td><p>71</p></td>
<td><p>72</p></td>
<td><p>73</p></td>
<td><p>74</p></td>
<td><p>75</p></td>
<td><p>…</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ord(char)</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">(chr(ord(char)</span> <span class="pre">+</span> <span class="pre">key)</span> <span class="pre">%</span> <span class="pre">cc_n)</span></code></p></td>
<td><p>…</p></td>
<td><p><strong>F</strong></p></td>
<td><p>G</p></td>
<td><p>H</p></td>
<td><p>I</p></td>
<td><p>J</p></td>
<td><p>K</p></td>
<td><p>…</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">char</span></code></p></td>
</tr>
</tbody>
</table>
<p><strong>Exercise</strong> Why did we set <code class="docutils literal notranslate"><span class="pre">cc_n</span> <span class="pre">=</span> <span class="pre">1114112</span></code>? Explain whether the recoverability property may fail if we set <code class="docutils literal notranslate"><span class="pre">cc_n</span></code> to a bigger number or remove <code class="docutils literal notranslate"><span class="pre">%</span> <span class="pre">cc_n</span></code> for both <code class="docutils literal notranslate"><span class="pre">cc_encrypt_character</span></code> and <code class="docutils literal notranslate"><span class="pre">cc_decrypt_character</span></code>.</p>
<p>YOUR ANSWER HERE</p>
</div>
<div class="section" id="encrypt-a-plaintext-and-decrypt-a-ciphertext">
<h5>Encrypt a plaintext and decrypt a ciphertext<a class="headerlink" href="#encrypt-a-plaintext-and-decrypt-a-ciphertext" title="Permalink to this headline">¶</a></h5>
<p>Of course, it is more interesting to encrypt a string instead of a character. The following code implements this in one line.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">cc_encrypt</span><span class="p">(</span><span class="n">plaintext</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Return the ciphertext of a plaintext by the key using Caesar cipher.</span>
<span class="sd">    </span>
<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    plaintext (str): a unicode (UTF-8) message in to be encrypted.</span>
<span class="sd">    key (int): secret key to encrypt plaintext.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">chr</span><span class="p">((</span><span class="nb">ord</span><span class="p">(</span><span class="n">char</span><span class="p">)</span> <span class="o">+</span> <span class="n">key</span><span class="p">)</span> <span class="o">%</span> <span class="n">cc_n</span><span class="p">)</span> <span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">plaintext</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<p>The above function encrypts a message, referred to as the <em>plaintext</em>, by replacing each character with its encryption.<br />
This is referred to as a <a class="reference external" href="https://en.wikipedia.org/wiki/Substitution_cipher"><em>substitution cipher</em></a>.</p>
<p><strong>Exercise</strong> Define a function <code class="docutils literal notranslate"><span class="pre">cc_decrypt</span></code> that</p>
<ul class="simple">
<li><p>takes a string <code class="docutils literal notranslate"><span class="pre">ciphertext</span></code> and an integer <code class="docutils literal notranslate"><span class="pre">key</span></code>, and</p></li>
<li><p>returns the plaintext that encrypts to <code class="docutils literal notranslate"><span class="pre">ciphertext</span></code> by the key using Caesar cipher.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">cc_decrypt</span><span class="p">(</span><span class="n">ciphertext</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Return the plaintext that encrypts to ciphertext by the key using Caesar cipher.</span>
<span class="sd">    </span>
<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    ciphertext (str): message to be decrypted.</span>
<span class="sd">    key (int): secret key to decrypt the ciphertext.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="c1"># YOUR CODE HERE</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># tests</span>
<span class="k">assert</span> <span class="n">cc_decrypt</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;bcdefghijklmnopqrstuvwxyz{&#39;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;abcdefghijklmnopqrstuvwxyz&#39;</span>
<span class="k">assert</span> <span class="n">cc_decrypt</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;Mjqqt1%\twqi&amp;&#39;</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;Hello, World!&#39;</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="brute-force-attack">
<h4>Brute-force attack<a class="headerlink" href="#brute-force-attack" title="Permalink to this headline">¶</a></h4>
<div class="section" id="create-an-english-dictionary">
<h5>Create an English dictionary<a class="headerlink" href="#create-an-english-dictionary" title="Permalink to this headline">¶</a></h5>
<p>You will launch a brute-force attack to guess the key that encrypts an English text. The idea is simple:</p>
<ul class="simple">
<li><p>You try decrypting the ciphertext with different keys, and</p></li>
<li><p>see which of the resulting plaintexts make most sense (most english-like).</p></li>
</ul>
<p>To check whether a plaintext is English-like, we need to have a list of English words. One way is to type them out
but this is tedious. Alternatively, we can obtain the list from the <em>Natural Language Toolkit (NLTK)</em>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">nltk</span>
<span class="n">nltk</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="s1">&#39;words&#39;</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">nltk.corpus</span> <span class="kn">import</span> <span class="n">words</span>
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">words.words()</span></code> returns a list of words. We can check whether a string is in the list using the operator <code class="docutils literal notranslate"><span class="pre">in</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="s1">&#39;Ada&#39;</span><span class="p">,</span> <span class="s1">&#39;ada&#39;</span><span class="p">,</span> <span class="s1">&#39;Hello&#39;</span><span class="p">,</span> <span class="s1">&#39;hello&#39;</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!r}</span><span class="s1"> in dictionary? </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">words</span><span class="o">.</span><span class="n">words</span><span class="p">()))</span>
</pre></div>
</div>
</div>
</div>
<p>However there are two issues:</p>
<ul class="simple">
<li><p>Checking membership is slow for a long list.</p></li>
<li><p>Both ‘Hello’ and ‘ada’ are English-like but they are not in the words_list.</p></li>
</ul>
<p><strong>Exercise</strong> Using the method <code class="docutils literal notranslate"><span class="pre">lower</span></code> of <code class="docutils literal notranslate"><span class="pre">str</span></code> and the constructor <code class="docutils literal notranslate"><span class="pre">set</span></code>, assign <code class="docutils literal notranslate"><span class="pre">dictionary</span></code> to a set of lowercase English words from <code class="docutils literal notranslate"><span class="pre">words.words()</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># YOUR CODE HERE</span>
<span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># tests</span>
<span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">dictionary</span><span class="p">,</span><span class="nb">set</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">dictionary</span><span class="p">)</span> <span class="o">==</span> <span class="mi">234377</span>
<span class="k">assert</span> <span class="nb">all</span><span class="p">(</span><span class="n">word</span> <span class="ow">in</span> <span class="n">dictionary</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;ada&#39;</span><span class="p">,</span> <span class="s1">&#39;hello&#39;</span><span class="p">))</span>
<span class="k">assert</span> <span class="nb">all</span><span class="p">(</span><span class="n">word</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">dictionary</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;Ada&#39;</span><span class="p">,</span> <span class="s1">&#39;hola&#39;</span><span class="p">))</span>
<span class="c1">### BEGIN TESTS</span>
<span class="k">assert</span> <span class="s1">&#39;world&#39;</span> <span class="ow">in</span> <span class="n">dictionary</span>
<span class="k">assert</span> <span class="ow">not</span> <span class="s1">&#39;mundo&#39;</span> <span class="ow">in</span> <span class="n">dictionary</span>
<span class="c1">### END TESTS</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="identify-english-like-text">
<h5>Identify English-like text<a class="headerlink" href="#identify-english-like-text" title="Permalink to this headline">¶</a></h5>
<p>To determine how English-like a text is, we calculate the following score:</p>
<div class="math notranslate nohighlight">
\[
\frac{\text{number of English words in the text}}{\text{number of tokens in the text}} 
\]</div>
<p>where tokens are substrings (not necessarily an English word) separated by white space characters in the text.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">tokenizer</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Returns the list of tokens of the text.&#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="n">text</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">get_score</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Return the fraction of tokens which appear in dictionary.&#39;&#39;&#39;</span>
    <span class="n">tokens</span> <span class="o">=</span> <span class="n">tokenizer</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
    <span class="n">words</span> <span class="o">=</span> <span class="p">[</span><span class="n">token</span> <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">tokens</span> <span class="k">if</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">dictionary</span><span class="p">]</span>
    <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">words</span><span class="p">)</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">tokens</span><span class="p">)</span>

<span class="c1"># tests</span>
<span class="n">get_score</span><span class="p">(</span><span class="s1">&#39;hello world&#39;</span><span class="p">),</span> <span class="n">get_score</span><span class="p">(</span><span class="s1">&#39;Hello, World!&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>As shown in tests above, the code fails to handle text with punctuations and uppercase letters properly.<br />
In particular,</p>
<ul class="simple">
<li><p>while <code class="docutils literal notranslate"><span class="pre">get_score</span></code> recognizes <code class="docutils literal notranslate"><span class="pre">hello</span> <span class="pre">world</span></code> as English-like and returns the maximum score of 1,</p></li>
<li><p>it fails to recognize <code class="docutils literal notranslate"><span class="pre">Hello,</span> <span class="pre">World!</span></code> as English-like and returns the minimum score of 0.</p></li>
</ul>
<p>Why? This is because every words in <code class="docutils literal notranslate"><span class="pre">dictionary</span></code></p>
<ul class="simple">
<li><p>are in lowercase, and</p></li>
<li><p>have no leading/trailing punctuations.</p></li>
</ul>
<p><strong>Exercise</strong> Define a funtion <code class="docutils literal notranslate"><span class="pre">tokenizer</span></code> that</p>
<ul class="simple">
<li><p>takes a string <code class="docutils literal notranslate"><span class="pre">text</span></code> as an argument, and</p></li>
<li><p>returns a <code class="docutils literal notranslate"><span class="pre">list</span></code> of tokens obtained by</p>
<ol class="simple">
<li><p>splitting <code class="docutils literal notranslate"><span class="pre">text</span></code> into a list using <code class="docutils literal notranslate"><span class="pre">split()</span></code>;</p></li>
<li><p>removing leading/trailing punctuations in <code class="docutils literal notranslate"><span class="pre">string.punctuation</span></code> using the <code class="docutils literal notranslate"><span class="pre">strip</span></code> method; and</p></li>
<li><p>converting all items of the list to lowercase using <code class="docutils literal notranslate"><span class="pre">lower()</span></code>.</p></li>
</ol>
</li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">string</span>

<span class="k">def</span> <span class="nf">tokenizer</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Returns the list of tokens of the text such that </span>
<span class="sd">    1) each token has no leading or training spaces/punctuations, and </span>
<span class="sd">    2) all letters in each tokens are in lowercase.&#39;&#39;&#39;</span>
    <span class="c1"># YOUR CODE HERE</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># tests</span>
<span class="k">assert</span> <span class="n">tokenizer</span><span class="p">(</span><span class="s1">&#39;Hello, World!&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="p">[</span><span class="s1">&#39;hello&#39;</span><span class="p">,</span> <span class="s1">&#39;world&#39;</span><span class="p">]</span>
<span class="k">assert</span> <span class="n">get_score</span><span class="p">(</span><span class="s1">&#39;Hello, World!&#39;</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mf">0.99999</span>
<span class="k">assert</span> <span class="n">tokenizer</span><span class="p">(</span><span class="s1">&#39;Do you know Jean-Pierre?&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="p">[</span><span class="s1">&#39;do&#39;</span><span class="p">,</span> <span class="s1">&#39;you&#39;</span><span class="p">,</span> <span class="s1">&#39;know&#39;</span><span class="p">,</span> <span class="s1">&#39;jean-pierre&#39;</span><span class="p">]</span>
<span class="k">assert</span> <span class="n">get_score</span><span class="p">(</span><span class="s1">&#39;Do you know Jean-Pierre?&#39;</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mf">0.99999</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="launch-a-brute-force-attack">
<h5>Launch a brute-force attack<a class="headerlink" href="#launch-a-brute-force-attack" title="Permalink to this headline">¶</a></h5>
<p><strong>Exercise</strong> Define the function <code class="docutils literal notranslate"><span class="pre">cc_attack</span></code> that</p>
<ul class="simple">
<li><p>takes as arguments</p>
<ul>
<li><p>a string <code class="docutils literal notranslate"><span class="pre">ciphertext</span></code>,</p></li>
<li><p>a floating point number <code class="docutils literal notranslate"><span class="pre">threshold</span></code> in the interval <span class="math notranslate nohighlight">\((0,1)\)</span> with a default value of <span class="math notranslate nohighlight">\(0.6\)</span>, and</p></li>
</ul>
</li>
<li><p>returns a generator that</p>
<ul>
<li><p>generates one-by-one in ascending order guesses of the key that</p></li>
<li><p>decrypt <code class="docutils literal notranslate"><span class="pre">ciphertext</span></code> to texts with scores at least the <code class="docutils literal notranslate"><span class="pre">threshold</span></code>.</p></li>
</ul>
</li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">cc_attack</span><span class="p">(</span><span class="n">ciphertext</span><span class="p">,</span> <span class="n">threshold</span> <span class="o">=</span> <span class="mf">0.6</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Returns a generator that generates the next guess of the key that </span>
<span class="sd">    decrypts the ciphertext to a text with get_score(text) at least the threshold.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="c1"># YOUR CODE HERE</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># tests</span>
<span class="n">ciphertext</span> <span class="o">=</span> <span class="n">cc_encrypt</span><span class="p">(</span><span class="s2">&quot;Hello, World!&quot;</span><span class="p">,</span><span class="mi">12345</span><span class="p">)</span>
<span class="n">key_generator</span> <span class="o">=</span> <span class="n">cc_attack</span><span class="p">(</span><span class="n">ciphertext</span><span class="p">)</span>
<span class="n">key_guess</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">key_generator</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">key_guess</span> <span class="o">==</span> <span class="mi">12345</span>
<span class="n">text</span> <span class="o">=</span> <span class="n">cc_decrypt</span><span class="p">(</span><span class="n">ciphertext</span><span class="p">,</span> <span class="n">key_guess</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;guess of the key: </span><span class="si">{}</span><span class="se">\n</span><span class="s1">score: </span><span class="si">{}</span><span class="se">\n</span><span class="s1">text :</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">key_guess</span><span class="p">,</span><span class="n">get_score</span><span class="p">(</span><span class="n">text</span><span class="p">),</span><span class="n">text</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="challenge">
<h4>Challenge<a class="headerlink" href="#challenge" title="Permalink to this headline">¶</a></h4>
<p>Another symmetric key cipher is <a class="reference external" href="https://en.wikipedia.org/wiki/Transposition_cipher#Columnar_transposition">columnar transposition cipher</a>. A transposition cipher encrypts a text by permuting instead of substituting characters.</p>
<p><strong>Exercise</strong> Study and implement the irregular case of the <a class="reference external" href="https://en.wikipedia.org/wiki/Transposition_cipher#Columnar_transposition">columnar transposition cipher</a> as described in Wikipedia page. Define the functions</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ct_encrypt(plaintext,</span> <span class="pre">key)</span></code> for encryption, and</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ct_decrypt(ciphertext,</span> <span class="pre">key)</span></code> for decryption.</p></li>
</ul>
<p>You can assume the plaintext is in uppercase and has no spaces/punctuations.</p>
<p><em>Hints:</em> See the text cases for an example of <code class="docutils literal notranslate"><span class="pre">plaintext</span></code>, <code class="docutils literal notranslate"><span class="pre">key</span></code>, and the corresponding <code class="docutils literal notranslate"><span class="pre">ciphertext</span></code>. You can but are not required to follow the solution template below:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">argsort</span><span class="p">(</span><span class="n">seq</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;A helper function that returns the tuple of indices that would sort the</span>
<span class="sd">    sequence seq.&#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="nb">enumerate</span><span class="p">(</span><span class="n">seq</span><span class="p">),</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>


<span class="k">def</span> <span class="nf">ct_idx</span><span class="p">(</span><span class="n">length</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;A helper function that returns the tuple of indices that would permute </span>
<span class="sd">    the letters of a message according to the key using the irregular case of </span>
<span class="sd">    columnar transposition cipher.&#39;&#39;&#39;</span>
    <span class="n">seq</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">length</span><span class="p">))</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">argsort</span><span class="p">(</span><span class="n">key</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">_______________</span><span class="p">]</span>


<span class="k">def</span> <span class="nf">ct_encrypt</span><span class="p">(</span><span class="n">plaintext</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Return the ciphertext of a plaintext by the key using the irregular case</span>
<span class="sd">    of columnar transposition cipher.</span>
<span class="sd">    </span>
<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    plaintext (str): a message in uppercase without punctuations/spaces.</span>
<span class="sd">    key (str): secret key to encrypt plaintext.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">plaintext</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">ct_idx</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">plaintext</span><span class="p">),</span> <span class="n">key</span><span class="p">)])</span>


<span class="k">def</span> <span class="nf">ct_decrypt</span><span class="p">(</span><span class="n">ciphertext</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Return the plaintext of the ciphertext by the key using the irregular case</span>
<span class="sd">    of columnar transposition cipher.</span>
<span class="sd">    </span>
<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    ciphertext (str): a string in uppercase without punctuations/spaces.</span>
<span class="sd">    key (str): secret key to decrypt ciphertext.</span>
<span class="sd">    &#39;&#39;&#39;</span>        
    <span class="k">return</span> <span class="n">_______________________________________________________________________</span>
</pre></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># YOUR CODE HERE</span>
<span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># tests</span>
<span class="n">key</span> <span class="o">=</span> <span class="s1">&#39;ZEBRAS&#39;</span>
<span class="n">plaintext</span> <span class="o">=</span> <span class="s1">&#39;WEAREDISCOVEREDFLEEATONCE&#39;</span>
<span class="n">ciphertext</span> <span class="o">=</span> <span class="s1">&#39;EVLNACDTESEAROFODEECWIREE&#39;</span>
<span class="k">assert</span> <span class="n">ct_encrypt</span><span class="p">(</span><span class="n">plaintext</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span> <span class="o">==</span> <span class="n">ciphertext</span>
<span class="k">assert</span> <span class="n">ct_decrypt</span><span class="p">(</span><span class="n">ciphertext</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span> <span class="o">==</span> <span class="n">plaintext</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<span id="document-Lab8/Information Theory"></span><div class="section" id="information-theory">
<h3>Information Theory<a class="headerlink" href="#information-theory" title="Permalink to this headline">¶</a></h3>
<p>As mentioned in previous lectures, the following two lists <code class="docutils literal notranslate"><span class="pre">coin_flips</span></code> and <code class="docutils literal notranslate"><span class="pre">dice_rolls</span></code> simulate the random coin flips and rollings of a dice:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Do NOT modify any variables defined here because some tests rely on them</span>
<span class="kn">import</span> <span class="nn">random</span>
<span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>  <span class="c1"># for reproducible results.</span>
<span class="n">num_trials</span> <span class="o">=</span> <span class="mi">200</span>
<span class="n">coin_flips</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;H&#39;</span> <span class="k">if</span> <span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span> <span class="k">else</span> <span class="s1">&#39;T&#39;</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_trials</span><span class="p">)]</span>
<span class="n">dice_rolls</span> <span class="o">=</span> <span class="p">[</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_trials</span><span class="p">)]</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;coin flips: &#39;</span><span class="p">,</span><span class="o">*</span><span class="n">coin_flips</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;dice rolls: &#39;</span><span class="p">,</span><span class="o">*</span><span class="n">dice_rolls</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p><strong>What is the difference of the two random processes?<br />
Can we say one process has more information content than the other?</strong></p>
<p>In this Lab, we will use dictionaries to store their distributions and then compute their information content using information theory, which was introduced by <em>Claude E. Shannon</em>. It has <a class="reference external" href="https://www.khanacademy.org/computing/computer-science/informationtheory">numerous applications</a>:</p>
<ul class="simple">
<li><p><em>compression</em> (to keep files small)</p></li>
<li><p><em>communications</em> (to send data mobile phones), and</p></li>
<li><p><em>machine learning</em> (to identify relevant features to learn from).</p></li>
</ul>
<div class="section" id="entropy">
<h4>Entropy<a class="headerlink" href="#entropy" title="Permalink to this headline">¶</a></h4>
<p>Mathematically, we denote a distribution as <span class="math notranslate nohighlight">\(\mathbf{p}=[p_i]_{i\in \mathcal{S}}\)</span>, where</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(\mathcal{S}\)</span> is the set of distinct outcomes, and</p></li>
<li><p><span class="math notranslate nohighlight">\(p_i\)</span> denotes the probability (chance) of seeing outcome <span class="math notranslate nohighlight">\(i\)</span>.</p></li>
</ul>
<p>The following code shown in the lecture uses a dictionary to store the distribution for a sequence efficiently without storing outcomes with zero counts:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Do NOT modify any variables defined here because some tests rely on them</span>
<span class="k">def</span> <span class="nf">distribute</span><span class="p">(</span><span class="n">seq</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Returns a dictionary where each value in a key-value pair is </span>
<span class="sd">    the probability of the associated key occuring in the sequence.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">p</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">seq</span><span class="p">:</span>
            <span class="n">p</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">seq</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">p</span>

<span class="c1"># tests</span>
<span class="n">coin_flips_dist</span> <span class="o">=</span> <span class="n">distribute</span><span class="p">(</span><span class="n">coin_flips</span><span class="p">)</span>
<span class="n">dice_rolls_dist</span> <span class="o">=</span> <span class="n">distribute</span><span class="p">(</span><span class="n">dice_rolls</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Distribution of coin flips:&#39;</span><span class="p">,</span> <span class="n">coin_flips_dist</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Distribution of dice rolls:&#39;</span><span class="p">,</span> <span class="n">dice_rolls_dist</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>For <span class="math notranslate nohighlight">\(\mathbf{p}\)</span> to be a valid distribution, the probabilities <span class="math notranslate nohighlight">\(p_i\)</span>’s have to sum to <span class="math notranslate nohighlight">\(1\)</span>, i.e.,</p>
<div class="math notranslate nohighlight">
\[\sum_{i\in \mathcal{S}} p_i = 1, \]</div>
<p>which can be verified as follows:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">math</span>
<span class="k">assert</span> <span class="n">math</span><span class="o">.</span><span class="n">isclose</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">coin_flips_dist</span><span class="o">.</span><span class="n">values</span><span class="p">()),</span><span class="mi">1</span><span class="p">)</span> <span class="ow">and</span> <span class="n">math</span><span class="o">.</span><span class="n">isclose</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">dice_rolls_dist</span><span class="o">.</span><span class="n">values</span><span class="p">()),</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p><strong>How to measure the information content?</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%html</span>
<span class="p">&lt;</span><span class="nt">iframe</span> <span class="na">width</span><span class="o">=</span><span class="s">&quot;912&quot;</span> <span class="na">height</span><span class="o">=</span><span class="s">&quot;513&quot;</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;https://www.youtube.com/embed/2s3aJfRr9gE&quot;</span> <span class="na">frameborder</span><span class="o">=</span><span class="s">&quot;0&quot;</span> <span class="na">allow</span><span class="o">=</span><span class="s">&quot;accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture&quot;</span> <span class="na">allowfullscreen</span><span class="p">&gt;&lt;/</span><span class="nt">iframe</span><span class="p">&gt;</span>
</pre></div>
</div>
</div>
</div>
<p>In information theory, the information content of a distribution is measured by its <a class="reference external" href="https://en.wikipedia.org/wiki/Entropy_(information_theory)"><em>entropy</em></a> defined as:</p>
<div class="math notranslate nohighlight">
\[\begin{split} \begin{aligned} H(\mathbf{p}) &amp;:= \sum_{i\in \mathcal{S}} p_i \overbrace{\log_2 \tfrac{1}{p_i}}^{\text{called surprise} } \\ &amp;= - \sum_{i\in \mathcal{S}} p_i \log_2 p_i \kern1em \text{(bits)} \end{aligned}  \end{split}\]</div>
<p>with <span class="math notranslate nohighlight">\(p_i \log_2 \frac{1}{p_i} = 0\)</span> if <span class="math notranslate nohighlight">\(p_i = 0\)</span> because <span class="math notranslate nohighlight">\(\lim_{x\downarrow 0} x \log_2 \frac1x = 0\)</span>.</p>
<p>For instance, if <span class="math notranslate nohighlight">\(\mathbf{p}=(p_{H},p_{T})=(0.5,0.5)\)</span>, then</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{aligned} H(\mathbf{p}) &amp;= 0.5 \log_2 \frac{1}{0.5} + 0.5 \log_2 \frac{1}{0.5} \\ &amp;= 0.5 + 0.5 = 1  \text{ bit,}\end{aligned} \end{split}\]</div>
<p>i.e., an outcome of a fair coin flip has one bit of information content, as expected.</p>
<p>On the other hand, if <span class="math notranslate nohighlight">\(\mathbf{p}=(p_{H},p_{T})=(1,0)\)</span>, then
$<span class="math notranslate nohighlight">\(\begin{aligned} H(\mathbf{p}) &amp;= 1 \log_2 \frac{1}{1} + 0 \log_2 \frac{1}{0} \\ &amp;= 0 + 0 = 0  \text{ bits,}\end{aligned} \)</span>$
i.e., an outcome of a biased coin flip that always comes up head has no information content, again as expected.</p>
<p><strong>Exercise</strong> Define a function <code class="docutils literal notranslate"><span class="pre">entropy</span></code> that</p>
<ul class="simple">
<li><p>takes a distribution <span class="math notranslate nohighlight">\(\mathbf{p}\)</span> as its argument, and</p></li>
<li><p>returns the entropy <span class="math notranslate nohighlight">\(H(\mathbf{p})\)</span>.</p></li>
</ul>
<p>Handle the case when <span class="math notranslate nohighlight">\(p_i=0\)</span>, e.g., using the short-circuit evaluation of logical <code class="docutils literal notranslate"><span class="pre">and</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">entropy</span><span class="p">(</span><span class="n">dist</span><span class="p">):</span>
    <span class="c1"># YOUR CODE HERE</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># tests</span>
<span class="k">assert</span> <span class="n">math</span><span class="o">.</span><span class="n">isclose</span><span class="p">(</span><span class="n">entropy</span><span class="p">({</span><span class="s1">&#39;H&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">}),</span> <span class="mi">1</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">math</span><span class="o">.</span><span class="n">isclose</span><span class="p">(</span><span class="n">entropy</span><span class="p">({</span><span class="s1">&#39;H&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">}),</span> <span class="mi">0</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">math</span><span class="o">.</span><span class="n">isclose</span><span class="p">(</span><span class="n">entropy</span><span class="p">(</span><span class="nb">dict</span><span class="o">.</span><span class="n">fromkeys</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span> <span class="mi">1</span> <span class="o">/</span> <span class="mi">6</span><span class="p">)),</span> <span class="n">math</span><span class="o">.</span><span class="n">log2</span><span class="p">(</span><span class="mi">6</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="uniform-distribution-maximizes-entropy">
<h4>Uniform distribution maximizes entropy<a class="headerlink" href="#uniform-distribution-maximizes-entropy" title="Permalink to this headline">¶</a></h4>
<p>Intuitively,</p>
<ul class="simple">
<li><p>for large enough numbers of fair coin flips, we should have <span class="math notranslate nohighlight">\(\mathcal{S}=\{H,T\}\)</span> and <span class="math notranslate nohighlight">\(p_H=p_T=0.5\)</span>, i.e., equal chance for head and tail.</p></li>
<li><p>for large enough numbers of fair dice rolls, we should have <span class="math notranslate nohighlight">\(p_i=\frac16\)</span> for all <span class="math notranslate nohighlight">\(i\in \mathcal{S}=\{1,2,3,4,5,6\}\)</span>.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="k">def</span> <span class="nf">plot_distribution</span><span class="p">(</span><span class="n">seq</span><span class="p">):</span>
    <span class="n">dist</span> <span class="o">=</span> <span class="n">distribute</span><span class="p">(</span><span class="n">seq</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">stem</span><span class="p">(</span><span class="n">dist</span><span class="o">.</span><span class="n">keys</span><span class="p">(),</span>   <span class="c1"># set-like view of the keys</span>
             <span class="n">dist</span><span class="o">.</span><span class="n">values</span><span class="p">(),</span> <span class="c1"># view of the values</span>
             <span class="n">use_line_collection</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Outcomes&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Distribution&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    
<span class="kn">import</span> <span class="nn">ipywidgets</span> <span class="k">as</span> <span class="nn">widgets</span>
<span class="n">n_widget</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">IntSlider</span><span class="p">(</span>
    <span class="n">value</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="nb">min</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="nb">max</span><span class="o">=</span><span class="n">num_trials</span><span class="p">,</span>
    <span class="n">step</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">description</span><span class="o">=</span><span class="s1">&#39;n:&#39;</span><span class="p">,</span>
    <span class="n">continuous_update</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">widgets</span><span class="o">.</span><span class="n">interactive</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">plot_distribution</span><span class="p">(</span><span class="n">coin_flips</span><span class="p">[:</span><span class="n">n</span><span class="p">]),</span><span class="n">n</span><span class="o">=</span><span class="n">n_widget</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">widgets</span><span class="o">.</span><span class="n">interactive</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">plot_distribution</span><span class="p">(</span><span class="n">dice_rolls</span><span class="p">[:</span><span class="n">n</span><span class="p">]),</span><span class="n">n</span><span class="o">=</span><span class="n">n_widget</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>A distribution is called a <em>uniform distribution</em> if all its distinct outcomes have the same probability of occuring, i.e.,</p>
<div class="math notranslate nohighlight">
\[ p_i = \frac{1}{|\mathcal{S}|}\kern1em  \text{for all }i\in \mathcal{S},  \]</div>
<p>where <span class="math notranslate nohighlight">\(|\mathcal{S}|\)</span> is the mathematical notation to denote the size of the set <span class="math notranslate nohighlight">\(\mathcal{S}\)</span>.</p>
<p><strong>Exercise</strong> Define a function <code class="docutils literal notranslate"><span class="pre">uniform</span></code> that</p>
<ul class="simple">
<li><p>takes a sequence of possibly duplicate outcomes, and</p></li>
<li><p>returns a uniform distribution on the distinct outcomes.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">uniform</span><span class="p">(</span><span class="n">outcomes</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Returns the uniform distribution (dict) over distinct items in outcomes.&#39;&#39;&#39;</span>
    <span class="c1"># YOUR CODE HERE</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># tests</span>
<span class="k">assert</span> <span class="n">uniform</span><span class="p">(</span><span class="s1">&#39;HT&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="p">{</span><span class="s1">&#39;H&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">}</span>
<span class="k">assert</span> <span class="n">uniform</span><span class="p">(</span><span class="s1">&#39;HTH&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="p">{</span><span class="s1">&#39;H&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">}</span>
<span class="n">fair_dice_dist</span> <span class="o">=</span> <span class="n">uniform</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">7</span><span class="p">))</span>
<span class="k">assert</span> <span class="nb">all</span><span class="p">(</span>
    <span class="n">math</span><span class="o">.</span><span class="n">isclose</span><span class="p">(</span><span class="n">fair_dice_dist</span><span class="p">[</span><span class="n">k</span><span class="p">],</span> <span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="p">{</span>
        <span class="mi">1</span><span class="p">:</span> <span class="mf">0.16666666666666666</span><span class="p">,</span>
        <span class="mi">2</span><span class="p">:</span> <span class="mf">0.16666666666666666</span><span class="p">,</span>
        <span class="mi">3</span><span class="p">:</span> <span class="mf">0.16666666666666666</span><span class="p">,</span>
        <span class="mi">4</span><span class="p">:</span> <span class="mf">0.16666666666666666</span><span class="p">,</span>
        <span class="mi">5</span><span class="p">:</span> <span class="mf">0.16666666666666666</span><span class="p">,</span>
        <span class="mi">6</span><span class="p">:</span> <span class="mf">0.16666666666666666</span>
    <span class="p">}</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
</pre></div>
</div>
</div>
</div>
<p><strong>What is the entropy for uniform distributions?</strong></p>
<p>By definition,</p>
<div class="math notranslate nohighlight">
\[\begin{split} \begin{aligned} H(\mathbf{p}) &amp;:= \sum_{i\in \mathcal{S}} p_i \log_2 \tfrac{1}{p_i} \\ &amp;= \sum_{i\in \mathcal{S}} \frac{1}{|\mathcal{S}|} \log_2 |\mathcal{S}| = \log_2 |\mathcal{S}|  \kern1em \text{(bits)} \end{aligned}  \end{split}\]</div>
<p>This reduces to the formula you learned in Lecture 1 and Lab 1 regarding the number of bits required to represent a set. This is the maximum possible entropy for a given finite set of possible outcomes.</p>
<p>You can use this result to test whether you have implemented both <code class="docutils literal notranslate"><span class="pre">entropy</span></code> and <code class="docutils literal notranslate"><span class="pre">uniform</span></code> correctly:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">assert</span> <span class="nb">all</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">isclose</span><span class="p">(</span><span class="n">entropy</span><span class="p">(</span><span class="n">uniform</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">))),</span> <span class="n">math</span><span class="o">.</span><span class="n">log2</span><span class="p">(</span><span class="n">n</span><span class="p">))</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">100</span><span class="p">))</span> 
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="joint-distribution-and-its-entropy">
<h4>Joint distribution and its entropy<a class="headerlink" href="#joint-distribution-and-its-entropy" title="Permalink to this headline">¶</a></h4>
<p>If we duplicate a sequence of outcomes multiple times, the total information content should remain unchanged, NOT doubled, because the duplicate contain the same information as the original. We will verify this fact by creating a <a class="reference external" href="https://en.wikipedia.org/wiki/Joint_probability_distribution">joint distribution</a></p>
<div class="math notranslate nohighlight">
\[\mathbf{p}=[p_{ij}]_{i\in \mathcal{S},j\in \mathcal{T}}\]</div>
<ul class="simple">
<li><p>where <span class="math notranslate nohighlight">\(\mathcal{S}\)</span> and <span class="math notranslate nohighlight">\(\mathcal{T}\)</span> are sets of outcomes; and</p></li>
<li><p><span class="math notranslate nohighlight">\(p_{ij}\)</span> is the chance we see outcomes <span class="math notranslate nohighlight">\(i\)</span> and <span class="math notranslate nohighlight">\(j\)</span> simultaneously.</p></li>
</ul>
<p>The subscript <span class="math notranslate nohighlight">\(ij\)</span> in <span class="math notranslate nohighlight">\(p_{ij}\)</span> denotes a tuple <span class="math notranslate nohighlight">\((i,j)\)</span>, NOT the multiplication <span class="math notranslate nohighlight">\(i\times j\)</span>. We also have</p>
<div class="math notranslate nohighlight">
\[\sum_{i\in \mathcal{S}} \sum_{j\in \mathcal{T}} p_{ij} = 1.\]</div>
<p><strong>Exercise</strong> Define a function <code class="docutils literal notranslate"><span class="pre">jointly_distribute</span></code> that</p>
<ul class="simple">
<li><p>takes two sequences <code class="docutils literal notranslate"><span class="pre">seq1</span></code> and <code class="docutils literal notranslate"><span class="pre">seq2</span></code> of outcomes with the same length, and</p></li>
<li><p>returns the joint distribution represented as a dictionary where each key-value pair has the key being a tuple <code class="docutils literal notranslate"><span class="pre">(i,j)</span></code> associated with the probability <span class="math notranslate nohighlight">\(p_{ij}\)</span> of seeing <code class="docutils literal notranslate"><span class="pre">(i,j)</span></code> in <code class="docutils literal notranslate"><span class="pre">zip(seq1,seq2)</span></code>.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">jointly_distribute</span><span class="p">(</span><span class="n">seq1</span><span class="p">,</span> <span class="n">seq2</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Returns the joint distribution of the tuple (i,j) of outcomes from zip(seq1,seq2).&#39;&#39;&#39;</span>
    <span class="c1"># YOUR CODE HERE</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># tests</span>
<span class="k">assert</span> <span class="n">jointly_distribute</span><span class="p">(</span><span class="s1">&#39;HT&#39;</span><span class="p">,</span> <span class="s1">&#39;HT&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="p">{(</span><span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="s1">&#39;H&#39;</span><span class="p">):</span> <span class="mf">0.5</span><span class="p">,</span> <span class="p">(</span><span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">):</span> <span class="mf">0.5</span><span class="p">}</span>
<span class="k">assert</span> <span class="n">jointly_distribute</span><span class="p">(</span><span class="s1">&#39;HHTT&#39;</span><span class="p">,</span> <span class="s1">&#39;HTHT&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="p">{</span>
    <span class="p">(</span><span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="s1">&#39;H&#39;</span><span class="p">):</span> <span class="mf">0.25</span><span class="p">,</span>
    <span class="p">(</span><span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">):</span> <span class="mf">0.25</span><span class="p">,</span>
    <span class="p">(</span><span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="s1">&#39;H&#39;</span><span class="p">):</span> <span class="mf">0.25</span><span class="p">,</span>
    <span class="p">(</span><span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">):</span> <span class="mf">0.25</span>
<span class="p">}</span>
<span class="n">coin_flips_duplicate_dist</span> <span class="o">=</span> <span class="p">{</span>
    <span class="p">(</span><span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">):</span> <span class="mf">0.5350000000000004</span><span class="p">,</span>
    <span class="p">(</span><span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="s1">&#39;H&#39;</span><span class="p">):</span> <span class="mf">0.4650000000000003</span>
<span class="p">}</span>
<span class="n">coin_flips_duplicate_ans</span> <span class="o">=</span> <span class="n">jointly_distribute</span><span class="p">(</span><span class="n">coin_flips</span><span class="p">,</span> <span class="n">coin_flips</span><span class="p">)</span>
<span class="k">assert</span> <span class="nb">all</span><span class="p">(</span>
    <span class="n">math</span><span class="o">.</span><span class="n">isclose</span><span class="p">(</span><span class="n">coin_flips_duplicate_ans</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">pi</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">pi</span> <span class="ow">in</span> <span class="n">coin_flips_duplicate_dist</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
</pre></div>
</div>
</div>
</div>
<p>If you have implemented <code class="docutils literal notranslate"><span class="pre">entropy</span></code> and <code class="docutils literal notranslate"><span class="pre">jointly_distribute</span></code> correctly, you can verify that duplicating a sequence will give the same entropy.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">assert</span> <span class="n">math</span><span class="o">.</span><span class="n">isclose</span><span class="p">(</span><span class="n">entropy</span><span class="p">(</span><span class="n">jointly_distribute</span><span class="p">(</span><span class="n">coin_flips</span><span class="p">,</span><span class="n">coin_flips</span><span class="p">)),</span> <span class="n">entropy</span><span class="p">(</span><span class="n">distribute</span><span class="p">(</span><span class="n">coin_flips</span><span class="p">)))</span>
<span class="k">assert</span> <span class="n">math</span><span class="o">.</span><span class="n">isclose</span><span class="p">(</span><span class="n">entropy</span><span class="p">(</span><span class="n">jointly_distribute</span><span class="p">(</span><span class="n">dice_rolls</span><span class="p">,</span><span class="n">dice_rolls</span><span class="p">)),</span> <span class="n">entropy</span><span class="p">(</span><span class="n">distribute</span><span class="p">(</span><span class="n">dice_rolls</span><span class="p">)))</span>
</pre></div>
</div>
</div>
</div>
<p>However, for two sequences generated independently, the joint entropy is roughly the sum of the individual entropies.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">coin_flips_entropy</span> <span class="o">=</span> <span class="n">entropy</span><span class="p">(</span><span class="n">distribute</span><span class="p">(</span><span class="n">coin_flips</span><span class="p">))</span>
<span class="n">dice_rolls_entropy</span> <span class="o">=</span> <span class="n">entropy</span><span class="p">(</span><span class="n">distribute</span><span class="p">(</span><span class="n">dice_rolls</span><span class="p">))</span>
<span class="n">cf_dr_entropy</span> <span class="o">=</span> <span class="n">entropy</span><span class="p">(</span><span class="n">jointly_distribute</span><span class="p">(</span><span class="n">coin_flips</span><span class="p">,</span> <span class="n">dice_rolls</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;&#39;&#39;Entropy of coin flip: </span><span class="si">{</span><span class="n">coin_flips_entropy</span><span class="si">}</span><span class="s1"></span>
<span class="s1">Entropy of dice roll: </span><span class="si">{</span><span class="n">dice_rolls_entropy</span><span class="si">}</span><span class="s1"></span>
<span class="s1">Sum of the above entropies: </span><span class="si">{</span><span class="n">coin_flips_entropy</span> <span class="o">+</span> <span class="n">dice_rolls_entropy</span><span class="si">}</span><span class="s1"></span>
<span class="s1">Joint entropy: </span><span class="si">{</span><span class="n">cf_dr_entropy</span><span class="si">}</span><span class="s1">&#39;&#39;&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="conditional-distribution-and-entropy">
<h4>Conditional distribution and entropy<a class="headerlink" href="#conditional-distribution-and-entropy" title="Permalink to this headline">¶</a></h4>
<p>Mathematically, we denote a <a class="reference external" href="https://en.wikipedia.org/wiki/Conditional_probability_distribution">conditional distribution</a> as <span class="math notranslate nohighlight">\(\mathbf{q}:=[q_{j|i}]_{i\in \mathcal{S}, j\in \mathcal{T}}\)</span>, where</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(\mathcal{S}\)</span> and <span class="math notranslate nohighlight">\(\mathcal{T}\)</span> are two sets of distinct outcomes, and</p></li>
<li><p><span class="math notranslate nohighlight">\(q_{j|i}\)</span> denotes the probability (chance) of seeing outcome <span class="math notranslate nohighlight">\(j\)</span> given the condition that outcome <span class="math notranslate nohighlight">\(i\)</span> is observed.</p></li>
</ul>
<p>For <span class="math notranslate nohighlight">\(\mathbf{q}\)</span> to be a valid distribution, the probabilities <span class="math notranslate nohighlight">\(q_{j|i}\)</span>’s have to sum to <span class="math notranslate nohighlight">\(1\)</span> for every <span class="math notranslate nohighlight">\(i\)</span>, i.e.,</p>
<div class="math notranslate nohighlight">
\[\sum_{j\in \mathcal{T}} q_{j|i} = 1 \kern1em \text{for all }i\in \mathcal{S} \]</div>
<p>For example, suppose we want to compute the distribution of coin flips given dice rolls, then the following assign <code class="docutils literal notranslate"><span class="pre">q_H_1</span></code> and <code class="docutils literal notranslate"><span class="pre">q_T_1</span></code> to the values <span class="math notranslate nohighlight">\(q_{H|1}\)</span> and <span class="math notranslate nohighlight">\(q_{T|1}\)</span> respectively:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">coin_flips_1</span> <span class="o">=</span> <span class="p">[</span><span class="n">j</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">dice_rolls</span><span class="p">,</span> <span class="n">coin_flips</span><span class="p">)</span> <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">1</span><span class="p">]</span>
<span class="n">q_H_1</span> <span class="o">=</span> <span class="n">coin_flips_1</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s1">&#39;H&#39;</span><span class="p">)</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">coin_flips_1</span><span class="p">)</span>
<span class="n">q_T_1</span> <span class="o">=</span> <span class="n">coin_flips_1</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s1">&#39;T&#39;</span><span class="p">)</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">coin_flips_1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Coin flips given dice roll is 1:&#39;</span><span class="p">,</span> <span class="n">coin_flips_1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Distribution of coin flip given dice roll is 1: {{ &quot;H&quot;: </span><span class="si">{}</span><span class="s1">, &quot;T&quot;: </span><span class="si">{}</span><span class="s1">}}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">q_H_1</span><span class="p">,</span> <span class="n">q_T_1</span><span class="p">))</span>
<span class="k">assert</span> <span class="n">math</span><span class="o">.</span><span class="n">isclose</span><span class="p">(</span><span class="n">q_H_1</span> <span class="o">+</span> <span class="n">q_T_1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Note that <code class="docutils literal notranslate"><span class="pre">q_H_1</span> <span class="pre">+</span> <span class="pre">q_T_1</span></code> is 1 as expected. Similarly, we can assign <code class="docutils literal notranslate"><span class="pre">q_H_2</span></code> and <code class="docutils literal notranslate"><span class="pre">q_T_2</span></code> to the values <span class="math notranslate nohighlight">\(q_{H|2}\)</span> and <span class="math notranslate nohighlight">\(q_{T|2}\)</span> respectively.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">coin_flips_2</span> <span class="o">=</span> <span class="p">[</span><span class="n">j</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">dice_rolls</span><span class="p">,</span> <span class="n">coin_flips</span><span class="p">)</span> <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">2</span><span class="p">]</span>
<span class="n">q_H_2</span> <span class="o">=</span> <span class="n">coin_flips_2</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s1">&#39;H&#39;</span><span class="p">)</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">coin_flips_2</span><span class="p">)</span>
<span class="n">q_T_2</span> <span class="o">=</span> <span class="n">coin_flips_2</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s1">&#39;T&#39;</span><span class="p">)</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">coin_flips_2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Coin flips given dice roll is 2:&#39;</span><span class="p">,</span> <span class="n">coin_flips_2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Distribution of coin flip given dice roll is 2: {{ &quot;H&quot;: </span><span class="si">{}</span><span class="s1">, &quot;T&quot;: </span><span class="si">{}</span><span class="s1">}}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">q_H_2</span><span class="p">,</span> <span class="n">q_T_2</span><span class="p">))</span>
<span class="k">assert</span> <span class="n">math</span><span class="o">.</span><span class="n">isclose</span><span class="p">(</span><span class="n">q_H_2</span> <span class="o">+</span> <span class="n">q_T_2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Finally, we want to store the conditional distribution as a nested dictionary so that <code class="docutils literal notranslate"><span class="pre">q[i]</span></code> points to the distribution</p>
<div class="math notranslate nohighlight">
\[[q_{j|i}]_{j\in \mathcal{T}} \kern1em \text{for }i\in \mathcal{S}.\]</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">q</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="s1">&#39;HT&#39;</span><span class="p">,(</span><span class="n">q_H_1</span><span class="p">,</span> <span class="n">q_T_1</span><span class="p">)))</span>
<span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="s1">&#39;HT&#39;</span><span class="p">,(</span><span class="n">q_H_2</span><span class="p">,</span> <span class="n">q_T_2</span><span class="p">)))</span>
<span class="n">q</span>
</pre></div>
</div>
</div>
</div>
<p>Of course, the above dictionary is missing the entries for other possible outcomes of the dice rolls.</p>
<p><strong>Exercise</strong> Define a function <code class="docutils literal notranslate"><span class="pre">conditionally_distribute</span></code> that</p>
<ul class="simple">
<li><p>takes two sequences <code class="docutils literal notranslate"><span class="pre">seq1</span></code> and <code class="docutils literal notranslate"><span class="pre">seq2</span></code> of outcomes of the same length, and</p></li>
<li><p>returns the conditional distribution of <code class="docutils literal notranslate"><span class="pre">seq2</span></code> given <code class="docutils literal notranslate"><span class="pre">seq1</span></code> in the form of a nested dictionary efficiently without storing the unobserved outcomes.</p></li>
</ul>
<p>In the above example, <code class="docutils literal notranslate"><span class="pre">seq1</span></code> is <code class="docutils literal notranslate"><span class="pre">dice_rolls</span></code> while <code class="docutils literal notranslate"><span class="pre">seq2</span></code> is <code class="docutils literal notranslate"><span class="pre">coin_flips</span></code>.</p>
<p><em>Hint:</em> For an efficient implementation without traversing the input sequences too many times, consider using the following solution template and the <code class="docutils literal notranslate"><span class="pre">setdefault</span></code> method.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">conditionally_distribute</span><span class="p">(</span><span class="n">seq1</span><span class="p">,</span> <span class="n">seq2</span><span class="p">):</span>
    <span class="n">q</span><span class="p">,</span> <span class="n">count</span> <span class="o">=</span> <span class="p">{},</span> <span class="p">{}</span>  <span class="c1"># NOT q = count = {}</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">seq1</span><span class="p">:</span>
        <span class="n">count</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">count</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">seq1</span><span class="p">,</span> <span class="n">seq2</span><span class="p">):</span>
        <span class="n">q</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">____________________________________________________</span>
    <span class="k">return</span> <span class="n">q</span>
</pre></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">conditionally_distribute</span><span class="p">(</span><span class="n">seq1</span><span class="p">,</span> <span class="n">seq2</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Returns the conditional distribution q of seq2 given seq1 such that</span>
<span class="sd">    q[i] is a dictionary for observed outcome i in seq1 and</span>
<span class="sd">    q[i][j] is the probability of observing j in seq2 given the </span>
<span class="sd">    corresponding outcome in seq1 is i.&#39;&#39;&#39;</span>
    <span class="c1"># YOUR CODE HERE</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># tests</span>
<span class="n">cf_given_dr_dist</span> <span class="o">=</span> <span class="p">{</span>
    <span class="mi">4</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;T&#39;</span><span class="p">:</span> <span class="mf">0.5588235294117647</span><span class="p">,</span>
        <span class="s1">&#39;H&#39;</span><span class="p">:</span> <span class="mf">0.4411764705882353</span>
    <span class="p">},</span>
    <span class="mi">1</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;T&#39;</span><span class="p">:</span> <span class="mf">0.46511627906976744</span><span class="p">,</span>
        <span class="s1">&#39;H&#39;</span><span class="p">:</span> <span class="mf">0.5348837209302325</span>
    <span class="p">},</span>
    <span class="mi">3</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;H&#39;</span><span class="p">:</span> <span class="mf">0.5135135135135135</span><span class="p">,</span>
        <span class="s1">&#39;T&#39;</span><span class="p">:</span> <span class="mf">0.4864864864864865</span>
    <span class="p">},</span>
    <span class="mi">6</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;H&#39;</span><span class="p">:</span> <span class="mf">0.5454545454545454</span><span class="p">,</span>
        <span class="s1">&#39;T&#39;</span><span class="p">:</span> <span class="mf">0.45454545454545453</span>
    <span class="p">},</span>
    <span class="mi">2</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;T&#39;</span><span class="p">:</span> <span class="mf">0.7586206896551724</span><span class="p">,</span>
        <span class="s1">&#39;H&#39;</span><span class="p">:</span> <span class="mf">0.2413793103448276</span>
    <span class="p">},</span>
    <span class="mi">5</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;T&#39;</span><span class="p">:</span> <span class="mf">0.5416666666666666</span><span class="p">,</span>
        <span class="s1">&#39;H&#39;</span><span class="p">:</span> <span class="mf">0.4583333333333333</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="n">cf_given_dr_ans</span> <span class="o">=</span> <span class="n">conditionally_distribute</span><span class="p">(</span><span class="n">dice_rolls</span><span class="p">,</span> <span class="n">coin_flips</span><span class="p">)</span>
<span class="k">assert</span> <span class="nb">all</span><span class="p">(</span>
    <span class="n">math</span><span class="o">.</span><span class="n">isclose</span><span class="p">(</span><span class="n">cf_given_dr_ans</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">],</span> <span class="n">v</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">cf_given_dr_dist</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">for</span> <span class="n">j</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">d</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
</pre></div>
</div>
</div>
</div>
<p>The <a class="reference external" href="https://en.wikipedia.org/wiki/Conditional_entropy"><em>conditional entropy</em></a> is defined for a conditional distribution <span class="math notranslate nohighlight">\(\mathbf{q}=[q_{j|i}]_{i\in \mathcal{S},j\in\mathcal{T}}\)</span> and a distribution <span class="math notranslate nohighlight">\(\mathbf{p}=[p_i]_{i\in \mathcal{S}}\)</span> as follows:</p>
<div class="math notranslate nohighlight">
\[ H(\mathbf{q}|\mathbf{p}) = \sum_{i\in \mathcal{S}} p_i \sum_{j\in \mathcal{T}} q_{j|i} \log_2 \frac{1}{q_{j|i}}, \]</div>
<p>where, by convention,</p>
<ul class="simple">
<li><p>the summand of the outer sum is 0 if <span class="math notranslate nohighlight">\(p_i=0\)</span> (regardless of the values of <span class="math notranslate nohighlight">\(q_{j|i}\)</span>), and</p></li>
<li><p>the summand of the inner sum is 0 if <span class="math notranslate nohighlight">\(q_{j|i}=0\)</span>.</p></li>
</ul>
<p><strong>Exercise</strong> Define a function <code class="docutils literal notranslate"><span class="pre">conditional_entropy</span></code> that</p>
<ul class="simple">
<li><p>takes</p>
<ul>
<li><p>a distribution p as its first argument,</p></li>
<li><p>a conditional distribution q as its second argument, and</p></li>
</ul>
</li>
<li><p>returns the conditional entropy <span class="math notranslate nohighlight">\(H(\mathbf{q}|\mathbf{p})\)</span>.</p></li>
</ul>
<p>Handle the cases when <span class="math notranslate nohighlight">\(p_i=0\)</span> and <span class="math notranslate nohighlight">\(q_{j|i}=0\)</span> as well.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># YOUR CODE HERE</span>
<span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># tests</span>
<span class="n">cf_given_dr_dist</span> <span class="o">=</span> <span class="p">{</span>
    <span class="mi">4</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;T&#39;</span><span class="p">:</span> <span class="mf">0.5588235294117647</span><span class="p">,</span>
        <span class="s1">&#39;H&#39;</span><span class="p">:</span> <span class="mf">0.4411764705882353</span>
    <span class="p">},</span>
    <span class="mi">1</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;T&#39;</span><span class="p">:</span> <span class="mf">0.46511627906976744</span><span class="p">,</span>
        <span class="s1">&#39;H&#39;</span><span class="p">:</span> <span class="mf">0.5348837209302325</span>
    <span class="p">},</span>
    <span class="mi">3</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;H&#39;</span><span class="p">:</span> <span class="mf">0.5135135135135135</span><span class="p">,</span>
        <span class="s1">&#39;T&#39;</span><span class="p">:</span> <span class="mf">0.4864864864864865</span>
    <span class="p">},</span>
    <span class="mi">6</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;H&#39;</span><span class="p">:</span> <span class="mf">0.5454545454545454</span><span class="p">,</span>
        <span class="s1">&#39;T&#39;</span><span class="p">:</span> <span class="mf">0.45454545454545453</span>
    <span class="p">},</span>
    <span class="mi">2</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;T&#39;</span><span class="p">:</span> <span class="mf">0.7586206896551724</span><span class="p">,</span>
        <span class="s1">&#39;H&#39;</span><span class="p">:</span> <span class="mf">0.2413793103448276</span>
    <span class="p">},</span>
    <span class="mi">5</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;T&#39;</span><span class="p">:</span> <span class="mf">0.5416666666666666</span><span class="p">,</span>
        <span class="s1">&#39;H&#39;</span><span class="p">:</span> <span class="mf">0.4583333333333333</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="k">assert</span> <span class="n">conditional_entropy</span><span class="p">({</span><span class="s1">&#39;H&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">},{</span><span class="s1">&#39;H&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;H&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">},</span> <span class="s1">&#39;T&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;H&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">}})</span> <span class="o">==</span> <span class="mi">1</span>
<span class="k">assert</span> <span class="n">conditional_entropy</span><span class="p">({</span><span class="s1">&#39;H&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},{</span><span class="s1">&#39;H&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;H&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">},</span> <span class="s1">&#39;T&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;H&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">}})</span> <span class="o">==</span> <span class="mi">1</span>
<span class="k">assert</span> <span class="n">conditional_entropy</span><span class="p">({</span><span class="s1">&#39;H&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">},{</span><span class="s1">&#39;H&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;H&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">},</span> <span class="s1">&#39;T&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;H&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}})</span> <span class="o">==</span> <span class="mi">0</span>
<span class="k">assert</span> <span class="n">conditional_entropy</span><span class="p">({</span><span class="s1">&#39;H&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">},{</span><span class="s1">&#39;H&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;H&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">},</span> <span class="s1">&#39;T&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;H&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">}})</span> <span class="o">==</span> <span class="mf">0.5</span>
<span class="k">assert</span> <span class="n">math</span><span class="o">.</span><span class="n">isclose</span><span class="p">(</span><span class="n">conditional_entropy</span><span class="p">(</span><span class="n">dice_rolls_dist</span><span class="p">,</span> <span class="n">cf_given_dr_dist</span><span class="p">),</span> <span class="mf">0.9664712793722372</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>The joint probability <span class="math notranslate nohighlight">\(p_{ij}\)</span> over <span class="math notranslate nohighlight">\(i\in \mathcal{S}\)</span> and <span class="math notranslate nohighlight">\(j\in \mathcal{T}\)</span> can be calculated as follows</p>
<div class="math notranslate nohighlight">
\[p_{ij} = p_{i} q_{j|i}\]</div>
<p>where <span class="math notranslate nohighlight">\(p_i\)</span> is the probability of <span class="math notranslate nohighlight">\(i\)</span> and <span class="math notranslate nohighlight">\(q_{j|i}\)</span> is the conditional probability of <span class="math notranslate nohighlight">\(j\)</span> given <span class="math notranslate nohighlight">\(i\)</span>.</p>
<p><strong>Exercise</strong> Define a function <code class="docutils literal notranslate"><span class="pre">joint_distribution</span></code> that</p>
<ul class="simple">
<li><p>takes the distribution <span class="math notranslate nohighlight">\(p\)</span> and conditional distribution <span class="math notranslate nohighlight">\(q\)</span> as arguments, and</p></li>
<li><p>returns their joint distribution.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">joint_distribution</span><span class="p">(</span><span class="n">p</span><span class="p">,</span><span class="n">q</span><span class="p">):</span>
    <span class="c1"># YOUR CODE HERE</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># tests</span>
<span class="k">assert</span> <span class="n">joint_distribution</span><span class="p">({</span><span class="s1">&#39;H&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">},{</span><span class="s1">&#39;H&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;H&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">},</span> <span class="s1">&#39;T&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;H&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">}})</span> <span class="o">==</span> <span class="p">{(</span><span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="s1">&#39;H&#39;</span><span class="p">):</span> <span class="mf">0.25</span><span class="p">,</span> <span class="p">(</span><span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">):</span> <span class="mf">0.25</span><span class="p">,</span> <span class="p">(</span><span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="s1">&#39;H&#39;</span><span class="p">):</span> <span class="mf">0.25</span><span class="p">,</span> <span class="p">(</span><span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">):</span> <span class="mf">0.25</span><span class="p">}</span>
<span class="k">assert</span> <span class="n">joint_distribution</span><span class="p">({</span><span class="s1">&#39;H&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},{</span><span class="s1">&#39;H&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;H&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">},</span> <span class="s1">&#39;T&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;H&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">}})</span> <span class="o">==</span> <span class="p">{(</span><span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="s1">&#39;H&#39;</span><span class="p">):</span> <span class="mf">0.0</span><span class="p">,</span> <span class="p">(</span><span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">):</span> <span class="mf">0.0</span><span class="p">,</span> <span class="p">(</span><span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="s1">&#39;H&#39;</span><span class="p">):</span> <span class="mf">0.5</span><span class="p">,</span> <span class="p">(</span><span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">):</span> <span class="mf">0.5</span><span class="p">}</span>
<span class="k">assert</span> <span class="n">joint_distribution</span><span class="p">({</span><span class="s1">&#39;H&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">},{</span><span class="s1">&#39;H&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;H&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">},</span> <span class="s1">&#39;T&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;H&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}})</span> <span class="o">==</span> <span class="p">{(</span><span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="s1">&#39;H&#39;</span><span class="p">):</span> <span class="mf">0.5</span><span class="p">,</span> <span class="p">(</span><span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">):</span> <span class="mf">0.0</span><span class="p">,</span> <span class="p">(</span><span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="s1">&#39;H&#39;</span><span class="p">):</span> <span class="mf">0.0</span><span class="p">,</span> <span class="p">(</span><span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">):</span> <span class="mf">0.5</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;H&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<p>Finally, a fundamental information identity, called the <a class="reference external" href="https://en.wikipedia.org/wiki/Conditional_entropy#Chain_rule"><em>chain rule</em></a>, is that the joint entropy is equal to</p>
<div class="math notranslate nohighlight">
\[ H(\mathbf{p}) + H(\mathbf{q}|\mathbf{p})\]</div>
<p>for any distribution <span class="math notranslate nohighlight">\(\mathbf{p}\)</span> over outcome <span class="math notranslate nohighlight">\(i\in \mathcal{S}\)</span> and conditional distribution <span class="math notranslate nohighlight">\(\mathbf{q}\)</span> over outcome <span class="math notranslate nohighlight">\(j\in \mathcal{T}\)</span> given outcome <span class="math notranslate nohighlight">\(i \in \mathcal{S}\)</span>.</p>
<p>If you have implemented <code class="docutils literal notranslate"><span class="pre">jointly_distribute</span></code>, <code class="docutils literal notranslate"><span class="pre">conditionally_distribute</span></code>, <code class="docutils literal notranslate"><span class="pre">entropy</span></code>, and <code class="docutils literal notranslate"><span class="pre">conditional_entropy</span></code> correctly, we can verify the identity as follows.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">validate_chain_rule</span><span class="p">(</span><span class="n">seq1</span><span class="p">,</span><span class="n">seq2</span><span class="p">):</span>
    <span class="n">p</span> <span class="o">=</span> <span class="n">distribute</span><span class="p">(</span><span class="n">seq1</span><span class="p">)</span>
    <span class="n">q</span> <span class="o">=</span> <span class="n">conditionally_distribute</span><span class="p">(</span><span class="n">seq1</span><span class="p">,</span><span class="n">seq2</span><span class="p">)</span>
    <span class="n">pq</span> <span class="o">=</span> <span class="n">jointly_distribute</span><span class="p">(</span><span class="n">seq1</span><span class="p">,</span><span class="n">seq2</span><span class="p">)</span>
    <span class="n">H_pq</span> <span class="o">=</span> <span class="n">entropy</span><span class="p">(</span><span class="n">pq</span><span class="p">)</span>
    <span class="n">H_p</span> <span class="o">=</span> <span class="n">entropy</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
    <span class="n">H_q_p</span> <span class="o">=</span> <span class="n">conditional_entropy</span><span class="p">(</span><span class="n">p</span><span class="p">,</span><span class="n">q</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;&#39;&#39;Entropy of seq1: </span><span class="si">{</span><span class="n">H_p</span><span class="si">}</span><span class="s1"></span>
<span class="s1">Conditional entropy of seq2 given seq1: </span><span class="si">{</span><span class="n">H_q_p</span><span class="si">}</span><span class="s1"></span>
<span class="s1">Sum of the above entropies: </span><span class="si">{</span><span class="n">H_p</span> <span class="o">+</span> <span class="n">H_q_p</span><span class="si">}</span><span class="s1"></span>
<span class="s1">Joint entropy: </span><span class="si">{</span><span class="n">H_pq</span><span class="si">}</span><span class="s1">&#39;&#39;&#39;</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">math</span><span class="o">.</span><span class="n">isclose</span><span class="p">(</span><span class="n">H_pq</span><span class="p">,</span><span class="n">H_p</span> <span class="o">+</span> <span class="n">H_q_p</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">validate_chain_rule</span><span class="p">(</span><span class="n">coin_flips</span><span class="p">,</span><span class="n">coin_flips</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">validate_chain_rule</span><span class="p">(</span><span class="n">dice_rolls</span><span class="p">,</span><span class="n">coin_flips</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<span id="document-Lab9/Monte Carlo and Root Finding"></span><div class="section" id="monte-carlo-and-root-finding">
<h3>Monte Carlo and Root Finding<a class="headerlink" href="#monte-carlo-and-root-finding" title="Permalink to this headline">¶</a></h3>
<div class="section" id="the-monty-hall-game">
<h4>The Monty-Hall Game<a class="headerlink" href="#the-monty-hall-game" title="Permalink to this headline">¶</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%html</span>
<span class="p">&lt;</span><span class="nt">iframe</span> <span class="na">width</span><span class="o">=</span><span class="s">&quot;912&quot;</span> <span class="na">height</span><span class="o">=</span><span class="s">&quot;513&quot;</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;https://www.youtube.com/embed/rn1y-HrmA5c?end=23&quot;</span> <span class="na">frameborder</span><span class="o">=</span><span class="s">&quot;0&quot;</span> <span class="na">allow</span><span class="o">=</span><span class="s">&quot;accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture&quot;</span> <span class="na">allowfullscreen</span><span class="p">&gt;&lt;/</span><span class="nt">iframe</span><span class="p">&gt;</span>
</pre></div>
</div>
</div>
</div>
<p><strong>Is it better to change the initial pick? What is the chance of winning if we change?</strong></p>
<p><em>Hint:</em> There are two doors to choose from, and only one of the doors has treasure behind.</p>
<p>Let’s use the following program to play the game a couple of times.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">random</span>


<span class="k">def</span> <span class="nf">play_monty_hall</span><span class="p">(</span><span class="n">num_of_doors</span><span class="o">=</span><span class="mi">3</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Main function to run the Monty Hall game.&#39;&#39;&#39;</span>
    <span class="n">doors</span> <span class="o">=</span> <span class="p">{</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_of_doors</span><span class="p">)}</span>
    <span class="n">door_with_treasure</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">doors</span><span class="p">,</span> <span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

    <span class="c1"># Input initial pick of the door.</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">initial_pick</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Pick a door from </span><span class="si">{</span><span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">doors</span><span class="p">))</span><span class="si">}</span><span class="s1">: &#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">initial_pick</span> <span class="ow">in</span> <span class="n">doors</span><span class="p">:</span> <span class="k">break</span>

    <span class="c1"># Open all but one other door. Opened door must have nothing.</span>
    <span class="n">doors_to_open</span> <span class="o">=</span> <span class="n">doors</span> <span class="o">-</span> <span class="p">{</span><span class="n">initial_pick</span><span class="p">,</span> <span class="n">door_with_treasure</span><span class="p">}</span>
    <span class="n">other_door</span> <span class="o">=</span> <span class="n">door_with_treasure</span> <span class="k">if</span> <span class="n">initial_pick</span> <span class="o">!=</span> <span class="n">door_with_treasure</span> \
                                    <span class="k">else</span> <span class="n">doors_to_open</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Door(s) with nothing behind:&#39;</span><span class="p">,</span> <span class="o">*</span><span class="n">doors_to_open</span><span class="p">)</span>

    <span class="c1"># Allow player to change the initial pick the other (unopened) door.</span>
    <span class="n">change_pick</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span>
        <span class="sa">f</span><span class="s1">&#39;Would you like to change your choice to </span><span class="si">{</span><span class="n">other_door</span><span class="si">}</span><span class="s1">? [y/N] &#39;</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">(</span>
        <span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;y&#39;</span>

    <span class="c1"># Check and recording winning.</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">change_pick</span><span class="p">:</span>
        <span class="n">mh_stats</span><span class="p">[</span><span class="s1">&#39;# no change&#39;</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="n">door_with_treasure</span> <span class="o">==</span> <span class="n">initial_pick</span><span class="p">:</span>
            <span class="n">mh_stats</span><span class="p">[</span><span class="s1">&#39;# win without changing&#39;</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">return</span> <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;You won!&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">mh_stats</span><span class="p">[</span><span class="s1">&#39;# change&#39;</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="n">door_with_treasure</span> <span class="o">==</span> <span class="n">other_door</span><span class="p">:</span>
            <span class="n">mh_stats</span><span class="p">[</span><span class="s1">&#39;# win by changing&#39;</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">return</span> <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;You won!&#39;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;You lost. The door with treasure is </span><span class="si">{</span><span class="n">door_with_treasure</span><span class="si">}</span><span class="s1">.&#39;</span><span class="p">)</span>

       
<span class="n">mh_stats</span> <span class="o">=</span> <span class="nb">dict</span><span class="o">.</span><span class="n">fromkeys</span><span class="p">((</span><span class="s1">&#39;# win by changing&#39;</span><span class="p">,</span>
                          <span class="s1">&#39;# win without changing&#39;</span><span class="p">,</span>
                          <span class="s1">&#39;# change&#39;</span><span class="p">,</span>
                          <span class="s1">&#39;# no change&#39;</span><span class="p">),</span><span class="mi">0</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">monty_hall_statistics</span><span class="p">():</span>
    <span class="sd">&#39;&#39;&#39;Print the statistics of the Monty Hall games.&#39;&#39;&#39;</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;-&#39;</span> <span class="o">*</span> <span class="mi">30</span><span class="p">,</span> <span class="s1">&#39;Statistics&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span> <span class="o">*</span> <span class="mi">30</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">mh_stats</span><span class="p">[</span><span class="s1">&#39;# change&#39;</span><span class="p">]:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;% win by changing: </span><span class="se">\</span>
<span class="s2">        </span><span class="si">{</span><span class="n">mh_stats</span><span class="p">[</span><span class="s1">&#39;# win by changing&#39;</span><span class="p">]</span> <span class="o">/</span> <span class="n">mh_stats</span><span class="p">[</span><span class="s1">&#39;# change&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">.0%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">mh_stats</span><span class="p">[</span><span class="s1">&#39;# no change&#39;</span><span class="p">]:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;% win without changing: </span><span class="se">\</span>
<span class="s2">        </span><span class="si">{</span><span class="n">mh_stats</span><span class="p">[</span><span class="s1">&#39;# win without changing&#39;</span><span class="p">]</span><span class="o">/</span><span class="n">mh_stats</span><span class="p">[</span><span class="s1">&#39;# no change&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">.0%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">play_monty_hall</span><span class="p">()</span>
<span class="n">monty_hall_statistics</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>You may also <a class="reference external" href="https://math.ucsd.edu/~crypto/Monty/monty.html">play the game online</a>.</p>
<p>To get a good estimate of the chance of winning, we need to play the game many times.<br />
We can write a Monty-Carlo simulation instead.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Do not change any variables defined here, or some of the tests may fail.</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
np.random.randint<span class="o">?</span>

<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>  <span class="c1"># for reproducible result</span>
<span class="n">num_of_games</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mf">10e7</span><span class="p">)</span>
<span class="n">door_with_treasure</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">num_of_games</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">)</span>
<span class="n">initial_pick</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">num_of_games</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="s1">&#39;Door with treasure:&#39;</span><span class="si">:</span><span class="s2">&gt;19</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="o">*</span><span class="n">door_with_treasure</span><span class="p">[:</span><span class="mi">10</span><span class="p">],</span><span class="s1">&#39;...&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="s1">&#39;Initial pick:&#39;</span><span class="si">:</span><span class="s2">&gt;19</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="o">*</span><span class="n">initial_pick</span><span class="p">[:</span><span class="mi">10</span><span class="p">],</span><span class="s1">&#39;...&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">door_with_treasure</span></code> stores as 8-bit unsigned integers <code class="docutils literal notranslate"><span class="pre">uint8</span></code> the door numbers randomly chosen from <span class="math notranslate nohighlight">\(\{1, 2, 3\}\)</span> as the doors with treasure behind for a number <code class="docutils literal notranslate"><span class="pre">num_of_games</span></code> of Monty-Hall games.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">initial_pick</span></code> stores the initial choices for the different games.</p></li>
</ul>
<p>If players do not change their initial pick, the chance of winning can be estimated as follows:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">estimate_chance_of_winning_without_change</span><span class="p">(</span><span class="n">door_with_treasure</span><span class="p">,</span>
                                              <span class="n">initial_pick</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Estimate the chance of winning the Monty Hall game without changing </span>
<span class="sd">    the initial pick using the Monte Carlo simulation of door_with_treasure </span>
<span class="sd">    and initial_pick.&#39;&#39;&#39;</span>
    <span class="n">count_of_win</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">door_with_treasure</span><span class="p">,</span> <span class="n">initial_pick</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="n">y</span><span class="p">:</span> <span class="n">count_of_win</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">return</span> <span class="n">count_of_win</span> <span class="o">/</span> <span class="n">n</span>


<span class="n">n</span> <span class="o">=</span> <span class="n">num_of_games</span> <span class="o">//</span> <span class="mi">100</span>
<span class="n">estimate_chance_of_winning_without_change</span><span class="p">(</span><span class="n">door_with_treasure</span><span class="p">[:</span><span class="n">n</span><span class="p">],</span>
                                          <span class="n">initial_pick</span><span class="p">[:</span><span class="n">n</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<p>However, the above code is inefficient and takes a long time to run. You may try running it on the entire sequences of <code class="docutils literal notranslate"><span class="pre">door_with_treasure</span></code> and <code class="docutils literal notranslate"><span class="pre">initial_pick</span></code> but <strong>DO NOT</strong> put the code in your notebook, as jupyterhub refuses to autograde notebook that take too much time or memory to run.</p>
<p>A simpler and also more efficient solution with well over 100 times speed up is as follows:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">estimate_chance_of_winning_without_change</span><span class="p">(</span><span class="n">door_with_treasure</span><span class="p">,</span>
                                              <span class="n">initial_pick</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Estimate the chance of winning the Monty Hall game without changing </span>
<span class="sd">    the initial pick using the Monte Carlo simulation of door_with_treasure </span>
<span class="sd">    and initial_pick.&#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">door_with_treasure</span> <span class="o">==</span> <span class="n">initial_pick</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

<span class="n">estimate_chance_of_winning_without_change</span><span class="p">(</span><span class="n">door_with_treasure</span><span class="p">,</span>
                                          <span class="n">initial_pick</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>The code uses the method <code class="docutils literal notranslate"><span class="pre">mean</span></code> of <code class="docutils literal notranslate"><span class="pre">ndarray</span></code> that computes the mean of the <code class="docutils literal notranslate"><span class="pre">numpy</span></code> array.<br />
In computing the mean, <code class="docutils literal notranslate"><span class="pre">True</span></code> and <code class="docutils literal notranslate"><span class="pre">False</span></code> are regarded as <code class="docutils literal notranslate"><span class="pre">1</span></code> and <code class="docutils literal notranslate"><span class="pre">0</span></code> respectively, as illustrated below.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s1"> + </span><span class="si">{</span><span class="n">j</span><span class="si">}</span><span class="s1"> == </span><span class="si">{</span><span class="n">i</span> <span class="o">+</span> <span class="n">j</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p><strong>Exercise</strong> Define the function <code class="docutils literal notranslate"><span class="pre">estimate_chance_of_winning_by_change</span></code> same as <code class="docutils literal notranslate"><span class="pre">estimate_chance_of_winning_without_change</span></code> above but returns the estimate of the chance of winning by changing the initial choice instead. Again, <em>implement efficiently or jupyterhub may refuse to autograde your entire notebook</em>.</p>
<p><em>Hint:</em> Since there are only two unopened doors at the end of each game, a player will win by changing the initial pick if the initially picked door is not the door with treasure behind.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">estimate_chance_of_winning_by_change</span><span class="p">(</span><span class="n">door_with_treasure</span><span class="p">,</span>
                                              <span class="n">initial_pick</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Estimate the chance of winning the Monty Hall game by changing </span>
<span class="sd">    the initial pick using the Monte Carlo simulation of door_with_treasure </span>
<span class="sd">    and initial_pick.&#39;&#39;&#39;</span>
    <span class="c1"># YOUR CODE HERE</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># tests</span>
<span class="k">assert</span> <span class="n">np</span><span class="o">.</span><span class="n">isclose</span><span class="p">(</span>
    <span class="n">estimate_chance_of_winning_by_change</span><span class="p">(</span><span class="n">door_with_treasure</span><span class="p">[:</span><span class="mi">10</span><span class="p">],</span>
                                         <span class="n">initial_pick</span><span class="p">[:</span><span class="mi">10</span><span class="p">]),</span> <span class="mf">0.7</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="solving-a-3-by-3-system-of-linear-equations">
<h4>Solving a 3-by-3 system of linear equations<a class="headerlink" href="#solving-a-3-by-3-system-of-linear-equations" title="Permalink to this headline">¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">numpy</span></code> has a module <code class="docutils literal notranslate"><span class="pre">linalg</span></code> for linear algebra, and the module provides a function called <code class="docutils literal notranslate"><span class="pre">solve</span></code> that can solve a system of linear equations. For the example in the lecture</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{aligned}
2 x_0 + 2 x_1 &amp;= 1\\
2 x_1 &amp;= 1,
\end{aligned}
\end{split}\]</div>
<p>we can obtain the solution as follows:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>np.linalg.solve<span class="o">?</span>
<span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">2.</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">]])</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">1.</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">A</span><span class="p">,</span><span class="n">b</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>As explained in the lecture, the arguments <code class="docutils literal notranslate"><span class="pre">A</span></code> and <code class="docutils literal notranslate"><span class="pre">b</span></code> are obtained from the matrix form of the system of linear equations:</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\underbrace{
\begin{bmatrix}
2 &amp; 2\\
0 &amp; 2
\end{bmatrix}}_{\mathbf{A}}
\underbrace{
\begin{bmatrix}
x_0\\ x_1
\end{bmatrix}}_{\mathbf{x}}
= 
\underbrace{
\begin{bmatrix}
1 \\ 1
\end{bmatrix}
}_{\mathbf{b}}
\end{split}\]</div>
<p>However, the function returns an error when there is no unique solutions.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Case with infinitely many solution</span>
<span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">2.</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">]])</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">1.</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">A</span><span class="p">,</span><span class="n">b</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Case without solution</span>
<span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">2.</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">]])</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">1.</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">A</span><span class="p">,</span><span class="n">b</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>A unique solution does not exist if and only if the <a class="reference external" href="https://en.m.wikipedia.org/wiki/Determinant">determinant</a> of <span class="math notranslate nohighlight">\(\mathbf{A}\)</span> is <span class="math notranslate nohighlight">\(0\)</span>, in which case <span class="math notranslate nohighlight">\(\mathbf{A}\)</span> is called a singular matrix. For a <span class="math notranslate nohighlight">\(2\)</span>-by-<span class="math notranslate nohighlight">\(2\)</span> matrix, the determinant is defined as follows:</p>
<div class="math notranslate nohighlight">
\[\begin{split} 
\begin{aligned}
\operatorname{det}(A) &amp;:= \left| 
\begin{matrix}
a_{00} &amp; a_{01}\\
a_{10} &amp; a_{11}
\end{matrix}
\right|\\
&amp;= a_{00}\times a_{11} - a_{01}\times a_{10}.
\end{aligned}
\end{split}\]</div>
<p>For example, the first system has a unique solution because</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\left|
\begin{matrix}
2 &amp; 2\\
0 &amp; 2
\end{matrix}
\right|
= 2\times 2 - 2\times 0 = 4&gt;0.
\end{split}\]</div>
<p>The last two systems do not have unique solutions because</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\left|
\begin{matrix}
2 &amp; 2\\
2 &amp; 2
\end{matrix}
\right|
= 2\times 2 - 2\times 2 = 0.
\end{split}\]</div>
<p>We can use the function <code class="docutils literal notranslate"><span class="pre">det</span></code> from <code class="docutils literal notranslate"><span class="pre">np.linalg</span></code> to compute the determinant as follows:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>np.linalg.det<span class="o">?</span>
<span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">det</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">2.</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">]])),</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">det</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">2.</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">]]))</span>
</pre></div>
</div>
</div>
</div>
<p><strong>Exercise</strong> Use the <code class="docutils literal notranslate"><span class="pre">det</span></code> and <code class="docutils literal notranslate"><span class="pre">solve</span></code> functions to assign <code class="docutils literal notranslate"><span class="pre">x</span></code> to the <code class="docutils literal notranslate"><span class="pre">numpy</span></code> array storing the solution of the following linear system if the solution is unique else <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{aligned}
x_0 + 2 x_1 + 3x_2 &amp;= 14\\
2x_0 + x_1 + 2x_2 &amp;= 10\\
3 x_0 + 2x_1 + x_2 &amp;= 10.
\end{aligned}
\end{split}\]</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># YOUR CODE HERE</span>
<span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
<span class="n">x</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># tests</span>
<span class="c1"># As the main test must be hidden, you may want to verify your solution</span>
<span class="c1"># as explained in the lecture using matrix multiplication.</span>
<span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span> <span class="ow">and</span> <span class="n">x</span><span class="o">.</span><span class="n">shape</span> <span class="o">==</span> <span class="p">(</span><span class="mi">3</span><span class="p">,)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="solving-non-linear-equations">
<h4>Solving non-linear equations<a class="headerlink" href="#solving-non-linear-equations" title="Permalink to this headline">¶</a></h4>
<p>Suppose we want to solve:</p>
<div class="math notranslate nohighlight">
\[
f(x) = 0
\]</div>
<p>for some possibly non-linear real-valued function <span class="math notranslate nohighlight">\(f(x)\)</span> in one real-valued variable <span class="math notranslate nohighlight">\(x\)</span>. Quadratic equation with an <span class="math notranslate nohighlight">\(x^2\)</span> term is an example. The following is another example.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">f</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">*</span><span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">2.5</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axhline</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;gray&#39;</span><span class="p">,</span><span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;:&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;$x$&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;Plot of $f(x)=x(x-1)(x-2)$&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>While it is clear that the above function has three roots, namely, <span class="math notranslate nohighlight">\(x=0, 1, 2\)</span>, can we write a program to compute a root of any given continuous function <span class="math notranslate nohighlight">\(f\)</span>?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%html</span>
<span class="p">&lt;</span><span class="nt">iframe</span> <span class="na">width</span><span class="o">=</span><span class="s">&quot;912&quot;</span> <span class="na">height</span><span class="o">=</span><span class="s">&quot;513&quot;</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;https://www.youtube.com/embed/PXSLcEGkXkU&quot;</span> <span class="na">frameborder</span><span class="o">=</span><span class="s">&quot;0&quot;</span> <span class="na">allow</span><span class="o">=</span><span class="s">&quot;accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture&quot;</span> <span class="na">allowfullscreen</span><span class="p">&gt;&lt;/</span><span class="nt">iframe</span><span class="p">&gt;</span>
</pre></div>
</div>
</div>
</div>
<p>The following function <code class="docutils literal notranslate"><span class="pre">bisection</span></code></p>
<ul class="simple">
<li><p>takes as arguments</p>
<ul>
<li><p>a continuous function <code class="docutils literal notranslate"><span class="pre">f</span></code>,</p></li>
<li><p>two real values <code class="docutils literal notranslate"><span class="pre">a</span></code> and <code class="docutils literal notranslate"><span class="pre">b</span></code>,</p></li>
<li><p>a positive integer <code class="docutils literal notranslate"><span class="pre">n</span></code> indicating the maximum depth of the recursion, and</p></li>
</ul>
</li>
<li><p>returns a list <code class="docutils literal notranslate"><span class="pre">[xstart,</span> <span class="pre">xstop]</span></code> if the bisection succeeds in capturing a root in the interval <code class="docutils literal notranslate"><span class="pre">[xstart,</span> <span class="pre">xstop]</span></code> bounded by <code class="docutils literal notranslate"><span class="pre">a</span></code> and <code class="docutils literal notranslate"><span class="pre">b</span></code>, or else, returns a empty list <code class="docutils literal notranslate"><span class="pre">[]</span></code>.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">bisection</span><span class="p">(</span><span class="n">f</span><span class="p">,</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">n</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">f</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="o">*</span> <span class="n">f</span><span class="p">(</span><span class="n">b</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">[]</span>  <span class="c1"># because f(x) may not have a root between x=a and x=b</span>
    <span class="k">elif</span> <span class="n">n</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>   <span class="c1"># base case when recursion cannot go any deeper</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">]</span> <span class="k">if</span> <span class="n">a</span> <span class="o">&lt;=</span> <span class="n">b</span> <span class="k">else</span> <span class="p">[</span><span class="n">b</span><span class="p">,</span><span class="n">a</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">c</span> <span class="o">=</span> <span class="p">(</span><span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span>  <span class="c1"># bisect the interval between a and b</span>
        <span class="k">return</span> <span class="n">bisection</span><span class="p">(</span><span class="n">f</span><span class="p">,</span><span class="n">a</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="ow">or</span> <span class="n">bisection</span><span class="p">(</span><span class="n">f</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># recursion</span>
    
<span class="c1"># bisection solver</span>
<span class="kn">import</span> <span class="nn">ipywidgets</span> <span class="k">as</span> <span class="nn">widgets</span>
<span class="nd">@widgets</span><span class="o">.</span><span class="n">interact</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">2.5</span><span class="p">,</span><span class="mf">0.5</span><span class="p">),</span><span class="n">b</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">2.5</span><span class="p">,</span><span class="mf">0.5</span><span class="p">),</span><span class="n">n</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
<span class="k">def</span> <span class="nf">bisection_solver</span><span class="p">(</span><span class="n">a</span><span class="o">=-</span><span class="mf">0.5</span><span class="p">,</span><span class="n">b</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span><span class="n">n</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">2.5</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">axhline</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;gray&#39;</span><span class="p">,</span><span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;:&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;$x$&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;Bisection on $f(x)$&#39;</span><span class="p">)</span>
    <span class="p">[</span><span class="n">xstart</span><span class="p">,</span><span class="n">xstop</span><span class="p">]</span> <span class="o">=</span> <span class="n">bisection</span><span class="p">(</span><span class="n">f</span><span class="p">,</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">n</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="n">xstart</span><span class="p">,</span><span class="n">xstop</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span><span class="s1">&#39;r|-&#39;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Interval: &#39;</span><span class="p">,[</span><span class="n">xstart</span><span class="p">,</span><span class="n">xstop</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<p>Try setting the values of <span class="math notranslate nohighlight">\(a\)</span> and <span class="math notranslate nohighlight">\(b\)</span> as follows and change <span class="math notranslate nohighlight">\(n\)</span> to see the change of the interval step-by-step.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bisection</span><span class="p">(</span><span class="n">f</span><span class="p">,</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">0.5</span><span class="p">),</span> <span class="n">bisection</span><span class="p">(</span><span class="n">f</span><span class="p">,</span><span class="mf">1.5</span><span class="p">,</span><span class="mf">0.5</span><span class="p">),</span> <span class="n">bisection</span><span class="p">(</span><span class="n">f</span><span class="p">,</span><span class="o">-</span><span class="mf">0.1</span><span class="p">,</span><span class="mf">2.5</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p><strong>Exercise</strong> Modify the function <code class="docutils literal notranslate"><span class="pre">bisection</span></code> to</p>
<ul class="simple">
<li><p>take the floating point parameter <code class="docutils literal notranslate"><span class="pre">tol</span></code> instead of <code class="docutils literal notranslate"><span class="pre">n</span></code>, and</p></li>
<li><p>return the interval from the bisection method represented by a list <code class="docutils literal notranslate"><span class="pre">[xstart,xstop]</span></code> but as soon as the gap <code class="docutils literal notranslate"><span class="pre">xstop</span> <span class="pre">-</span> <span class="pre">xstart</span></code> is <span class="math notranslate nohighlight">\(\leq\)</span> <code class="docutils literal notranslate"><span class="pre">tol</span></code>.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">bisection</span><span class="p">(</span><span class="n">f</span><span class="p">,</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">tol</span><span class="o">=</span><span class="mf">1e-9</span><span class="p">):</span>
    <span class="c1"># YOUR CODE HERE</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># tests</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="n">f</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">*</span><span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">bisection</span><span class="p">(</span><span class="n">f</span><span class="p">,</span><span class="mf">1.5</span><span class="p">,</span><span class="mf">0.5</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">np</span><span class="o">.</span><span class="n">isclose</span><span class="p">(</span><span class="n">bisection</span><span class="p">(</span><span class="n">f</span><span class="p">,</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">0.5</span><span class="p">),[</span><span class="o">-</span><span class="mf">9.313225746154785e-10</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">])</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
<span class="k">assert</span> <span class="n">np</span><span class="o">.</span><span class="n">isclose</span><span class="p">(</span><span class="n">bisection</span><span class="p">(</span><span class="n">f</span><span class="p">,</span><span class="mf">1.5</span><span class="p">,</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">1e-2</span><span class="p">),</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0078125</span><span class="p">])</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
<span class="k">assert</span> <span class="n">np</span><span class="o">.</span><span class="n">isclose</span><span class="p">(</span><span class="n">bisection</span><span class="p">(</span><span class="n">f</span><span class="p">,</span><span class="o">-</span><span class="mf">0.1</span><span class="p">,</span><span class="mf">2.5</span><span class="p">,</span><span class="mf">1e-3</span><span class="p">),</span> <span class="p">[</span><span class="mf">1.9998046875000002</span><span class="p">,</span> <span class="mf">2.0004394531250003</span><span class="p">])</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "ccha23/CS1302ICP",
            ref: "main",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Chung Chan<br/>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    
  <script src="_static/js/index.3da636dd464baa7582d2.js"></script>


    
  </body>
</html>